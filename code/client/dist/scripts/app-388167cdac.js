!function(){"use strict";angular.module("ppulse",["ngAnimate","ngCookies","ngMaterial","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ui.bootstrap","toastr","ngStorage","ui-rangeSlider","firebase","ngFileUpload","satellizer","angular-svg-round-progressbar","FBAngular"])}(),function(){"use strict";function e(e,t,i,a,s,o,n,r,l,c){function d(){b(),T()}function h(){D(),r.hide()}function u(){W.commanService.getCities().then(function(e){W.cities=angular.copy(e.data.ppulse.data),W.preRequNumber++,D()})["catch"](function(e){a.log(e)})}function p(){W.commanService.getAlerts(H.token).then(function(e){W.alerts=angular.copy(e.data.ppulse.data),W.preRequNumber++,D()})["catch"](function(e){a.log(e)})}function m(){W.commanService.getLanguages().then(function(e){W.query.languages=angular.copy(e.data.ppulse.data.languages),W.preRequNumber++,D()})["catch"](function(e){a.log(e)})}function g(){W.commanService.getSources().then(function(e){W.query.sources=angular.copy(e.data.ppulse.data.sources),W.preRequNumber++,D()})["catch"](function(e){a.log(e)})}function v(){W.listeningAnalysisService.getMentionsByCity(W.query,H.token).then(function(e){var t=angular.copy(e.data.ppulse.data.citydata);W.mapData=angular.copy(e.data.ppulse.data.citydata);for(var i=10,a=20,s=1/0,o=-(1/0),n=0;n<t.length;n++){var r=t[n].mentions;s>r&&(s=r),r>o&&(o=r)}var l=a*a*2*Math.PI,c=i*i*2*Math.PI,d=[];for(n=0;n<t.length;n++){var h=t[n],r=h.mentions,u=(r-s)/(o-s)*(l-c)+c;c>u&&(u=c);var p=Math.sqrt(u/(2*Math.PI));d.push({type:"circle",theme:"light",width:p,height:p,color:"#7CB5EC",longitude:h.longitude,latitude:h.latitude,title:h.name+" "+r,value:r})}AmCharts.makeChart("mapChartdiv",{type:"map",projection:"eckert6",dragMap:!1,titles:[{text:"",size:18,bold:!1}],areasSettings:{},zoomControl:{zoomControlEnabled:!1,homeButtonEnabled:!1},dataProvider:{map:"pakistanLow",images:d},"export":{enabled:!0}})})["catch"](function(e){a.log(e)})}function f(){W.insightService.getTopics(W.query,H.token).then(function(e){var t={colorAxis:{minColor:"#EFF6FD",maxColor:Highcharts.getOptions().colors[0]},series:[],title:{text:"Topics"}},i=angular.copy(e.data.ppulse.data),a=[],s=0;i.sort(function(e,t){return parseFloat(t.score)-parseFloat(e.score)});for(var o=0;o<i.length;o++){try{i[o].score!==i[o-1].score&&s++}catch(n){}a.push({name:i[o].topic,value:i[o].score,colorValue:s})}t.series.push({type:"treemap",layoutAlgorithm:"squarified",data:a}),j=O("treeMapChart",t)})["catch"](function(e){a.log(e)})}function b(){W.listeningAnalysisService.getVolumeOverTime(W.query,H.token).then(function(e){W.processing++;var t={chart:{type:"areaspline"},title:{text:"Volume Over Time",margin:30},yAxis:{title:{enabled:!0,text:"Mentions",style:{fontSize:"16px"},margin:30}},xAxis:{categories:[]},legend:{enabled:!1},series:[]},i=angular.copy(e.data.ppulse.data);t.series.push({name:"Mentions",data:i.values,marker:{fillColor:"#7bb5eb"},lineColor:"#7bb5eb",color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(5,139,188,0.5)"],[1,"rgba(5,139,188,0)"]]}}),t.xAxis.categories=i.axis,P=O("volume-over-time",t)})["catch"](function(e){a.log(e)})}function y(){W.listeningAnalysisService.getReachOverTime(W.query,H.token).then(function(e){W.processing++;var t={title:{text:"Reach Evolution",margin:30},yAxis:{title:{enabled:!0,text:"Reach",style:{fontSize:"16px"},margin:30}},xAxis:{categories:[]},legend:{enabled:!1},series:[]},i=angular.copy(e.data.ppulse.data);t.xAxis.categories=i.axis,t.series.push({data:i.values,marker:{fillColor:"#7bb5eb"},lineColor:"#7bb5eb",color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(124 ,181 , 236 ,0.5)"],[1,"rgba(124 ,181 , 236 ,0)"]]}}),B=O("reach-evolution",t)})["catch"](function(e){a.log(e)})}function x(){W.listeningAnalysisService.getActivitiesByDay(W.query,H.token).then(function(e){W.processing++;var t={chart:{zoomType:"xy"},title:{text:"Activity By Days",margin:30},xAxis:[{categories:[],crosshair:!0}],yAxis:[{labels:{format:"{value} Tweets",style:{color:Highcharts.getOptions().colors[1]}},title:{text:"",style:{color:Highcharts.getOptions().colors[1]}}},{title:{text:"Tweets"},labels:{format:"{value}"},style:{fontSize:"16px"},margin:30,opposite:!1}],tooltip:{shared:!0},legend:{enabled:!1,layout:"vertical",align:"left",x:120,verticalAlign:"top",y:100,floating:!0,backgroundColor:Highcharts.theme&&Highcharts.theme.legendBackgroundColor||"#FFFFFF"},series:[]},i=angular.copy(e.data.ppulse.data);t.xAxis[0].categories=i.axis,t.series.push({type:"column",name:"Mentions",yAxis:1,data:i.values}),t.series.push({marker:{fillColor:"#3F86B9",lineColor:"#7bb5eb"},lineColor:"#7bb5eb",name:"Mentions",type:"spline",yAxis:1,data:i.values,tooltip:{valueSuffix:"Tweets"}}),F=O("activity-by-day",t)})["catch"](function(e){a.log(e)})}function w(){W.listeningAnalysisService.getTopReachTwitter(W.query,H.token).then(function(e){W.processing++,W.topReachTwitter=angular.copy(e.data.ppulse.data.reach)})["catch"](function(e){a.log(e)})}function L(){W.listeningAnalysisService.getTopReachWeb(W.query,H.token).then(function(e){W.processing++,W.topReachWeb=angular.copy(e.data.ppulse.data.reach)})["catch"](function(e){a.log(e)})}function S(){W.listeningAnalysisService.getTwitterInfluencers(W.query,H.token).then(function(e){W.processing++,W.twitterInfluencers=angular.copy(e.data.ppulse.data.influencers)})["catch"](function(e){a.log(e)})}function C(){W.listeningAnalysisService.getWebInfluencers(W.query,H.token).then(function(e){W.processing++,W.webInfluencers=angular.copy(e.data.ppulse.data.influencers)})["catch"](function(e){a.log(e)})}function N(){W.listeningAnalysisService.getMentionBySources(W.query,H.token).then(function(e){W.processing++,W.mentionBySources=angular.copy(e.data.ppulse.data.values);var t=W.mentionBySources.Facebook.value+W.mentionBySources.Twitter.value+W.mentionBySources.Web.value;W.mentionBySources.Facebook.percentage=W.mentionBySources.Facebook.value/t*100,W.mentionBySources.Twitter.percentage=W.mentionBySources.Twitter.value/t*100,W.mentionBySources.Web.percentage=W.mentionBySources.Web.value/t*100})["catch"](function(e){a.log(e)})}function A(){W.listeningAnalysisService.getSentimentOverTime(W.query,H.token).then(function(e){W.processing++;var t=angular.copy(e.data.ppulse.data),i={chart:{type:"column"},title:{text:"Sentiments",margin:30},colors:["#FF0000","#26CE26"],xAxis:{categories:[]},credits:{enabled:!1},series:[]};i.series.push({name:"Negative",data:t.negative}),i.series.push({name:"Positive",data:t.positive}),i.xAxis.categories=angular.copy(t.axis),I=O("sentiments",i)})["catch"](function(e){a.log(e)})}function k(){W.listeningAnalysisService.keywordSentiments(W.query,H.token).then(function(e){W.processing++;for(var t=angular.copy(e.data.ppulse.data),i=0;i<t.length;i++){var a={chart:{type:"column"},title:{text:t[i].name+" Sentiments",margin:30},xAxis:{categories:[]},credits:{enabled:!1},series:[]};a.series.push({name:"Negative",data:t[i].negative}),a.series.push({name:"Positive",data:t[i].positive}),a.xAxis.categories=angular.copy(t[i].axis);var s='<div class="col-xs-6 reduce-padding"><md-card><div class="graph-header" id="sentimentGraph'+i+'"  style="padding: 20px;height: 300px;"></div></md-card></div>';angular.element("#graph-layer").append(s),I=O("sentimentGraph"+i,a)}})["catch"](function(e){a.log(e)})}function T(){W.listeningAnalysisService.getTopStats(W.query,H.token).then(function(e){W.processing++,W.topStats=e.data.ppulse.data})["catch"](function(e){a.log(e)})}function M(){W.listeningAnalysisService.getLanguageStats(W.query,H.token).then(function(e){W.processing++;var t={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Languages"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},innerSize:"80%",showInLegend:!0}},series:[{name:"Language",colorByPoint:!0,data:[]}]},i=angular.copy(e.data.ppulse.data.data);t.series.push({name:"",data:i}),R=O("languages-pie",t)})["catch"](function(e){a.log(e)})}function O(e,t){return Highcharts.chart(e,t)}function D(){W.topReachTwitter=void 0,W.topReachWeb=void 0,W.twitterInfluencers=void 0,W.webInfluencers=void 0,W.mentionBySources=void 0,W.topStats=void 0,W.processing=0,4===W.preRequNumber&&(b(),T(),M(),y(),x(),w(),L(),S(),C(),N(),A(),f(),v(),k(),Highcharts.setOptions({lang:{thousandsSep:","}}))}function z(){p(),u(),m(),g()}var I,P,R,B,F,j,W=this,H={token:""};H.token=e.sessionid,W.competitiveAnalysisService=o,W.listeningAnalysisService=n,W.commanService=l,W.insightService=c,W.alertChanged=d,W.execQuery=h,W.init=z,W.generateGraphs=D,W.cities=[],W.alerts=[],W.query={alertid:e.alertid,idate:e.idate,edate:e.edate,sources:[],languages:[],pos:!0,neg:!0,infulencerMin:0,infulencerMax:100,searchWord:"",day:"",myLastTimestamp:"",loadMore:"",cities:[],tag:""},W.preRequNumber=0,W.topStats={},W.processing=0,W.init();d3.selectAll("circle")}e.$inject=["$stateParams","$state","toastr","$log","authService","CompetitiveAnalysisService","ListeningAnalysisService","$mdDialog","CommanService","InsightService"],angular.module("ppulse").controller("ListeningAnalysisPdfController",e)}(),function(){angular.module("ppulse").service("ListeningAnalysisService",["$http","config",function(e,t){this.mailReportCsv=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/mailReportCsv.php",data:i,headers:{"access-token":a}};return e(s)},this.mailReportPdf=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/mailReportPdf.php",data:i,headers:{"access-token":a}};return e(s)},this.mailReportPdfStats=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/mailReportPdfStats.php",data:i,headers:{"access-token":a}};return e(s)},this.getMentionsByCity=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/getMentionsByCity.php",data:i,headers:{"access-token":a}};return e(s)},this.getTopStats=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/dashboardTopStats.php",data:i,headers:{"access-token":a}};return e(s)},this.getVolumeOverTime=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/volumeOverTime.php",data:i,headers:{"access-token":a}};return e(s)},this.getLanguageStats=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/getLanguageStats.php",data:i,headers:{"access-token":a}};return e(s)},this.getReachOverTime=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/getReachOverTime.php",data:i,headers:{"access-token":a}};return e(s)},this.getActivitiesByDay=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/getActivitiesByDay.php",data:i,headers:{"access-token":a}};return e(s)},this.getTopReachTwitter=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/getTopReachTwitter.php",data:i,headers:{"access-token":a}};return e(s)},this.getTopReachWeb=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/getTopReachWeb.php",data:i,headers:{"access-token":a}};return e(s)},this.getTwitterInfluencers=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/getTwitterInfluencers.php",data:i,headers:{"access-token":a}};return e(s)},this.getWebInfluencers=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/getWebInfluencers.php",data:i,headers:{"access-token":a}};return e(s)},this.getMentionBySources=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/getMentionBySources.php",data:i,headers:{"access-token":a}};return e(s)},this.getSentimentOverTime=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/getSentimentOverTime.php",data:i,headers:{"access-token":a}};return e(s)},this.keywordSentiments=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/keywordSentiments.php",data:i,headers:{"access-token":a}};return e(s)}}])}(),function(){"use strict";function e(e,t,i,a,s,o,n,r,l,c,d,h){function u(){L(),D()}function p(e){n.show({contentElement:"#filter",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})}function m(){j(),n.hide()}function g(){n.hide()}function v(){var e=d.defer();return G.commanService.getCities().then(function(t){try{G.cities=angular.copy(t.data.ppulse.data)}catch(a){i.log(t)}e.resolve()})["catch"](function(t){e.reject(t)}),e.promise}function f(){var e=d.defer();return G.commanService.getAlerts($.token).then(function(t){try{G.alerts=angular.copy(t.data.ppulse.data),null===G.query.alertid&&(G.query.alertid=G.alerts[0].alertid)}catch(a){i.log(t)}e.resolve()})["catch"](function(t){e.reject(t)}),e.promise}function b(){var e=d.defer();return G.commanService.getLanguages().then(function(t){try{0===G.query.languages.length&&(G.query.languages=angular.copy(t.data.ppulse.data.languages))}catch(a){i.log(t)}e.resolve()})["catch"](function(t){e.reject(t)}),e.promise}function y(){var e=d.defer();return G.commanService.getSources().then(function(t){try{0===G.query.sources.length&&(G.query.sources=angular.copy(t.data.ppulse.data.sources))}catch(a){i.log(t)}e.resolve()})["catch"](function(t){e.reject(t)}),e.promise}function x(){G.listeningAnalysisService.getMentionsByCity(G.query,$.token).then(function(e){try{for(var t=angular.copy(e.data.ppulse.data.citydata),a=5,s=20,o=1/0,n=-(1/0),r=0;r<t.length;r++)if("untagged"!==t[r].name){var l=t[r].mentions;o>l&&(o=l),l>n&&(n=l)}var c=s*s*2*Math.PI,d=a*a*2*Math.PI,h=[];for(r=0;r<t.length;r++){var u=t[r],l=u.mentions,p=u.latitude,m=u.longitude,g=(l-o)/(n-o)*(c-d)+d;d>g&&(g=d);var v=Math.sqrt(g/(2*Math.PI));(v===1/0||v===-(1/0))&&(v=0,p=0,m=0),h.push({type:"circle",theme:"light",width:v,height:v,color:"rgba(124, 181, 236, 0.6)",longitude:m,latitude:p,title:u.name+" ("+l+")",value:l})}AmCharts.makeChart("mapChartdiv",{type:"map",projection:"eckert6",titles:[{text:"",size:18,bold:!1}],areasSettings:{},dataProvider:{map:"pakistanLow",images:h},listeners:[{event:"clickGraphItem",method:function(e){}}]})}catch(f){i.log(e)}})["catch"](function(e){i.log(e)})}function w(){G.insightService.getTopics(G.query,$.token).then(function(t){try{var a={colorAxis:{minColor:"#EFF6FD",maxColor:Highcharts.getOptions().colors[0]},legend:{enabled:!1},series:[],labels:{style:{color:"#F00"}},title:{text:"Topics"},plotOptions:{series:{cursor:"pointer",point:{events:{click:function(){G.query.searchWord=angular.copy(this.name),G.commanService.setQuery(G.query),e.go("feed")}}}}}},s=angular.copy(t.data.ppulse.data),o=[],n=0;s.sort(function(e,t){return parseFloat(t.score)-parseFloat(e.score)});for(var r=0;r<s.length;r++){try{s[r].score!==s[r-1].score&&n++}catch(l){i.log("First Topic")}o.push({name:s[r].topic,value:s[r].score,colorValue:n})}a.series.push({type:"treemap",layoutAlgorithm:"squarified",data:o}),U=I("treeMapChart",a)}catch(l){i.log("Topics error"),i.log(t)}})["catch"](function(e){i.log(e)})}function L(){G.listeningAnalysisService.getVolumeOverTime(G.query,$.token).then(function(t){G.processing++;try{var a={chart:{type:"areaspline"},lang:{thousandsSep:","},title:{text:"Volume Over Time",margin:30},yAxis:{title:{enabled:!0,text:"Mentions",style:{fontSize:"16px"},margin:30}},xAxis:{categories:[]},legend:{enabled:!1},plotOptions:{series:{cursor:"pointer",point:{events:{click:function(){try{G.query.idate=c(this.category+(new Date).getFullYear())._d,G.query.edate=angular.copy(G.query.idate),isNaN(G.query.edate)||G.commanService.setQuery(G.query),e.go("feed")}catch(t){i.log(t)}}}}}},series:[]},s=angular.copy(t.data.ppulse.data);a.series.push({name:"Mentions",data:s.values,marker:{fillColor:"#7bb5eb"},lineColor:"#7bb5eb",color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(5,139,188,0.5)"],[1,"rgba(5,139,188,0)"]]}}),a.xAxis.categories=s.axis,Y=I("volume-over-time",a)}catch(o){i.log(t)}})["catch"](function(e){i.log(e),G.processing++})}function S(){G.listeningAnalysisService.getReachOverTime(G.query,$.token).then(function(t){G.processing++;try{var a=1e3,s=1e6,o=1e9,n={title:{text:"Reach Evolution",margin:30},lang:{numericSymbols:["k","M","B","T","P","E"],thousandsSep:","},yAxis:{labels:{formatter:function(){var e=this.axis.max;return e>a&&s>=e?(this.value/a).toFixed()+" K":e>s&&o>=e?(this.value/s).toFixed()+" M":e>o?(this.value/o).toFixed()+" B":this.value+" B"},format:"{value} Reach"},title:{enabled:!0,text:"Reach",style:{fontSize:"16px"},margin:30}},plotOptions:{series:{cursor:"pointer",point:{events:{click:function(){G.query.idate=c(this.category+(new Date).getFullYear())._d,G.query.edate=angular.copy(G.query.idate),G.commanService.setQuery(G.query),e.go("feed")}}}}},xAxis:{categories:[]},legend:{enabled:!1},series:[]},r=angular.copy(t.data.ppulse.data);n.xAxis.categories=r.axis,n.series.push({name:"Reach",data:r.values,marker:{fillColor:"#7bb5eb"},lineColor:"#7bb5eb",color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(124 ,181 , 236 ,0.5)"],[1,"rgba(124 ,181 , 236 ,0)"]]}}),q=I("reach-evolution",n)}catch(l){i.log(t)}})["catch"](function(e){i.log(e),G.processing++})}function C(){G.listeningAnalysisService.getActivitiesByDay(G.query,$.token).then(function(t){G.processing++;try{var a={chart:{zoomType:"xy"},title:{text:"Activity By Days",margin:30},xAxis:[{categories:[],crosshair:!0}],yAxis:[{allowDecimals:!1,labels:{format:"{value} Mentions",style:{color:Highcharts.getOptions().colors[1]}},title:{text:"",style:{color:Highcharts.getOptions().colors[1]}}},{allowDecimals:!1,title:{text:"Mentions"},labels:{format:"{value}"},style:{fontSize:"16px"},margin:30,opposite:!1}],tooltip:{shared:!0},plotOptions:{series:{cursor:"pointer",point:{events:{click:function(){G.query.day=angular.copy(this.category),G.commanService.setQuery(G.query),e.go("feed")}}}}},legend:{enabled:!1,layout:"vertical",align:"left",x:120,verticalAlign:"top",y:100,floating:!0,backgroundColor:Highcharts.theme&&Highcharts.theme.legendBackgroundColor||"#FFFFFF"},series:[]},s=angular.copy(t.data.ppulse.data);a.xAxis[0].categories=s.axis,a.series.push({type:"column",name:"Mentions",yAxis:1,data:s.values}),V=I("activity-by-day",a)}catch(o){i.log(t)}})["catch"](function(e){i.log(e),G.processing++})}function N(){G.listeningAnalysisService.getTopReachTwitter(G.query,$.token).then(function(e){G.processing++;try{G.topReachTwitter=angular.copy(e.data.ppulse.data.reach)}catch(t){i.log(e)}})["catch"](function(e){i.log(e),G.processing++})}function A(){G.listeningAnalysisService.getTopReachWeb(G.query,$.token).then(function(e){G.processing++;try{G.topReachWeb=angular.copy(e.data.ppulse.data.reach)}catch(t){i.log(e)}})["catch"](function(e){i.log(e),G.processing++})}function k(){G.listeningAnalysisService.getTwitterInfluencers(G.query,$.token).then(function(e){G.processing++;try{G.twitterInfluencers=angular.copy(e.data.ppulse.data.influencers)}catch(t){i.log(e)}})["catch"](function(e){i.log(e),G.processing++})}function T(){G.listeningAnalysisService.getWebInfluencers(G.query,$.token).then(function(e){G.processing++;try{G.webInfluencers=angular.copy(e.data.ppulse.data.influencers)}catch(t){i.log(e)}})["catch"](function(e){i.log(e),G.processing++})}function M(){G.listeningAnalysisService.getMentionBySources(G.query,$.token).then(function(e){G.processing++;try{G.mentionBySources=angular.copy(e.data.ppulse.data.values);var t=G.mentionBySources.Facebook.value+G.mentionBySources.Twitter.value+G.mentionBySources.Web.value;G.mentionBySources.Facebook.percentage=G.mentionBySources.Facebook.value/t*100,G.mentionBySources.Twitter.percentage=G.mentionBySources.Twitter.value/t*100,G.mentionBySources.Web.percentage=G.mentionBySources.Web.value/t*100}catch(a){i.log(e)}})["catch"](function(e){i.log(e)})}function O(){G.listeningAnalysisService.getSentimentOverTime(G.query,$.token).then(function(t){G.processing++;try{var a=angular.copy(t.data.ppulse.data),s={chart:{type:"column"},title:{text:"Sentiment",margin:30},colors:["#FF0000","#26CE26"],xAxis:{categories:[]},credits:{enabled:!1},plotOptions:{column:{stacking:"normal"},series:{cursor:"pointer",point:{events:{click:function(){this.y>0?(G.query.neg=!1,G.query.pos=!0):this.y<0&&(G.query.neg=!0,G.query.pos=!1);var t=c(this.category+(new Date).getFullYear())._d;isNaN(t)||(G.query.idate=angular.copy(t),G.query.edate=angular.copy(G.query.idate),G.commanService.setQuery(G.query)),e.go("feed")}}}}},series:[]};s.series.push({name:"Negative",data:a.negative}),s.series.push({name:"Positive",data:a.positive}),s.xAxis.categories=angular.copy(a.axis),E=I("sentiments",s)}catch(o){i.log(t)}})["catch"](function(e){i.log(e),G.processing++})}function D(){G.listeningAnalysisService.getTopStats(G.query,$.token).then(function(e){G.processing++;try{G.topStats=e.data.ppulse.data}catch(t){i.log(e)}})["catch"](function(e){i.log(e),G.processing++})}function z(){G.listeningAnalysisService.getLanguageStats(G.query,$.token).then(function(t){G.processing++;try{var a=angular.copy(t.data.ppulse.data.data),s={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Languages"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},innerSize:"80%",showInLegend:!0},series:{cursor:"pointer",point:{events:{click:function(){for(var t=0;t<G.query.languages.length;t++)G.query.languages[t].name===this.name?G.query.languages[t].value="true":G.query.languages[t].value=!1;G.commanService.setQuery(G.query),e.go("feed")}}}}},series:[{name:"Language",colorByPoint:!0,data:[]}]};s.series.push({name:"Percentage",data:a}),X=I("languages-pie",s)}catch(o){i.log(t)}})["catch"](function(e){i.log(e),G.processing++})}function I(e,t){return Highcharts.chart(e,t)}function P(e,t){G.pdfReportType=t,n.show({contentElement:"#download-popup",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})}function R(){n.hide(),G.downloadProcessing=!0,G.listeningAnalysisService.mailReportPdfStats(G.query,$.token).then(function(e){h.open(e.data.ppulse.data.download,"_blank"),G.downloadProcessing=!1})["catch"](function(e){i.log(e)})}function B(){n.hide(),G.downloadProcessing=!0,G.listeningAnalysisService.mailReportCsv(G.query,$.token).then(function(e){h.open(e.data.ppulse.data.download,"_blank"),G.downloadProcessing=!1})["catch"](function(e){i.log(e)})}function F(){n.hide(),G.downloadProcessing=!0,G.listeningAnalysisService.mailReportPdf(G.query,$.token).then(function(e){h.open(e.data.ppulse.data.download,"_blank"),G.downloadProcessing=!1})["catch"](function(e){i.log(e)})}function j(){G.commanService.setQuery(G.query),G.topReachTwitter=void 0,G.topReachWeb=void 0,G.twitterInfluencers=void 0,G.webInfluencers=void 0,G.mentionBySources=void 0,G.topStats=void 0,G.processing=0,L(),D(),z(),S(),C(),N(),A(),k(),T(),M(),O(),w(),x(),Highcharts.setOptions({lang:{thousandsSep:","}})}function W(t){for(var i=0;i<G.query.sources.length;i++)G.query.sources[i].name===t?G.query.sources[i].value="true":G.query.sources[i].value=!1;G.commanService.setQuery(G.query),e.go("feed")}function H(){var e=G.commanService.getQuery();null!==e&&(G.query=angular.copy(e));var t=v(),a=f(),s=b(),o=y();d.all([t,a,s,o]).then(function(e){j()})["catch"](function(e){i.log(e)})}var E,Y,X,q,V,U,G=this,$=angular.copy(a.getUser());G.competitiveAnalysisService=s,G.listeningAnalysisService=o,G.commanService=r,G.insightService=l,G.alertChanged=u,G.showFilter=p,G.execQuery=m,G.init=H,G.generateGraphs=j,G.mailReportPdfStats=R,G.mailReportCsv=B,G.mailReportPdf=F,G.sourceClick=W,G.showDownloadFilters=P,G.closePopup=g,G.pdfReportType="",G.cities=[],G.alerts=[],G.query={alertid:null,idate:"2017-03-15",edate:"2017-03-15",sources:[],languages:[],pos:!0,neg:!0,infulencerMin:0,infulencerMax:100,searchWord:"",day:"",myLastTimestamp:"",loadMore:"",cities:[],tag:""},G.topStats=void 0,G.processing=0,G.downloadProcessing=!1,$?G.init():e.go("login")}e.$inject=["$state","toastr","$log","authService","CompetitiveAnalysisService","ListeningAnalysisService","$mdDialog","CommanService","InsightService","moment","$q","$window"],angular.module("ppulse").controller("ListeningAnalysisController",e)}(),function(){angular.module("ppulse").service("CompetitiveAnalysisService",["$http","config",function(e,t){this.competitiveByRegion=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/competitiveByRegion.php",data:i,headers:{"access-token":a}};return e(s)},this.getAlerts=function(i){var a={method:"post",url:t.apiUrl+"/ppulse/getAlertStats.php",headers:{"access-token":i}};return e(a)},this.getFeed=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/getAlertData.php",data:i,headers:{"access-token":a}};return e(s)},this.getMentions=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/competitiveCounts.php",data:i,headers:{"access-token":a}};return e(s)},this.getCompetitiveVolumeAndReach=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/competitiveVolumeAndReach.php",data:i,headers:{"access-token":a}};return e(s)},this.getCompetitiveLanguages=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/competitiveLanguages.php",data:i,headers:{"access-token":a}};return e(s)},this.getCompetitiveDailyActivity=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/competitiveDailyActivity.php",data:i,headers:{"access-token":a}};return e(s)}}])}(),function(){"use strict";function e(e,t,i,a,s,o,n,r,l){function c(e){r.show({contentElement:"#filter",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})}function d(){var e=angular.copy(T.query.alertid.length);e>2?(T.query.alertid.splice(e-1,1),t.info("Only two alerts can be selected")):2===e&&f()}function h(){f(),r.hide()}function u(){T.competitiveAnalysisService.getCompetitiveVolumeAndReach(T.query,M.token).then(function(e){T.processing++;for(var t,i=angular.copy(e.data.ppulse.data),a={title:{text:"Share of Voice Over Time",margin:30},legend:{allItems:[]},xAxis:{allowDecimals:!1,labels:{formatter:function(){return this.value}},categories:[]},yAxis:{title:{text:"Mentions",margin:20},labels:{formatter:function(){return this.value/1e3+"k"}}},tooltip:{pointFormat:"{series.name} <b>{point.y:,.0f}</b>"},series:[]},s={chart:{type:"areaspline"},title:{text:"Reach Evolution",margin:30},legend:{allItems:[]},xAxis:{allowDecimals:!1,labels:{formatter:function(){return this.value}},categories:[]},yAxis:{title:{text:"Reach",margin:20},labels:{formatter:function(){return this.value/1e6+"M"}}},tooltip:{pointFormat:"{series.name} <b>{point.y:,.0f}</b>"},series:[]},o=0;o<i.data.length;o++){for(var n=0;n<T.alerts.length;n++)T.alerts[n].alertid===i.data[o].id&&(t=angular.copy(T.alerts[n].name));a.legend.allItems.push({name:t}),a.series.push({name:t,data:i.data[o].volume}),s.legend.allItems.push({name:t}),s.series.push({name:t,data:i.data[o].reach})}a.xAxis.categories=angular.copy(i.axis),s.xAxis.categories=angular.copy(i.axis),N=b("share-voice-area",a),A=b("reach-evolution",s)})["catch"](function(e){i.log(e),T.processing++})}function p(){T.competitiveAnalysisService.getCompetitiveLanguages(T.query,M.token).then(function(e){T.processing++;for(var t,i=angular.copy(e.data.ppulse.data),a={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Share of Voice",margin:30},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},innerSize:"80%",showInLegend:!0}},series:[{name:"Mentions",colorByPoint:!0,data:[]}]},s=0;s<i.length;s++){for(var o=0;o<T.alerts.length;o++)T.alerts[o].alertid===i[s].id&&(t=angular.copy(T.alerts[o].name));a.series=[],a.series.push({name:"Mentions",colorByPoint:!0,data:[]});for(var n=0,r=0;r<i[s].data.length;r++)n+=i[s].data[r].val;for(r=0;r<i[s].data.length;r++)a.series[0].data.push({y:100*i[s].data[r].val/n,name:i[s].data[r].lang});a.title=angular.copy(t),O[s]=b("language-"+(s+1),a)}})["catch"](function(e){i.log(e),T.processing++})}function m(){T.competitiveAnalysisService.competitiveByRegion(T.query,M.token).then(function(e){T.mapGraphLegends=[];for(var t,i,a=angular.copy(e.data.ppulse.data[0].values),s=angular.copy(e.data.ppulse.data[1].values),o=a.concat(s),n=0;n<T.alerts.length;n++)T.alerts[n].alertid===e.data.ppulse.data[0].id?t=angular.copy(T.alerts[n].name):T.alerts[n].alertid===e.data.ppulse.data[1].id&&(i=angular.copy(T.alerts[n].name));for(var r=[],l=0;l<o.length;l++)for(var c=l+1;c<o.length;c++)o[l].name===o[c].name&&(r.push({cityName:o[l].name,compare:[{category:o[l].id,value:o[l].mentions},{category:o[c].id,value:o[c].mentions}]}),o.splice(c,1),c--);for(var d=10,h=50,u=1/0,p=-(1/0),m=0;m<o.length;m++){var g=o[m].mentions;u>g&&(u=g),g>p&&(p=g)}var v=h*h*2*Math.PI,f=d*d*2*Math.PI,b=[],y=[];y.push("rgba(124,181,236,0.5)"),y.push("rgba(0,0,0,0.2)");for(var m=0;m<a.length;m++){var x=a[m],g=x.mentions,w=(g-u)/(p-u)*(v-f)+f;f>w&&(w=f);var L=Math.sqrt(w/(2*Math.PI));b.push({type:"circle",theme:"light",width:L,height:L,color:y[0],showBaloon:!1,longitude:x.longitude,latitude:x.latitude,title:x.name,value:g})}for(var m=0;m<s.length;m++){var x=s[m],g=x.mentions,w=(g-u)/(p-u)*(v-f)+f;f>w&&(w=f);var L=Math.sqrt(w/(2*Math.PI));b.push({type:"circle",theme:"light",width:L,height:L,color:y[1],showBaloon:!1,longitude:x.longitude,latitude:x.latitude,title:x.name,value:g})}AmCharts.makeChart("mapChartdiv",{type:"map",projection:"eckert6",dragMap:!1,titles:[{text:"",size:18,bold:!1}],areasSettings:{},dataProvider:{map:"pakistanLow",images:b},zoomControl:{zoomControlEnabled:!1,homeButtonEnabled:!1},"export":{enabled:!0},listeners:[{event:"clickMapObject",method:function(e){void 0!==e.mapObject.svgPath&&(e.mapObject.svgPath=starSVG,e.mapObject.validate())}}]});T.mapGraphLegends.push({name:t,color:y[0]}),T.mapGraphLegends.push({name:i,color:y[1]})})["catch"](function(e){i.log(e)})}function g(){T.competitiveAnalysisService.getCompetitiveDailyActivity(T.query,M.token).then(function(e){T.processing++;for(var t,i=angular.copy(e.data.ppulse.data),a={chart:{type:"column"},title:{text:"Daily Activity",margin:30},xAxis:{categories:[],crosshair:!0},yAxis:{title:{text:"Mentions",margin:20},labels:{formatter:function(){return this.value/1e3+"k"}}},series:[]},s=0;s<i.data.length;s++){for(var o=0;o<T.alerts.length;o++)T.alerts[o].alertid===i.data[s].id&&(t=angular.copy(T.alerts[o].name));a.series.push({name:t,data:i.data[s].values})}a.xAxis.categories=angular.copy(i.axis),k=b("daily-activity",a)})["catch"](function(e){i.log(e),T.processing++})}function v(){T.competitiveAnalysisService.getMentions(T.query,M.token).then(function(e){T.processing++;var t,i=[],a=0,s={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Share of Voice"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},innerSize:"80%",showInLegend:!0}},series:[]},o=angular.copy(e.data.ppulse.data);T.startAnimation=!0;for(var n=0;n<o.length;n++){a+=o[n].total;var r=o[n].Facebook+o[n].Twitter+o[n].Web;o[n].facebookPercentage=o[n].Facebook/r*100,o[n].twitterPercentage=o[n].Twitter/r*100,o[n].webPercentage=o[n].Web/r*100}for(n=0;n<o.length;n++){for(var l=0;l<T.alerts.length;l++)T.alerts[l].alertid===o[n].id&&(t=angular.copy(T.alerts[l].name),o[n].alertName=angular.copy(T.alerts[l].name));i.push({y:o[n].total/a*100,name:t})}T.topStats=o,s.series.push({name:"Mentions",colorByPoint:!0,data:i}),C=b("share-voice-pie",s)})["catch"](function(e){i.log(e),T.processing++})}function f(){D===!1&&(T.processing=0,T.startAnimation=!1,D=!0,v(),u(),p(),g(),m(),e(function(){D=!1},5e3))}function b(e,t){return Highcharts.chart(e,t)}function y(){var e=l.defer();return T.commanService.getAlerts(M.token).then(function(t){T.alerts=angular.copy(t.data.ppulse.data),T.query.alertid=[],T.query.alertid.push(T.alerts[0].alertid),T.query.alertid.push(T.alerts[1].alertid),e.resolve()})["catch"](function(t){e.reject(t)}),e.promise}function x(){var e=l.defer();T.commanService.getCities().then(function(t){T.cities=angular.copy(t.data.ppulse.data),e.resolve()})["catch"](function(t){e.reject(t)})}function w(){var e=l.defer();T.commanService.getLanguages().then(function(t){0===T.query.languages.length&&(T.query.languages=angular.copy(t.data.ppulse.data.languages)),e.resolve()})["catch"](function(t){e.reject(t);
})}function L(){var e=l.defer();T.commanService.getSources().then(function(t){0===T.query.sources.length&&(T.query.sources=angular.copy(t.data.ppulse.data.sources)),e.resolve()})["catch"](function(t){e.reject(t)})}function S(){var e=T.commanService.getQuery();null!==e&&(T.query=angular.copy(e)),Highcharts.setOptions({lang:{thousandsSep:","}});var t=x(),a=y(),s=w(),o=L();l.all([t,a,s,o]).then(function(e){f()})["catch"](function(e){i.log(e)})}var C,N,A,k,T=this,M=angular.copy(s.getUser()),O=[{},{}],D=!1;T.competitiveAnalysisService=o,T.commanService=n,T.generateGraphs=f,T.selectAlerts=d,T.execQuery=h,T.init=S,T.showFilter=c,T.query={alertid:null,idate:"2017-03-15",edate:"2017-03-15",sources:[],languages:[],pos:!0,neg:!0,infulencerMin:0,infulencerMax:100,searchWord:"",day:"",myLastTimestamp:"",loadMore:"",cities:[],tag:""},T.alerts=[],T.cities=[],T.searchTerm="",T.preRequNumber=0,T.topStats=[],T.processing=0,T.startAnimation=!1,M?T.init():a.go("login")}e.$inject=["$timeout","toastr","$log","$state","authService","CompetitiveAnalysisService","CommanService","$mdDialog","$q"],angular.module("ppulse").controller("CompetitiveAnalysisController",e)}(),function(){angular.module("ppulse").service("ProfileService",["$http","config",function(e,t){this.updatePersonalInfo=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/updateProfileBasic.php",data:i,headers:{"access-token":a}};return e(s)},this.updateCompanyInfo=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/updateProfileCompany.php",data:i,headers:{"access-token":a}};return e(s)},this.updatePasswordInfo=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/updateProfilePassword.php",data:i,headers:{"access-token":a}};return e(s)}}])}(),function(){"use strict";function e(e,t,i,a,s,o,n,r,l,c){function d(){u.u_name=h.profile.name,u.u_phone=h.profile.phone,u.u_email=h.profile.email,u.u_country=h.profile.country,u.u_language=h.profile.language,u.u_picture=h.profile.picture,u.u_company=h.company.name,u.u_company_size=h.company.size,s.setUser(u)}var h=this,u=angular.copy(s.getUser());h.profileService=n,h.profile={name:u.u_name,phone:u.u_phone,email:u.u_email,country:u.u_country,language:u.u_language,picture:u.u_picture},h.company={name:u.u_company,size:u.u_company_size},h.password={},h.profileImg="./assets/images/profile-settings-profile-picture.png",u||a.go("login"),t.log(u),h.savePersonalInfo=function(){h.profileService.updatePersonalInfo(h.profile,u.token).then(function(t){e.success("Profile information updated successfully!"),d()})["catch"](function(t){e.error("Something went wrong")})},h.saveCompanyInfo=function(){h.profileService.updateCompanyInfo(h.company,u.token).then(function(t){e.success("Profile information updated successfully!"),d()})["catch"](function(t){e.error("Something went wrong")})},h.savePasswordInfo=function(){h.profileService.updatePasswordInfo(h.password,u.token).then(function(t){e.success("Profile information updated successfully!"),d()})["catch"](function(t){e.error("Something went wrong")})},h.log="",h.upload=function(e){e.$error||r.upload({url:c.apiUrl+"/ppulse/updateProfileImage.php",data:{file:e},headers:{"access-token":u.token}}).then(function(e){h.profile.picture=e.data.ppulse.data.image,d()},function(e){t.log(e)},function(e){var t=parseInt(100*e.loaded/e.total);i.log="progress: "+t+"% "+e.config.data.file.name+"\n"+i.log})}}e.$inject=["toastr","$log","$scope","$state","authService","$mdDialog","ProfileService","Upload","$timeout","config"],angular.module("ppulse").controller("ProfileController",e)}(),function(){angular.module("ppulse").service("SocialService",["$http","config",function(e,t){this.competitiveByRegion=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/competitiveByRegion.php",data:i,headers:{"access-token":a}};return e(s)},this.integrateSocialAccount=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/integrateSocialAccount.php",data:i,headers:{"access-token":a}};return e(s)}}])}(),function(){"use strict";function e(e,t,i,a,s,o,n,r,l){function c(){for(var e=angular.copy(h.linked_accounts),t=0;t<e.length;t++)"facebook"===e[t]?d.facebookConnected=!0:"google"===e[t]?d.googleConnected=!0:"instagram"===e[t]?d.instagramConnected=!0:"twitter"===e[t]&&(d.twitterConnected=!0)}var d=this,h=angular.copy(s.getUser());d.socialService=l,d.facebookConnected=!1,d.googleConnected=!1,d.instagramConnected=!1,d.twitterConnected=!1,h?c():a.go("login");var u=new firebase.auth.GoogleAuthProvider,p=new firebase.auth.TwitterAuthProvider;d.authenticate=function(e){"twitter"===e?firebase.auth().signInWithPopup(p).then(function(t){var a=t.credential.accessToken,o=t.credential.secret,n=t.user,r={accountName:e,accessToken:a,accessSecret:o,refreshToken:n.refreshToken};d.socialService.integrateSocialAccount(r,h.token).then(function(t){d.twitterConnected=!0,h.linked_accounts.push(e),s.setUser()})["catch"](function(e){i.log(e)})})["catch"](function(e){console.log(e)}):"google"===e?firebase.auth().signInWithPopup(u).then(function(t){var a=t.credential.accessToken,o=(t.credential.secret,t.user),n={accountName:e,accessToken:a,refreshToken:o.refreshToken};d.socialService.integrateSocialAccount(n,h.token).then(function(t){d.googleConnected=!0,h.linked_accounts.push(e),s.setUser()})["catch"](function(e){i.log(e)})})["catch"](function(e){console.log(e)}):("facebook"===e||"instagram"===e)&&r.authenticate(e).then(function(t){var a={accountName:e,accessToken:t.access_token};d.socialService.integrateSocialAccount(a,h.token).then(function(t){"facebook"===e?d.facebookConnected=!0:"instagram"===e&&(d.instagramConnected=!0),h.linked_accounts.push(e),s.setUser()})["catch"](function(e){i.log(e)})})["catch"](function(e){i.log(e)})}}e.$inject=["$timeout","toastr","$log","$state","authService","$mdDialog","$q","$auth","SocialService"],angular.module("ppulse").controller("SocialController",e)}(),function(){angular.module("ppulse").service("NotificationService",["$http","config",function(e,t){this.getNotificationsSettings=function(i){var a={method:"post",url:t.apiUrl+"/ppulse/getNotificationsData.php",headers:{"access-token":i}};return e(a)},this.updateNotificationSetting=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/updateNotificationSetting.php",data:{data:i},headers:{"access-token":a}};return e(s)}}])}(),function(){"use strict";function e(e,t,i,a,s,o,n,r){var l=this,c=angular.copy(a.getUser());l.notificationService=r,l.notificationsList=[],l.defaultEmail="",l.defaultDesktop="",c||e.go("login"),l.notificationService.getNotificationsSettings(c.token).then(function(e){l.notificationsList=angular.copy(e.data.ppulse.data)})["catch"](function(e){i.log(e)}),l.updateNotification=function(){l.notificationService.updateNotificationSetting(l.notificationsList,c.token).then(function(e){"success"===e.data.ppulse.status?t.success("Notifcation settings updated successfully!"):t.error("Unable to Update notifcation settings!")})["catch"](function(e){t.error("Unable to Update notifcation settings!"),i.log(e)})},l.applyDefault=function(e){if("email"===e)for(var t=0;t<l.notificationsList.length;t++)l.notificationsList[t].mail_freq=angular.copy(l.defaultEmail);else if("desktop"===e)for(var i=0;i<l.notificationsList.length;i++)l.notificationsList[i].desk_freq=angular.copy(l.defaultDesktop);l.updateNotification()}}e.$inject=["$state","toastr","$log","authService","$mdDialog","moment","$q","NotificationService"],angular.module("ppulse").controller("NotificationsController",e)}(),function(){"use strict";function e(e){function t(e,t,i,a,s,o,n,r){function l(){for(var e=0;e<d.filterData.cities.length;e++)if("All"===d.filterData.cities[e]||"all"===d.filterData.cities[e]){d.filterData.cities=[];for(var t=0;t<d.cities.length;t++)d.filterData.cities.push(d.cities[t]);break}}function c(e,i){("sources"===e||"languages"===e)&&(i.value=!i.value),Array.isArray(d.filterData.alertid)||d.commanService.setQuery(d.filterData),d.applyFilter(),d.showFilterClick=!1,r(function(){d.showFilterClick=!0,t.$apply()},3e3)}var d=this,h=angular.copy(s.getUser());h||a.go("login"),d.day=!1,d.week=!0,d.month=!1,d.apply=c,d.citySelect=l,d.commanService=n;var u=new Date,p=!0;d.filterData.idate=e().subtract(7,"days")._d,d.filterData.edate=u,d.showFilterClick=!0,d.alertName="";var m=d.commanService.getQuery();if(null!==m){d.filterData=angular.copy(m);var g=e(d.filterData.edate),v=e(d.filterData.idate),f=g.diff(v,"days");0===f?(d.day=!0,d.week=!1):6===f?(d.day=!1,d.week=!0):(d.day=!1,d.week=!1),d.month=!1}d.selectedPeriod=function(){d.filterData.edate=u,"day"===d.dateSelected?(d.filterData.idate=e().subtract(1,"days")._d,d.day=!0,d.week=!1,d.month=!1):"week"===d.dateSelected?(d.filterData.idate=e().subtract(7,"days")._d,d.day=!1,d.week=!0,d.month=!1):"month"===d.dateSelected&&(d.filterData.idate=e().subtract(1,"M")._d,d.day=!1,d.week=!1,d.month=!0)},d.customDate=function(){d.day=!1,d.week=!1,d.month=!1},t.$watch("vm.filterData.alertid",function(e,t){d.filterData.alertid&&d.commanService.getAlertName(h.token,d.filterData.alertid).then(function(e){d.alertName=e.data.ppulse.data.name})["catch"](function(e){console.log(e)})}),t.$watch("vm.filterData.cities",function(e,t){e!==t&&(p?(d.citySelect(),d.apply(),p=!1,r(function(){p=!0},3e3)):t=e)})}t.$inject=["moment","$scope","$log","$state","authService","$mdDialog","CommanService","$timeout"];var i={restrict:"E",templateUrl:"app/components/directives/stickyFilter/stickyFilter.html",link:function(t,i,a){var s=angular.element(e)[0].body;t.showFilter=!1;var o=function(){var e=angular.copy(s.scrollTop);e>100?(t.showFilter=!0,t.$apply()):"fixed"!==s.style.position&&(t.showFilter=!1,t.$apply())};angular.element(e).on("scroll",o)},scope:{filterData:"=",applyFilter:"=",cities:"="},controller:t,controllerAs:"vm",bindToController:!0};return i}e.$inject=["$document"],angular.module("ppulse").directive("stickyFilter",e)}(),function(){"use strict";function e(){function e(e,t,i,a,s,o,n){function r(){o.hide()}function l(){for(var e=0;e<d.filterData.cities.length;e++)if("All"===d.filterData.cities[e]||"all"===d.filterData.cities[e]){d.filterData.cities=[];for(var t=0;t<d.cities.length;t++)d.filterData.cities.push(d.cities[t]);break}}function c(){Array.isArray(d.filterData.alertid)||d.commanService.setQuery(d.filterData),d.applyFilter()}var d=this,h=angular.copy(s.getUser());h||a.go("login"),d.day=!1,d.week=!0,d.month=!1,d.apply=c,d.citySelect=l,d.closeFilter=r,d.commanService=n;var u=new Date;d.filterData.idate=e().subtract(7,"days")._d,d.filterData.edate=u;var p=d.commanService.getQuery();if(null!==p){d.filterData=angular.copy(p);var m=e(d.filterData.edate),g=e(d.filterData.idate),v=m.diff(g,"days");0===v?(d.day=!0,d.week=!1):6===v?(d.day=!1,d.week=!0):(d.day=!1,d.week=!1),d.month=!1}d.selectedPeriod=function(){d.filterData.edate=u,"day"===d.dateSelected?(d.filterData.idate=e().subtract(1,"days")._d,d.day=!0,d.week=!1,d.month=!1):"week"===d.dateSelected?(d.filterData.idate=e().subtract(7,"days")._d,d.day=!1,d.week=!0,d.month=!1):"month"===d.dateSelected&&(d.filterData.idate=e().subtract(1,"M")._d,d.day=!1,d.week=!1,d.month=!0)},d.customDate=function(){d.day=!1,d.week=!1,d.month=!1}}e.$inject=["moment","$scope","$log","$state","authService","$mdDialog","CommanService"];var t={restrict:"E",templateUrl:"app/components/directives/dashboardFilter/dashboardFilter.html",scope:{filterData:"=",applyFilter:"=",cities:"="},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("ppulse").directive("dashboardFilter",e)}(),function(){"use strict";function e(e,t,i,a,s,o,n,r){function l(t,i){var a=2e4*(i+1);r(function(){e.success(t)},a)}function c(){p.processing=!0,p.credentials.firebaseToken=n.firebaseToken,s.login(p.credentials).success(function(t){if(p.processing=!1,"failed"===t.ppulse.status)p.incorrect=!0,p.errorMsg="Username or Password is Incorrect.";else{var a=t.ppulse.data.incomplete;if(a.length>0)for(var o=0;o<a.length;o++)l(a[o],o);s.setUser(t.ppulse.data),e.success("Have a good day!","Welcome "+t.ppulse.data.u_name),i.go("dashboard.listening-analysis")}}).error(function(e){t.log(e)})}function d(){s.setUser(void 0)}function h(){p.processing=!0,s.forgotPass(p.credentials).success(function(t){p.processing=!1,"failed"===t.ppulse.status?(p.errorMsg=t.ppulse.message,p.incorrect=!0):(e.success("Success","Please check Your Email"),p.forgotPassBool=!1,p.incorrect=!1)}).error(function(e){t.log(e)})}function u(){e.info('Fork <a href="https://github.com/Swiip/generator-gulp-angular" target="_blank"><b>generator-gulp-angular</b></a>'),p.classAnimation=""}var p=this;p.showToastr=u,p.login=c,p.newUser=d,p.confirmReset=h,p.forgotPassBool=!1,p.incorrect=!1,p.processing=!1,p.errorMsg="",p.credentials={},a.token&&a.email&&(p.credentials.token=angular.copy(a.token),p.credentials.email=angular.copy(a.email),p.processing=!0,p.credentials.firebaseToken=angular.copy(n.firebaseToken),s.activteUser(p.credentials).success(function(t){if(p.processing=!1,"failed"===t.ppulse.status)e.error("Something might be wrong","Unable to Activate!");else{var a=t.ppulse.data.incomplete;if(a.length>0)for(var o=0;o<a.length;o++)l(a[o],o);s.setUser(t.ppulse.data),e.success("Activated Successfully!","Welcome to People's Pulse"),i.go("dashboard.listening-analysis")}}).error(function(e){t.log(e)}))}e.$inject=["toastr","$log","$state","$stateParams","authService","$mdDialog","config","$timeout"],angular.module("ppulse").controller("LoginController",e)}(),function(){angular.module("ppulse").service("InsightService",["$http","config",function(e,t){this.getSourceOverTime=function(i,a){var s={method:"post",data:i,url:t.apiUrl+"/ppulse/getSourceOverTime.php",headers:{"access-token":a}};return e(s)},this.getTopics=function(i,a){var s={method:"post",data:i,url:t.apiUrl+"/ppulse/getTopics.php",headers:{"access-token":a}};return e(s)}}])}(),function(){"use strict";function e(e,t,i,a,s,o,n,r,l,c,d,h,u,p){function m(e){o.show({contentElement:"#filter",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})}function g(){M(),j.commanService.setQuery(j.query),o.hide()}function v(){j.commanService.getAlerts(W.token).then(function(e){j.alerts=angular.copy(e.data.ppulse.data),null===j.query.alertid&&(j.query.alertid=j.alerts[0].alertid)})["catch"](function(e){s.log(e)})}function f(){j.commanService.getCities().then(function(e){j.cities=angular.copy(e.data.ppulse.data)})["catch"](function(e){s.log(e)})}function b(){j.commanService.getLanguages().then(function(e){0===j.query.languages.length&&(j.query.languages=angular.copy(e.data.ppulse.data.languages))})["catch"](function(e){s.log(e)})}function y(){j.commanService.getSources().then(function(e){0===j.query.sources.length&&(j.query.sources=angular.copy(e.data.ppulse.data.sources))})["catch"](function(e){s.log(e)})}function x(){"Line Chart"===j.graphType?D.exportChart({type:"application/pdf",filename:"my-pdf"}):"Bar Charts"===j.graphType?z.exportChart({type:"application/pdf",filename:"my-pdf"}):"Stacked Chart"===j.graphType?I.exportChart({type:"application/pdf",filename:"my-pdf"}):"Normalized Stacked Area"===j.graphType?P.exportChart({type:"application/pdf",filename:"my-pdf"}):"Pie Charts Donuts"===j.graphType?R.exportChart({type:"application/pdf",filename:"my-pdf"}):"Word Cloud"===j.graphType?B.exportChart({type:"application/pdf",filename:"my-pdf"}):"Tree Map"===j.graphType&&F.exportChart({type:"application/pdf",filename:"my-pdf"})}function w(){j.insightService.getSourceOverTime(j.query,W.token).then(function(e){var t=angular.copy(e.data.ppulse.data),i={chart:{type:"column"},title:{text:"Sources Over Time"},xAxis:{categories:[],crosshair:!0},yAxis:{min:0,title:{text:"Number of Mentions"}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y}</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0},series:{dataLabels:{enabled:!0},cursor:"pointer",point:{events:{click:function(){try{j.query.idate=moment(this.category+(new Date).getFullYear())._d,j.query.edate=angular.copy(j.query.idate),isNaN(j.query.edate)||j.commanService.setQuery(j.query),p.go("feed")}catch(e){s.log(e)}}}}}},series:[]},a={chart:{zoomType:"x"},title:{text:"Sources Over Time"},xAxis:{type:"datetime"},yAxis:{title:{text:"Number of Mentions"}},plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null},series:{dataLabels:{enabled:!0},cursor:"pointer",point:{events:{click:function(){try{j.query.idate=moment(this.category+(new Date).getFullYear())._d,j.query.edate=angular.copy(j.query.idate),isNaN(j.query.edate)||j.commanService.setQuery(j.query),p.go("feed")}catch(e){s.log(e)}}}}}},series:[]},o={chart:{type:"column"},title:{text:"Sources Over Time"},xAxis:{categories:[]},yAxis:{min:0,title:{text:"Number of Mentions"},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:Highcharts.theme&&Highcharts.theme.textColor||"gray"}}},legend:{align:"right",x:-30,verticalAlign:"top",y:25,floating:!0,backgroundColor:Highcharts.theme&&Highcharts.theme.background2||"white",borderColor:"#CCC",borderWidth:1,shadow:!1},tooltip:{headerFormat:"<b>{point.x}</b><br/>",pointFormat:"{series.name}: {point.y}<br/>Total: {point.stackTotal}"},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0,color:Highcharts.theme&&Highcharts.theme.dataLabelsColor||"white"}},series:{cursor:"pointer",point:{events:{click:function(){try{j.query.idate=moment(this.category+(new Date).getFullYear())._d,j.query.edate=angular.copy(j.query.idate),isNaN(j.query.edate)||j.commanService.setQuery(j.query),p.go("feed")}catch(e){s.log(e)}}}}}},series:[]},n={chart:{type:"area"},title:{text:"Sources Over Time"},xAxis:{categories:[],tickmarkPlacement:"on",title:{enabled:!1}},yAxis:{title:{text:"Share of source, by %"}},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.percentage:.1f}%</b> ({point.y:,.0f} millions)<br/>',split:!0},plotOptions:{area:{stacking:"percent",lineColor:"#ffffff",lineWidth:1,marker:{lineWidth:1,lineColor:"#ffffff"}},series:{dataLabels:{enabled:!0},cursor:"pointer",point:{events:{click:function(){try{j.query.idate=moment(this.category+(new Date).getFullYear())._d,j.query.edate=angular.copy(j.query.idate),isNaN(j.query.edate)||j.commanService.setQuery(j.query),p.go("feed")}catch(e){s.log(e)}}}}}},series:[]},r={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Sources Over Time"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}}},series:{cursor:"pointer",point:{events:{click:function(){for(var e=0;e<j.query.sources.length;e++)j.query.sources[e].name===this.name?j.query.sources[e].value="true":j.query.sources[e].value=!1;j.commanService.setQuery(j.query),p.go("feed")}}}}},series:[{name:"Mentions",colorByPoint:!0,innerSize:"60%",data:[]}]};a.series.push({name:"Facebook",data:t.values.Facebook}),a.series.push({name:"Twitter",data:t.values.Twitter}),a.series.push({name:"Web",data:t.values.Web}),a.xAxis.categories=angular.copy(t.axis),i.series.push({name:"Facebook",data:t.values.Facebook}),i.series.push({name:"Twitter",data:t.values.Twitter}),i.series.push({name:"Web",data:t.values.Web}),i.xAxis.categories=angular.copy(t.axis),o.series.push({name:"Facebook",data:t.values.Facebook}),o.series.push({name:"Twitter",data:t.values.Twitter}),o.series.push({name:"Web",data:t.values.Web}),o.xAxis.categories=t.axis,n.series.push({name:"Facebook",data:t.values.Facebook}),n.series.push({name:"Twitter",data:t.values.Twitter}),n.series.push({name:"Web",data:t.values.Web}),n.xAxis.categories=t.axis;for(var l=0,c=0,d=0,h=0,u=0;u<t.values.Facebook.length;u++)l+=t.values.Facebook[u],c+=t.values.Twitter[u],d+=t.values.Web[u];h=l+c+d,r.series[0].data.push({name:"Facebook",y:l/h*100}),r.series[0].data.push({name:"Twitter",y:c/h*100}),r.series[0].data.push({name:"Web",y:c/h*100}),z=k("barChart",i),D=k("lineChart",a),I=I=k("stackedChart",o),P=k("stackedNormalizedChart",n),R=k("pieDonutChart",r)})["catch"](function(e){s.log(e)})}function L(){j.listeningAnalysisService.getVolumeOverTime(j.query,W.token).then(function(e){var t=angular.copy(e.data.ppulse.data),i={chart:{type:"column"},title:{text:"Volume Over Time",margin:30},xAxis:{categories:[],crosshair:!0},yAxis:{min:0,title:{text:"Number of Mentions",margin:30}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y}</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0},dataLabels:{enabled:!0},series:{cursor:"pointer",point:{events:{click:function(){try{j.query.idate=moment(this.category+(new Date).getFullYear())._d,j.query.edate=angular.copy(j.query.idate),isNaN(j.query.edate)||j.commanService.setQuery(j.query),p.go("feed")}catch(e){s.log(e)}}}}}},legend:{enabled:!1},series:[]},a={chart:{zoomType:"x"},title:{text:"Volume Over Time",margin:30},xAxis:{type:"datetime"},yAxis:{title:{text:"Number of Mentions",margin:20}},legend:{enabled:!1},plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null},series:{cursor:"pointer",point:{events:{click:function(){try{j.query.idate=moment(this.category+(new Date).getFullYear())._d,j.query.edate=angular.copy(j.query.idate),isNaN(j.query.edate)||j.commanService.setQuery(j.query),p.go("feed")}catch(e){s.log(e)}}}}}},series:[]};a.series.push({name:"Mentions",data:t.values,dataLabels:{enabled:!0}}),a.xAxis.categories=angular.copy(t.axis),i.series.push({name:"Mentions",data:t.values,dataLabels:{enabled:!0}}),i.xAxis.categories=angular.copy(t.axis),z=k("barChart",i),D=k("lineChart",a)})["catch"](function(e){s.log(e)})}function S(){j.listeningAnalysisService.getReachOverTime(j.query,W.token).then(function(e){var t=angular.copy(e.data.ppulse.data),i={chart:{type:"column"},title:{text:"Reach Evolution",margin:30},xAxis:{categories:[],crosshair:!0},yAxis:{min:0,title:{text:"Reach",margin:30}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0},dataLabels:{enabled:!0},series:{cursor:"pointer",point:{events:{click:function(){j.query.idate=moment(this.category+(new Date).getFullYear())._d,j.query.edate=angular.copy(j.query.idate),j.commanService.setQuery(j.query),p.go("feed")}}}}},series:[]},a={chart:{zoomType:"x"},title:{text:"Reach Evolution",margin:30},xAxis:{type:"datetime"},yAxis:{title:{text:"Reach"}},legend:{enabled:!1},plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null},dataLabels:{enabled:!0},series:{cursor:"pointer",point:{events:{click:function(){j.query.idate=moment(this.category+(new Date).getFullYear())._d,j.query.edate=angular.copy(j.query.idate),j.commanService.setQuery(j.query),p.go("feed")}}}}},series:[]};a.series.push({name:"Reach",data:t.values,dataLabels:{enabled:!0}}),a.xAxis.categories=angular.copy(t.axis),i.series.push({name:"Reach",data:t.values,dataLabels:{enabled:!0}}),i.xAxis.categories=angular.copy(t.axis),z=k("barChart",i),D=k("lineChart",a)})["catch"](function(e){s.log(e)})}function C(){j.insightService.getTopics(j.query,W.token).then(function(e){var t=angular.copy(e.data.ppulse.data),i={colorAxis:{minColor:"#EFF6FD",maxColor:Highcharts.getOptions().colors[0]},legend:{enabled:!1},series:[{type:"treemap",layoutAlgorithm:"squarified",data:[]}],title:{text:"Topics",margin:30},plotOptions:{series:{cursor:"pointer",point:{events:{click:function(){j.query.searchWord=angular.copy(this.name),j.commanService.setQuery(j.query),p.go("feed")}}}}}};t.sort(function(e,t){return parseFloat(t.score)-parseFloat(e.score)});for(var a=1,o=0;o<t.length;o++){try{t[o].score!==t[o-1].score&&a++}catch(n){s.log(n)}i.series[0].data.push({name:t[o].topic,value:t[o].score,colorValue:a})}i=k("treeMapChart",i)})["catch"](function(e){s.log(e)})}function N(){j.listeningAnalysisService.getActivitiesByDay(j.query,W.token).then(function(e){for(var t=angular.copy(e.data.ppulse.data),i={chart:{type:"column"},title:{text:"Activity By Days"},xAxis:{categories:[],crosshair:!0},yAxis:{min:0,title:{text:"Tweets",margin:30}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f}</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0},dataLabels:{enabled:!0}},series:[]},a={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Activity By Days"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}}},dataLabels:{enabled:!0}},series:[{name:"Brands",colorByPoint:!0,innerSize:"60%",data:[]}]},s=0,o=[],n=0;n<t.values.length;n++)s+=t.values[n];for(var r=0;r<t.values.length;r++)o.push({name:t.axis[r],y:t.values[r]/s*100});a.series[0].data=o,i.series.push({name:"Tweets",data:t.values}),i.xAxis.categories=angular.copy(t.axis),z=k("barChart",i),R=k("pieDonutChart",a)})["catch"](function(e){s.log(e)})}function A(){j.listeningAnalysisService.getSentimentOverTime(j.query,W.token).then(function(e){j.sentimentOverTime=angular.copy(e.data.ppulse.data);var t={chart:{type:"column"},title:{text:"Sentiments",margin:30},xAxis:{categories:[]},credits:{enabled:!1},plotOptions:{series:{dataLabels:{enabled:!0},cursor:"pointer",point:{events:{click:function(){try{j.query.idate=moment(this.category+(new Date).getFullYear())._d,j.query.edate=angular.copy(j.query.idate),isNaN(j.query.edate)||j.commanService.setQuery(j.query),p.go("feed")}catch(e){s.log(e)}}}}}},series:[]},i={chart:{zoomType:"x"},title:{text:"Sentiments"},xAxis:{type:"datetime"},yAxis:{title:{text:"Values"}},legend:{enabled:!1},plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null},dataLabels:{enabled:!0},series:{dataLabels:{enabled:!0},cursor:"pointer",point:{events:{click:function(){try{j.query.idate=moment(this.category+(new Date).getFullYear())._d,j.query.edate=angular.copy(j.query.idate),isNaN(j.query.edate)||j.commanService.setQuery(j.query),p.go("feed")}catch(e){s.log(e)}}}}}},series:[]},a={chart:{type:"column"},title:{text:"Sentiments"},xAxis:{categories:[]},yAxis:{min:0,title:{text:"Values"},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:Highcharts.theme&&Highcharts.theme.textColor||"gray"}}},legend:{align:"right",x:-30,verticalAlign:"top",y:25,floating:!0,backgroundColor:Highcharts.theme&&Highcharts.theme.background2||"white",borderColor:"#CCC",borderWidth:1,shadow:!1},tooltip:{headerFormat:"<b>{point.x}</b><br/>",pointFormat:"{series.name}: {point.y}<br/>Total: {point.stackTotal}"},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0,color:Highcharts.theme&&Highcharts.theme.dataLabelsColor||"white"}},dataLabels:{enabled:!0},series:{dataLabels:{enabled:!0},cursor:"pointer",point:{events:{click:function(){try{j.query.idate=moment(this.category+(new Date).getFullYear())._d,j.query.edate=angular.copy(j.query.idate),isNaN(j.query.edate)||j.commanService.setQuery(j.query),p.go("feed")}catch(e){s.log(e)}}}}}},series:[]},o={chart:{type:"area"},title:{text:"Sentiments"},xAxis:{categories:[],tickmarkPlacement:"on",title:{enabled:!1}},yAxis:{title:{text:"Percent"}},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.percentage:.1f}%</b> ({point.y:,.0f} millions)<br/>',split:!0},plotOptions:{area:{stacking:"percent",lineColor:"#ffffff",lineWidth:1,marker:{lineWidth:1,lineColor:"#ffffff"}},dataLabels:{enabled:!0},series:{dataLabels:{enabled:!0},cursor:"pointer",point:{events:{click:function(){try{j.query.idate=moment(this.category+(new Date).getFullYear())._d,j.query.edate=angular.copy(j.query.idate),isNaN(j.query.edate)||j.commanService.setQuery(j.query),p.go("feed")}catch(e){s.log(e)}}}}}},series:[]},n={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Sentiments"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}}},dataLabels:{enabled:!0},series:{cursor:"pointer",point:{events:{click:function(){"Positive"===this.name?(j.query.pos=!0,j.query.neg=!1):"Negative"===this.name&&(j.query.pos=!1,j.query.neg=!0),j.commanService.setQuery(j.query),p.go("feed")}}}}},series:[{name:"Values",colorByPoint:!0,innerSize:"60%",data:[]}]};t.series.push({name:"Negative",data:j.sentimentOverTime.negative,dataLabels:{enabled:!0}}),t.series.push({name:"Positive",data:j.sentimentOverTime.positive,dataLabels:{enabled:!0}}),t.xAxis.categories=j.sentimentOverTime.axis,i.series.push({name:"Negative",data:j.sentimentOverTime.negative,dataLabels:{enabled:!0}}),i.series.push({name:"Positive",data:j.sentimentOverTime.positive,dataLabels:{enabled:!0}}),i.xAxis.categories=j.sentimentOverTime.axis;for(var r=[],l=0,c=0,d=0,h=0,u=0;u<j.sentimentOverTime.negative.length;u++)r.push(-j.sentimentOverTime.negative[u]),l+=r[u];for(u=0;u<j.sentimentOverTime.positive.length;u++)r.push(-j.sentimentOverTime.positive[u]),c+=j.sentimentOverTime.positive[u];d=l/(l+c)*100,h=c/(l+c)*100,a.series.push({name:"Negative",data:r,dataLabels:{enabled:!0}}),a.series.push({name:"Positive",data:j.sentimentOverTime.positive,dataLabels:{enabled:!0}}),a.xAxis.categories=j.sentimentOverTime.axis,o.series.push({name:"Negative",data:j.sentimentOverTime.negative,dataLabels:{enabled:!0}}),o.series.push({name:"Positive",data:j.sentimentOverTime.positive,dataLabels:{enabled:!0}}),o.xAxis.categories=j.sentimentOverTime.axis,n.series[0].data.push({name:"Negative",y:d}),n.series[0].data.push({name:"Positive",y:h}),z=k("barChart",t),D=k("lineChart",i),I=k("stackedChart",a),P=k("stackedNormalizedChart",o),R=k("pieDonutChart",n)})["catch"](function(e){s.log(e)})}function k(e,t){return Highcharts.chart(e,t)}function T(){j.graphType=void 0}function M(){"Volume"===j.category?L():"Sources"===j.category?w():"Weekdays"===j.category?N():"Sentiments"===j.category?A():"Reach"===j.category?S():"Topics"===j.category&&C()}function O(){var e=j.commanService.getQuery();null!==e&&(j.query=angular.copy(e)),Highcharts.setOptions({lang:{thousandsSep:","}}),a(function(){j.playAnim=!0},1e3),v(),f(),b(),y()}var D,z,I,P,R,B,F,j=this,W=angular.copy(i.getUser());j.commanService=t,j.feedService=n,j.insightService=d,j.competitiveAnalysisService=l,j.listeningAnalysisService=c,
j.init=O,j.showFilter=m,j.execQuery=g,j.loadGraph=M,j.changeCategory=T,j.downloadPdf=x,j.playAnim=!1,j.hideOnLoad=!0,j.processing=!1,j.query={alertid:null,idate:"2017-01-15",edate:"2017-04-15",sources:[],languages:[],pos:!0,neg:!0,infulencerMin:0,infulencerMax:100,searchWord:"",day:"",myLastTimestamp:"",loadMore:"",cities:[],tag:""},W?j.init():p.go("login")}e.$inject=["$scope","CommanService","authService","$timeout","$log","$mdDialog","FeedService","$sce","CompetitiveAnalysisService","ListeningAnalysisService","InsightService","toastr","$window","$state"],angular.module("ppulse").controller("InsightController",e)}(),function(){angular.module("ppulse").service("InfluencerService",["$http","config",function(e,t){this.getTwitterInfluencersPage=function(i,a){var s={method:"post",data:i,url:t.apiUrl+"/ppulse/getTwitterInfluencersPage.php",headers:{"access-token":a}};return e(s)}}])}(),function(){"use strict";function e(e,t,i,a,s,o,n,r,l,c){function d(){m.commanService.getAlerts(g.token).then(function(e){m.alerts=angular.copy(e.data.ppulse.data),m.alertid=m.alerts[0].alertid,u()})["catch"](function(e){s.log(e)})}function h(){m.commanService.getCities().then(function(e){m.cities=angular.copy(e.data.ppulse.data)})["catch"](function(e){s.log(e)})}function u(){m.processing=!0;var e=new Date,t={alertid:m.alertid,idate:void 0,edate:e};"Last Day"===m.timePeriod?t.idate=moment().subtract(1,"days")._d:"Last 7 Days"===m.timePeriod?t.idate=moment().subtract(7,"days")._d:"Last Month"===m.timePeriod&&(t.idate=moment().subtract(30,"days")._d),m.influencerService.getTwitterInfluencersPage(t,g.token).then(function(e){console.log(e.data.ppulse.data.influencers),m.influencers=e.data.ppulse.data.influencers,m.processing=!1})["catch"](function(e){s.log(e)})}function p(){h(),d()}var m=this,g=angular.copy(i.getUser());m.commanService=t,m.influencerService=c,m.getInfluencers=u,m.init=p,g?m.init():$state.go("login"),m.processing=!0,m.timePeriod="Last 7 Days",m.playAnim=!0,m.influencers=[]}e.$inject=["$scope","CommanService","authService","$timeout","$log","$mdDialog","$sce","toastr","$window","InfluencerService"],angular.module("ppulse").controller("InfluencerController",e)}(),function(){"use strict";function e(){}angular.module("ppulse").controller("HomeController",e)}(),function(){angular.module("ppulse").service("FeedService",["$http","config",function(e,t){this.getAlertData=function(i,a){var s={method:"post",data:i,url:t.apiUrl+"/ppulse/getAlertData.php",headers:{"access-token":a}};return e(s)},this.getAlertsLimit=function(i){var a={method:"post",url:t.apiUrl+"/ppulse/getAlertsLimit.php",headers:{"access-token":i}};return e(a)},this.getHTMLTwitter=function(i,a){var s={method:"post",data:{url:i},url:t.apiUrl+"/ppulse/getTweetHTML.php",headers:{"access-token":a}};return e(s)},this.getHtmlPage=function(t,i){var a={method:"get",url:t};return e(a)},this.tagMention=function(i,a){var s={method:"post",data:i,url:t.apiUrl+"/ppulse/tagMention.php",headers:{"access-token":a}};return e(s)},this.unTagMention=function(i,a){var s={method:"post",data:i,url:t.apiUrl+"/ppulse/untagMention.php",headers:{"access-token":a}};return e(s)},this.addAlert=function(i,a){var s={method:"post",data:i,url:t.apiUrl+"/ppulse/addAlert.php",headers:{"access-token":a}};return e(s)}}])}(),function(){"use strict";function e(e,t,i,a,s,o,n,r,l,c,d){function h(e){o.show({contentElement:"#filter",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0})}function u(e){FB.ui({method:"share",href:e},function(e){console.log()})}function p(){var e=c.defer();return D.commanService.getAlerts(z.token).then(function(t){D.alerts=angular.copy(t.data.ppulse.data),null===D.query.alertid&&(D.query.alertid=D.alerts[0].alertid),e.resolve()})["catch"](function(t){e.reject(t)}),e.promise}function m(e){D.processing=!0,e&&(D.sortByDirection=e),D.query.sortBy=angular.copy(D.sortByType+" "+D.sortByDirection),D.feedService.getAlertData(D.query,z.token).then(function(e){D.processing=!1,D.hideOnLoad=!1,D.feedData=angular.copy(e.data.ppulse.data);var t=e.data.ppulse.message;50===D.feedData.length?D.showLoadmore=!0:D.showLoadmore=!1;for(var i=0;i<t.length;i++)"unread"===t[i].name?D.inboxCount=t[i].count:"favourite"===t[i].name?D.favCount=t[i].count:"archive"===t[i].name?D.archiveCount=t[i].count:"trash"===t[i].name?D.trashCount=t[i].count:"spam"===t[i].name&&(D.spamCount=t[i].count);for(i=0;i<D.alerts.length;i++)if(D.alerts[i].alertid===D.query.alertid){D.mentionCount=angular.copy(D.alerts[i].count);break}})["catch"](function(e){s.log(e)})}function g(e,t){var i=e.open_url,a=e.source,s=t.currentTarget.parentElement;"hide-iframe"===s.querySelector("#url-frame").className?(s.querySelector("#url-frame").className="show-iframe","Twitter"===a?D.feedService.getHTMLTwitter(i,z.token).then(function(e){s.querySelector("#webPreview").innerHTML=e.data.ppulse.data.html})["catch"](function(e){s.querySelector("#webPreview").innerHTML='<h4 class="col-xs-12">Tweet was removed.</h4>'}):"Facebook"===a?e.openfb=!0:D.feedService.getHtmlPage(i,z.token).then(function(e){s.querySelector("#webPreview").innerHTML='<iframe src="'+i+'"/>'})["catch"](function(e){s.querySelector("#webPreview").innerHTML='<h4 class="col-xs-12">Click above link to preview in a new tab.</h4>'})):s.querySelector("#url-frame").className="hide-iframe"}function v(){m(),D.commanService.setQuery(D.query),o.hide()}function f(e){return r.trustAsResourceUrl(e)}function b(){D.showNewAlert=!D.showNewAlert}function y(){D.newAlert.reqKeys=[],D.newAlert.optionKeys=[],D.newAlert.exluKeys=[],D.feedService.addAlert(D.newAlert,z.token).then(function(e){D.showNewAlert=!1,p(),D.alertSection="main",D.newAlert={reqKeys:[],optionKeys:[],exluKeys:[],compName:"",compWeb:"",compTwitter:"",compFacebook:""},l.success("Alert Added Successfully")})["catch"](function(e){s.log(e)})}function x(){D.newAlert.reqKeys.length>0&&(D.newAlert.compName="",D.newAlert.compWeb="",D.newAlert.compTwitter="",D.newAlert.compFacebook="",D.newAlert.alertType="keyword",D.feedService.addAlert(D.newAlert,z.token).then(function(e){D.showNewAlert=!1,D.alertSection="main",p(),D.newAlert={reqKeys:[],optionKeys:[],exluKeys:[],compName:"",compWeb:"",compTwitter:"",compFacebook:""},l.success("Keyword Alert Added Successfully")})["catch"](function(e){s.log(e)}))}function w(){D.newAlert.compName&&("section1"===D.alertSection?D.newAlert.alertType="Company":D.newAlert.alertType="Competitor",D.alertSection="section12")}function L(e,t,i){i.stopPropagation();var a={mention_id:e.id,tag:t};e.tag===t?(a.tag="unread",e.tag="unread",D.feedService.unTagMention(a,z.token).then(function(e){D.inboxCount++,"favourite"===t?D.favCount--:"archive"===t?D.archiveCount--:"trash"===t?D.trashCount--:"spam"===t&&D.spamCount--})["catch"](function(i){s.log(i),e.tag=t})):(e.tag=t,D.feedService.tagMention(a,z.token).then(function(i){e.tag=t,D.inboxCount--,"favourite"===t?D.favCount++:"archive"===t?D.archiveCount++:"trash"===t?D.trashCount++:"spam"===t&&D.spamCount++})["catch"](function(e){s.log(e)}))}function S(e){D.query.tag=angular.copy(e),m()}function C(e){e.stopPropagation()}function N(){D.query.myLastTimestamp=D.feedData[D.feedData.length],D.feedService.getAlertData(D.query,z.token).then(function(e){D.processing=!1,D.hideOnLoad=!1,50===e.data.ppulse.data.length?D.showLoadmore=!0:D.showLoadmore=!1,D.feedData=D.feedData.concat(angular.copy(e.data.ppulse.data))})["catch"](function(e){s.log(e)})}function A(){var e=c.defer();return D.commanService.getCities().then(function(t){D.cities=angular.copy(t.data.ppulse.data),e.resolve()})["catch"](function(t){e.reject(t)}),e.promise}function k(){var e=c.defer();return D.commanService.getLanguages().then(function(t){0===D.query.languages.length&&(D.query.languages=angular.copy(t.data.ppulse.data.languages)),e.resolve()})["catch"](function(t){e.reject(t)}),e.promise}function T(){var e=c.defer();return D.commanService.getSources().then(function(t){0===D.query.sources.length&&(D.query.sources=angular.copy(t.data.ppulse.data.sources)),e.resolve()})["catch"](function(t){e.reject(t)}),e.promise}function M(){D.feedService.getAlertsLimit(z.token).then(function(e){0===e.data.ppulse.data.remaining&&(D.alertSection="limit")})["catch"](function(e){s.log(e)})}function O(){var e=D.commanService.getQuery();null!==e&&(D.query=angular.copy(e));var t=A(),i=p(),a=k(),o=T();c.all([t,i,a,o]).then(function(e){m()})["catch"](function(e){s.log(e)}),M()}var D=this,z=angular.copy(a.getUser());D.feedService=n,D.commanService=i,D.init=O,D.showFilter=h,D.execQuery=v,D.feedClick=g,D.trustSrc=f,D.openAlertPopup=b,D.newAlertProceed=w,D.tagMention=L,D.tagClick=S,D.stopPropagation=C,D.addAlert=y,D.addKeyordsAlert=x,D.loadMore=N,D.getAlertData=m,D.shareFacebook=u,D.hideOnLoad=!0,D.companyToMonitor="",D.processing=!0,D.showNewAlert=!1,D.feedData=[],D.alertSection="main",D.optionalKeywords=[],D.excludedKeywords=[],D.requiredKeywords=[],D.mentionCount=0,D.showLoadmore=!1,D.sortByType="c_timestamp",D.sortByDirection="DESC",D.inboxCount=0,D.favCount=0,D.archiveCount=0,D.trashCount=0,D.spamCount=0,D.newAlert={reqKeys:[],optionKeys:[],exluKeys:[],compName:"",compWeb:"",compTwitter:"",compFacebook:""},D.query={alertid:null,idate:"2017-01-15",edate:"2017-04-15",sources:[],languages:[],pos:!0,neg:!0,infulencerMin:0,infulencerMax:100,searchWord:"",day:"",myLastTimestamp:0,loadMore:"",cities:[],tag:""},z?D.init():e.go("login")}e.$inject=["$state","$scope","CommanService","authService","$log","$mdDialog","FeedService","$sce","toastr","$q","$window"],angular.module("ppulse").controller("FeedController",e)}(),function(){"use strict";function e(){}angular.module("ppulse").controller("DashboardController",e),e.$inject=[]}(),function(){"use strict";function e(e,t,i,a,s,o,n,r,l,c,d,h,u){function p(){z.commanService.getAlerts(I.token).then(function(e){try{z.alerts=angular.copy(e.data.ppulse.data),z.query={},z.query.alertid=z.alerts[0].alertid,z.init()}catch(t){o.log(e)}})["catch"](P)}function m(){z.commanService.getAlertName(I.token,z.query.alertid).then(function(e){z.alertName=e.data.ppulse.data.name})["catch"](P)}function g(e,t){return Highcharts.chart(e,t)}function v(){z.cinematicApiService.cinematicFacebookMetrics(I.token,z.query.alertid).then(function(e){z.facebookData=e.data.ppulse.data;var t=z.cinematicDataService.getFacebookGraphSm();try{var i=angular.copy(e.data.ppulse.data.impressionsGraph);t.series.push({name:"Mentions",data:i.values,marker:{enabled:!1},color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(43, 97 , 157,0.5)"]]},lineColor:"#7bb5eb"}),T=g("facebook-impression",t)}catch(a){o.log(e)}try{var s=angular.copy(e.data.ppulse.data.engagementGraph);t.series=[],t.series.push({name:"Mentions",data:s.values,marker:{enabled:!1},color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(43, 97 , 157,0.5)"]]},lineColor:"#7bb5eb"}),facebookEngagementChart=g("facebook-engagment",t)}catch(a){o.log(e)}})["catch"](P)}function f(){z.cinematicApiService.cinematicGoogleAnalytics(I.token,z.query.alertid).then(function(e){z.googleData=e.data.ppulse.data,z.loading=!1;var t=z.cinematicDataService.getGoogleGraphSm(),i=angular.copy(e.data.ppulse.data.avgSessionGraph),a=angular.copy(e.data.ppulse.data.bounceRateGraph),s=angular.copy(e.data.ppulse.data.pageViewsGraph);try{t.series.push({name:"Mentions",data:i.values,marker:{enabled:!1},color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(43, 97 , 157,0.5)"]]},lineColor:"#7bb5eb"}),M=g("google-avg-session",t)}catch(n){o.log(e)}try{t.series=[],t.series.push({name:"Mentions",data:a.values,marker:{enabled:!1},color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(43, 97 , 157,0.5)"]]},lineColor:"#7bb5eb"}),O=g("google-bounce-rate",t)}catch(n){o.log(e)}try{t.series=[],t.series.push({name:"Mentions",data:s.values,marker:{enabled:!1},color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(43, 97 , 157,0.5)"]]},lineColor:"#7bb5eb"}),D=g("google-page-views",t)}catch(n){o.log(e)}})["catch"](P)}function b(){z.cinematicApiService.cinematicTopCities(I.token,z.query.alertid).then(function(e){z.mentionByCities=e.data.ppulse.data.citydata;for(var t,i=5,a=15,s=1/0,o=-(1/0),n=a*a*2*Math.PI,r=i*i*2*Math.PI,l=0;l<z.mentionByCities.length;l++)"untagged"!==z.mentionByCities[l].name&&(t=z.mentionByCities[l].mentions,s>t&&(s=t),t>o&&(o=t),z.citiesHash[z.mentionByCities[l].name]={mentions:z.mentionByCities[l].mentions,name:z.mentionByCities[l].name});for(l=0;l<z.mentionByCities.length;l++){var c=z.mentionByCities[l];t=c.mentions;var d=(t-s)/(o-s)*(n-r)+r;r>d&&(d=r);var h=Math.sqrt(d/(2*Math.PI));(h===1/0||h===-(1/0))&&(h=0),z.mentionByCities[l].markerSize=h,z.citiesHash[z.mentionByCities[l].name]={size:h}}})["catch"](P)}function y(){z.cinematicApiService.cinematicTwitterMatrices(I.token,z.query.alertid).then(function(e){z.twitterData=e.data.ppulse.data})["catch"](P)}function x(){z.cinematicApiService.cinematicTopStats(I.token,z.query.alertid).then(function(e){z.topStats=e.data.ppulse.data})["catch"](P)}function w(){z.cinematicApiService.cinematicSentimentAnalysis(I.token,z.query.alertid).then(function(e){var t=angular.copy(e.data.ppulse.data.sentimentGraph),i=z.cinematicDataService.getSentimentGraph();try{i.series.push({showInLegend:!1,name:"Negative",data:t.neg,borderColor:"#D04436"}),i.series.push({showInLegend:!1,name:"Positive",data:t.pos,borderColor:"#2E639B"}),i.xAxis.categories=angular.copy(t.axis),A=g("sentiment-graph",i)}catch(a){o.log(e)}})["catch"](P)}function L(){z.cinematicApiService.cinematicWebPrintReach(I.token,z.query.alertid).then(function(e){try{var t=z.cinematicDataService.getWebPrintReachGraph(),i=angular.copy(e.data.ppulse.data.reachGraph);t.series.push({name:"Mentions",data:i.web,marker:{fillColor:"#e53f6a"},lineColor:"#e53f6a",color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(229 ,63,106, 0.5)"]]}}),t.series.push({name:"Mentions",data:i.print,marker:{fillColor:"#7bb5eb"},lineColor:"#7bb5eb",color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(43, 97 , 157,0.5)"]]}}),t.xAxis.categories=i.axis,k=g("web-print-reach",t)}catch(a){o.log(e)}})["catch"](P)}function S(){z.isFullscreen=!z.isFullscreen}function C(){s(function(){z.init()},18e6)}function N(){C(),m(),f(),b(),y(),x(),v(),w(),L()}var A,k,T,M,O,D,z=this,I=angular.copy(a.getUser());z.commanService=t,z.cinematicApiService=d,z.listeningAnalysisService=i,z.cinematicDataService=u,z.goFullscreen=S,z.query=z.commanService.getQuery(),z.init=N,z.isFullscreen=!1,z.citiesHash={},z.mentionByCities=[],z.loading=!0,I?null===z.query?p():z.init():$state.go("login");var P=function(e){$console.log(e)}}e.$inject=["$scope","CommanService","ListeningAnalysisService","authService","$timeout","$log","$mdDialog","$sce","toastr","$document","CinematicApiService","Fullscreen","CinematicDataService"],angular.module("ppulse").controller("CinematicViewController",e)}(),function(){angular.module("ppulse").service("CinematicDataService",["$http","config",function(e,t){this.getFacebookGraphSm=function(e,t){var i={chart:{type:"area",backgroundColor:"rgba(255, 255, 255, 0)",spacingBottom:0,spacingTop:0,spacingLeft:0,spacingRight:0},lang:{thousandsSep:",",color:"#fff"},title:{text:""},yAxis:{title:{enabled:!1,text:"Mentions"},labels:{enabled:!1},gridLineColor:"rgba(255, 255, 255, 0)"},xAxis:{enabled:!1,categories:[],lineColor:"transparent",labels:{enabled:!1},tickLength:0},legend:{enabled:!1},series:[]};return i},this.getGoogleGraphSm=function(e,t){var i={chart:{type:"area",backgroundColor:"rgba(255, 255, 255, 0)",spacingBottom:0,spacingTop:0},lang:{thousandsSep:",",color:"#fff"},title:{text:""},yAxis:{title:{enabled:!1,text:"Mentions"},labels:{enabled:!1},gridLineColor:"rgba(255, 255, 255, 0)"},xAxis:{enabled:!1,categories:[],lineColor:"transparent",labels:{enabled:!1},tickLength:0},legend:{enabled:!1},series:[]};return i},this.getSentimentGraph=function(){var e={chart:{type:"column",backgroundColor:"rgba(255, 255, 255, 0)"},title:{text:""},colors:["#D04436","#2E639B"],xAxis:{categories:[],labels:{style:{color:"#fff"}}},yAxis:{labels:{style:{color:"#fff"}},title:{text:""},gridLineColor:"rgba(255, 255, 255, 0.1)"},credits:{enabled:!1},plotOptions:{column:{stacking:"normal"}},series:[]};return e},this.getWebPrintReachGraph=function(){var e={chart:{type:"area",backgroundColor:"rgba(255, 255, 255, 0)"},lang:{thousandsSep:",",color:"#fff"},title:{text:""},yAxis:{title:{enabled:!1,text:"Mentions"},labels:{style:{color:"#fff"}},gridLineColor:"rgba(255, 255, 255, 0.1)"},xAxis:{categories:[],labels:{style:{color:"#fff"}},lineColor:"#20263b",gridLineColor:"rgba(255, 255, 255, 0.1)"},legend:{enabled:!1},series:[]};return e}}])}(),function(){angular.module("ppulse").service("CinematicApiService",["$http","config",function(e,t){this.cinematicFacebookMetrics=function(i,a){var s={method:"post",data:{alertid:a},url:t.apiUrl+"/ppulse/cin_facebookMatrices.php",headers:{"access-token":i}};return e(s)},this.cinematicSentimentAnalysis=function(i,a){var s={method:"post",data:{alertid:a},url:t.apiUrl+"/ppulse/cin_sentimentAnalysis.php",headers:{"access-token":i}};return e(s)},this.cinematicWebPrintReach=function(i,a){var s={method:"post",data:{alertid:a},url:t.apiUrl+"/ppulse/cin_webPrintReach.php",headers:{"access-token":i}};return e(s)},this.cinematicGoogleAnalytics=function(i,a){var s={method:"post",data:{alertid:a},url:t.apiUrl+"/ppulse/cin_googleAnalytics.php",headers:{"access-token":i}};return e(s)},this.cinematicTopCities=function(i,a){var s={method:"post",data:{alertid:a},url:t.apiUrl+"/ppulse/cin_topCities.php",headers:{"access-token":i}};return e(s)},this.cinematicTwitterMatrices=function(i,a){var s={method:"post",data:{alertid:a},url:t.apiUrl+"/ppulse/cin_twitterMatrices.php",headers:{"access-token":i}};return e(s)},this.cinematicTopStats=function(i,a){var s={method:"post",data:{alertid:a},url:t.apiUrl+"/ppulse/cin_topStats.php",headers:{"access-token":i}};return e(s)}}])}(),function(){"use strict";function e(){}angular.module("ppulse").controller("AccountController",e),e.$inject=[]}(),function(){"use strict";function e(){function e(){return t}var t=[{title:"AngularJS",url:"https://angularjs.org/",description:"HTML enhanced for web apps!",logo:"angular.png"},{title:"BrowserSync",url:"http://browsersync.io/",description:"Time-saving synchronised browser testing.",logo:"browsersync.png"},{title:"GulpJS",url:"http://gulpjs.com/",description:"The streaming build system.",logo:"gulp.png"},{title:"Jasmine",url:"http://jasmine.github.io/",description:"Behavior-Driven JavaScript.",logo:"jasmine.png"},{title:"Karma",url:"http://karma-runner.github.io/",description:"Spectacular Test Runner for JavaScript.",logo:"karma.png"},{title:"Protractor",url:"https://github.com/angular/protractor",description:"End to end test framework for AngularJS applications built on top of WebDriverJS.",logo:"protractor.png"},{title:"Bootstrap",url:"http://getbootstrap.com/",description:"Bootstrap is the most popular HTML, CSS, and JS framework for developing responsive, mobile first projects on the web.",logo:"bootstrap.png"},{title:"Angular UI Bootstrap",url:"http://angular-ui.github.io/bootstrap/",description:"Bootstrap components written in pure AngularJS by the AngularUI Team.",logo:"ui-bootstrap.png"},{title:"Sass (Ruby)",url:"http://sass-lang.com/",description:"Original Syntactically Awesome StyleSheets implemented in Ruby",logo:"ruby-sass.png"}];this.getTec=e}angular.module("ppulse").service("webDevTec",e)}(),function(){angular.module("ppulse").service("CommanService",["$http","config",function(e,t){var i=null,a=null;this.setAlertdata=function(e){a=e},this.setQuery=function(e){i=e},this.getAlertName=function(i,a){var s={method:"post",url:t.apiUrl+"/ppulse/getAlertName.php",data:{alertid:a},headers:{"access-token":i}};return e(s)},this.getQuery=function(){return i},this.getAlerts=function(i){var a={method:"post",url:t.apiUrl+"/ppulse/getAlertStats.php",headers:{"access-token":i}};return e(a)},this.getCompanies=function(t){var i={method:"get",url:"https://autocomplete.clearbit.com/v1/companies/suggest?query="+t};return e(i)},this.getLanguages=function(){var i={method:"post",url:t.apiUrl+"/ppulse/getLanguages.php"};return e(i)},this.getSources=function(){var i={method:"post",url:t.apiUrl+"/ppulse/getSources.php"};return e(i)},this.getCities=function(){var i={method:"post",url:t.apiUrl+"/ppulse/getCities.php"};return e(i)}}])}(),function(){angular.module("ppulse").service("authService",["$http","config","$localStorage",function(e,t,i){this.login=function(i){return e.post(t.apiUrl+"/ppulse/login.php",i)},this.logout=function(a){i.user=void 0;var s={method:"post",url:t.apiUrl+"/ppulse/logout.php",headers:{"access-token":a}};return e(s)},this.authorizationStatus=function(i){var a={method:"post",url:t.apiUrl+"/ppulse/checkLogin.php",headers:{"access-token":i}};return e(a)},this.activteUser=function(i){var a={method:"post",url:t.apiUrl+"/ppulse/verifyUserEmail.php",data:i};return e(a)},this.forgotPass=function(i){var a={method:"post",url:t.apiUrl+"/ppulse/forgotPassword.php?email="+i.username,data:i};return e(a)},this.setUser=function(e){i.user=angular.copy(e)},this.getUser=function(){return i.user}}])}(),function(){"use strict";function e(){function e(e,t,i,a,s,o,n,r){function l(){d=angular.copy(s.getUser()),e.ga("send","pageview",{page:n.url()}),d?"login"!==arguments[1].name&&s.authorizationStatus(d.token).then(function(e){"failed"===e.data.ppulse.status&&(o.warning("Your Session has expired!"),a.go("login"))})["catch"](function(e){i.log(e)}):a.go("login")}var c=this,d=angular.copy(s.getUser());c.userImg="./assets/images/jasmine.png",d?(c.token=d.token,c.userImg=d.u_picture,c.$state=a,s.authorizationStatus(d.token).then(function(e){"failed"===e.data.ppulse.status&&(o.warning("Your Session has expired!"),a.go("login"))})["catch"](function(e){i.log(e)})):a.go("login"),c.logout=function(){s.logout(d.token).then(function(e){a.go("login")})["catch"](function(e){i.log(e)})},t.$on("$stateChangeStart",function(){console.log("change Start"),r()}),t.$on("$stateChangeSuccess",l)}e.$inject=["$window","$scope","$log","$state","authService","toastr","$location","$anchorScroll"];var t={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("ppulse").directive("acmeNavbar",e)}(),function(){"use strict";function e(e){function t(t,i,a,s){var o,n=e(i[0],{typeSpeed:40,deleteSpeed:40,pauseDelay:800,loop:!0,postfix:" "});i.addClass("acme-malarkey"),angular.forEach(t.extraValues,function(e){n.type(e).pause()["delete"]()}),o=t.$watch("vm.contributors",function(){angular.forEach(s.contributors,function(e){n.type(e.login).pause()["delete"]()})}),t.$on("$destroy",function(){o()})}function i(e,t){function i(){return a().then(function(){e.info("Activated Contributors View")})}function a(){return t.getContributors(10).then(function(e){return s.contributors=e,s.contributors})}var s=this;s.contributors=[],i()}i.$inject=["$log","githubContributor"];var a={restrict:"E",scope:{extraValues:"="},template:"&nbsp;",link:t,controller:i,controllerAs:"vm"};return a}e.$inject=["malarkey"],angular.module("ppulse").directive("acmeMalarkey",e)}(),function(){"use strict";function e(e,t){function i(i){function s(e){return e.data}function o(t){e.error("XHR Failed for getContributors.\n"+angular.toJson(t.data,!0))}return i||(i=30),t.get(a+"/contributors?per_page="+i).then(s)["catch"](o)}var a="https://api.github.com/repos/Swiip/generator-gulp-angular",s={apiHost:a,getContributors:i};return s}e.$inject=["$log","$http"],angular.module("ppulse").factory("githubContributor",e)}(),function(){"use strict";function e(){function e(){}var t={restrict:"E",templateUrl:"app/components/footer/navFooter.html",scope:{},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("ppulse").directive("navFooter",e)}(),function(){"use strict";function e(e){return{restrict:"A",scope:{loadMore:"&"},link:function(t,i,a){var s=angular.element(e)[0].body,o=0,n=1,r=function(){var e=angular.copy(s.scrollTop);e>o&&(o=e,o>3e3*n&&(n++,t.loadMore()))};angular.element(e).on("scroll",r)}}}e.$inject=["$document"],angular.module("ppulse").directive("scroll",e)}(),function(){"use strict";function e(e){return{restrict:"EA",scope:{cities:"="},link:function(e,t,i){e.$watch("cities",function(){for(var i=0;i<e.cities.length;i++){var a=t[0].querySelector("#"+e.cities[i].name),s=angular.element(a);s[0].style.display="block"}})}}}e.$inject=["$document"],angular.module("ppulse").directive("pakistanMap",e)}(),function(){"use strict";function e(){return function(e,t,i){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(i.ngEnter)}),t.preventDefault())})}}angular.module("ppulse").directive("ngEnter",e)}(),function(){"use strict";function e(e){function t(t,i,a){e(function(){FB&&FB.XFBML.parse(i[0])})}var i={link:t,template:'<div class="fb-post" data-href="{{href}}"></div>',restrict:"EA",scope:{href:"=href"}};return i}e.$inject=["$timeout"],angular.module("ppulse").directive("fbPostPreview",e)}(),function(){"use strict";function e(e,t){var i=angular.element(e.document.body),a=angular.element("<textarea/>");return a.css({position:"fixed",opacity:"0"}),function(e){a.val(e),i.append(a),a[0].select();try{var s=document.execCommand("copy");if(t.show(t.simple().textContent("Link copied to clipboard!").position("bottom right").hideDelay(3e3)),!s)throw s}catch(o){window.prompt("Copy to clipboard: Ctrl+C, Enter",e)}a.remove()}}function t(e){return{restrict:"A",link:function(t,i,a){i.bind("click",function(t){e(a.ngClickCopy)})}}}e.$inject=["$window","$mdToast"],t.$inject=["ngCopy"],angular.module("ppulse").directive("ngClickCopy",t).service("ngCopy",e)}(),function(){"use strict";function e(e,t,i,a,s,o,n){e.ga("create","UA-84592330-3","auto"),e.ga("send","pageview",{page:a.url()});var r=angular.copy(i.getUser());e.fbAsyncInit=function(){FB.init({xfbml:!0,version:"v2.9"})},r?"login"!==arguments[1].name&&i.authorizationStatus(r.token).then(function(e){"failed"===e.data.ppulse.status&&n.go("login")})["catch"](function(e){t.log(e)}):n.go("login")}e.$inject=["$window","$log","authService","$location","config","$http","$state"],angular.module("ppulse").run(e)}(),function(){"use strict";function e(e,t,i){e.state("login",{url:"/login?email&token",templateUrl:"app/main/login/login.html",controller:"LoginController",controllerAs:"vm"}).state("influencer",{url:"/influencer",templateUrl:"app/main/influencer/influencer.html",controller:"InfluencerController",controllerAs:"vm"}).state("dashboard",{"abstract":!0,url:"/dashboard",templateUrl:"app/main/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm"}).state("dashboard.competitive-analysis",{url:"/competitive-analysis",templateUrl:"app/main/dashboard/competitiveAnalysis/competitiveAnalysis.html",controller:"CompetitiveAnalysisController",controllerAs:"vm"}).state("dashboard.listening-analysis",{url:"/listening-analysis",templateUrl:"app/main/dashboard/listeningAnalysis/listeningAnalysis.html",controller:"ListeningAnalysisController",controllerAs:"vm"}).state("account",{"abstract":!0,url:"/account",templateUrl:"app/main/account/account.html",controller:"DashboardController",controllerAs:"vm"}).state("account.notifications",{url:"/notifications",templateUrl:"app/main/account/notifications/notifications.html",controller:"NotificationsController",controllerAs:"vm"}).state("account.social",{url:"/social",templateUrl:"app/main/account/social/social.html",controller:"SocialController",controllerAs:"vm"}).state("profile",{url:"/profile",templateUrl:"app/main/account/profile/profile.html",controller:"ProfileController",controllerAs:"vm"}).state("feed",{url:"/feed",templateUrl:"app/main/feed/feed.html",controller:"FeedController",controllerAs:"vm"}).state("insight",{url:"/insight",templateUrl:"app/main/insight/insight.html",controller:"InsightController",controllerAs:"vm"}).state("listening-analysis-pdf",{url:"/listening-analysis/:sessionid/:alertid/:idate/:edate",templateUrl:"app/main/dashboard/listeningAnalysisPdf/listeningAnalysisPdf.html",controller:"ListeningAnalysisPdfController",controllerAs:"vm"}).state("cinematic-view",{url:"/cinematic/view",templateUrl:"app/main/cinematic/cinematicView.html",controller:"CinematicViewController",controllerAs:"vm"}),t.otherwise("/dashboard/listening-analysis")}e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],angular.module("ppulse").config(e)}(),function(){"use strict";angular.module("ppulse").constant("malarkey",malarkey).constant("moment",moment).constant("config",{apiUrl:"https://app.techletspk.com/services",firebaseToken:""})}(),function(){"use strict";function e(e,t,i,a){e.debugEnabled(!0),t.allowHtml=!0,t.timeOut=3e3,t.positionClass="toast-bottom-right",t.preventDuplicates=!1,t.progressBar=!1;var s={apiKey:"AIzaSyCfIvmS_dSwBjrneZJ3osJTgmPlX5CyDrM",authDomain:"techletspeople-ec302.firebaseapp.com",databaseURL:"https://techletspeople-ec302.firebaseio.com",storageBucket:"techletspeople-ec302.appspot.com",messagingSenderId:"845566350151"};firebase.initializeApp(s),a.facebook({clientId:"217521825419409",responseType:"token"}),a.instagram({clientId:"99c20bb4f8b74c4fb5d1b550245d5771",responseType:"token"}),a.facebook({name:"facebook",url:"/auth/facebook",authorizationEndpoint:"https://www.facebook.com/v2.5/dialog/oauth",redirectUri:window.location.origin+"/account/social",requiredUrlParams:["display","scope"],scope:["email","manage_pages","publish_pages","pages_show_list","pages_manage_cta"],scopeDelimiter:",",display:"popup",oauthType:"2.0",popupOptions:{width:580,height:400}}),a.instagram({name:"instagram",url:"/auth/instagram",authorizationEndpoint:"https://api.instagram.com/oauth/authorize",redirectUri:window.location.origin+"/account/social",requiredUrlParams:["scope"],scope:["basic","basic","public_content","follower_list","comments","relationships","likes"],scopeDelimiter:"+",oauthType:"2.0"})}e.$inject=["$logProvider","toastrConfig","config","$authProvider"],angular.module("ppulse").config(e)}(),/*
 Highcharts JS v5.0.9 (2017-03-08)

 (c) 2009-2016 Torstein Honsi

 License: www.highcharts.com/license
*/
function(e){"object"==typeof module&&module.exports?module.exports=e:e(Highcharts)}(function(e){!function(e){var t,i=e.Axis,a=e.Chart,s=e.color,o=e.each,n=e.extend,r=e.isNumber,l=e.Legend,c=e.LegendSymbolMixin,d=e.noop,h=e.merge,u=e.pick,p=e.wrap;t=e.ColorAxis=function(){this.init.apply(this,arguments)},n(t.prototype,i.prototype),n(t.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0},keepProps:["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"].concat(i.prototype.keepProps),init:function(e,t){var a,s="vertical"!==e.options.legend.layout;this.coll="colorAxis",a=h(this.defaultColorAxisOptions,{side:s?2:1,reversed:!s},t,{opposite:!s,showEmpty:!1,title:null}),i.prototype.init.call(this,e,a),t.dataClasses&&this.initDataClasses(t),this.initStops(t),this.horiz=s,this.zoomEnabled=!1,this.defaultLegendLength=200},tweenColors:function(e,t,i){var a;return t.rgba.length&&e.rgba.length?(e=e.rgba,t=t.rgba,a=1!==t[3]||1!==e[3],e=(a?"rgba(":"rgb(")+Math.round(t[0]+(e[0]-t[0])*(1-i))+","+Math.round(t[1]+(e[1]-t[1])*(1-i))+","+Math.round(t[2]+(e[2]-t[2])*(1-i))+(a?","+(t[3]+(e[3]-t[3])*(1-i)):"")+")"):e=t.input||"none",e},initDataClasses:function(e){var t,i=this,a=this.chart,n=0,r=a.options.chart.colorCount,l=this.options,c=e.dataClasses.length;this.dataClasses=t=[],this.legendItems=[],o(e.dataClasses,function(e,o){e=h(e),t.push(e),e.color||("category"===l.dataClassColor?(o=a.options.colors,r=o.length,e.color=o[n],e.colorIndex=n,n++,n===r&&(n=0)):e.color=i.tweenColors(s(l.minColor),s(l.maxColor),2>c?.5:o/(c-1)))})},initStops:function(e){this.stops=e.stops||[[0,this.options.minColor],[1,this.options.maxColor]],o(this.stops,function(e){e.color=s(e[1])})},setOptions:function(e){i.prototype.setOptions.call(this,e),this.options.crosshair=this.options.marker},setAxisSize:function(){var e,t,i=this.legendSymbol,a=this.chart,s=a.options.legend||{};i?(this.left=s=i.attr("x"),this.top=e=i.attr("y"),this.width=t=i.attr("width"),this.height=i=i.attr("height"),this.right=a.chartWidth-s-t,this.bottom=a.chartHeight-e-i,this.len=this.horiz?t:i,this.pos=this.horiz?s:e):this.len=(this.horiz?s.symbolWidth:s.symbolHeight)||this.defaultLegendLength},toColor:function(e,t){var i,a,s,o,n=this.stops,r=this.dataClasses;if(r){for(o=r.length;o--;)if(s=r[o],i=s.from,n=s.to,(void 0===i||e>=i)&&(void 0===n||n>=e)){a=s.color,t&&(t.dataClass=o,t.colorIndex=s.colorIndex);break}}else{for(this.isLog&&(e=this.val2lin(e)),e=1-(this.max-e)/(this.max-this.min||1),o=n.length;o--&&!(e>n[o][0]););i=n[o]||n[o+1],n=n[o+1]||i,e=1-(n[0]-e)/(n[0]-i[0]||1),a=this.tweenColors(i.color,n.color,e)}return a},getOffset:function(){var e=this.legendGroup,t=this.chart.axisOffset[this.side];e&&(this.axisParent=e,i.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=t)},setLegendColor:function(){var e,t=this.options,i=this.reversed;e=i?1:0,i=i?0:1,e=this.horiz?[e,0,i,0]:[0,i,0,e],this.legendColor={linearGradient:{x1:e[0],y1:e[1],x2:e[2],y2:e[3]},stops:t.stops||[[0,t.minColor],[1,t.maxColor]]}},drawLegendSymbol:function(e,t){var i=e.padding,a=e.options,s=this.horiz,o=u(a.symbolWidth,s?this.defaultLegendLength:12),n=u(a.symbolHeight,s?12:this.defaultLegendLength),r=u(a.labelPadding,s?16:30),a=u(a.itemDistance,10);this.setLegendColor(),t.legendSymbol=this.chart.renderer.rect(0,e.baseline-11,o,n).attr({zIndex:1}).add(t.legendGroup),this.legendItemWidth=o+i+(s?a:r),this.legendItemHeight=n+i+(s?r:0)},setState:d,visible:!0,setVisible:d,getSeriesExtremes:function(){var e=this.series,t=e.length;for(this.dataMin=1/0,this.dataMax=-(1/0);t--;)void 0!==e[t].valueMin&&(this.dataMin=Math.min(this.dataMin,e[t].valueMin),this.dataMax=Math.max(this.dataMax,e[t].valueMax))},drawCrosshair:function(e,t){var a,s=t&&t.plotX,o=t&&t.plotY,n=this.pos,r=this.len;t&&(a=this.toPixels(t[t.series.colorKey]),n>a?a=n-2:a>n+r&&(a=n+r+2),t.plotX=a,t.plotY=this.len-a,i.prototype.drawCrosshair.call(this,e,t),t.plotX=s,t.plotY=o,this.cross&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.attr({fill:this.crosshair.color})))},getPlotLinePath:function(e,t,a,s,o){return r(o)?this.horiz?["M",o-4,this.top-6,"L",o+4,this.top-6,o,this.top,"Z"]:["M",this.left,o,"L",this.left-6,o+6,this.left-6,o-6,"Z"]:i.prototype.getPlotLinePath.call(this,e,t,a,s)},update:function(e,t){var a=this.chart,s=a.legend;o(this.series,function(e){e.isDirtyData=!0}),e.dataClasses&&s.allItems&&(o(s.allItems,function(e){e.isDataClass&&e.legendGroup.destroy()}),a.isDirtyLegend=!0),a.options[this.coll]=h(this.userOptions,e),i.prototype.update.call(this,e,t),this.legendItem&&(this.setLegendColor(),s.colorizeItem(this,!0))},getDataClassLegendSymbols:function(){var t,i=this,a=this.chart,s=this.legendItems,r=a.options.legend,l=r.valueDecimals,h=r.valueSuffix||"";return s.length||o(this.dataClasses,function(r,u){var p=!0,m=r.from,g=r.to;t="",void 0===m?t="< ":void 0===g&&(t="> "),void 0!==m&&(t+=e.numberFormat(m,l)+h),void 0!==m&&void 0!==g&&(t+=" - "),void 0!==g&&(t+=e.numberFormat(g,l)+h),s.push(n({chart:a,name:t,options:{},drawLegendSymbol:c.drawRectangle,visible:!0,setState:d,isDataClass:!0,setVisible:function(){p=this.visible=!p,o(i.series,function(e){o(e.points,function(e){e.dataClass===u&&e.setVisible(p)})}),a.legend.colorizeItem(this,p)}},r))}),s},name:""}),o(["fill","stroke"],function(i){e.Fx.prototype[i+"Setter"]=function(){this.elem.attr(i,t.prototype.tweenColors(s(this.start),s(this.end),this.pos),null,!0)}}),p(a.prototype,"getAxes",function(e){var i=this.options.colorAxis;e.call(this),this.colorAxis=[],i&&new t(this,i)}),p(l.prototype,"getAllItems",function(e){var t=[],i=this.chart.colorAxis[0];return i&&i.options&&(i.options.showInLegend&&(i.options.dataClasses?t=t.concat(i.getDataClassLegendSymbols()):t.push(i)),o(i.series,function(e){e.options.showInLegend=!1})),t.concat(e.call(this))}),p(l.prototype,"colorizeItem",function(e,t,i){e.call(this,t,i),i&&t.legendColor&&t.legendSymbol.attr({fill:t.legendColor})})}(e),function(e){var t=e.defined,i=e.each,a=e.noop,s=e.seriesTypes;e.colorPointMixin={isValid:function(){return null!==this.value},setVisible:function(e){var t=this,a=e?"show":"hide";i(["graphic","dataLabel"],function(e){t[e]&&t[e][a]()})},setState:function(t){e.Point.prototype.setState.call(this,t),this.graphic&&this.graphic.attr({zIndex:"hover"===t?1:0})}},e.colorSeriesMixin={pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:a,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:s.column.prototype.pointAttribs,translateColors:function(){var e=this,t=this.options.nullColor,a=this.colorAxis,s=this.colorKey;i(this.data,function(i){var o=i[s];(o=i.options.color||(i.isNull?t:a&&void 0!==o?a.toColor(o,i):i.color||e.color))&&(i.color=o)})},colorAttribs:function(e){var i={};return t(e.color)&&(i[this.colorProp||"fill"]=e.color),i}}}(e),function(e){var t=e.colorPointMixin,i=e.each,a=e.merge,s=e.noop,o=e.pick,n=e.Series,r=e.seriesType,l=e.seriesTypes;r("heatmap","scatter",{animation:!1,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{halo:!1,brightness:.2}}},a(e.colorSeriesMixin,{pointArrayMap:["y","value"],hasPointSpecificOptions:!0,supportsDrilldown:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var e;l.scatter.prototype.init.apply(this,arguments),e=this.options,e.pointRange=o(e.pointRange,e.colsize||1),this.yAxis.axisPointRange=e.rowsize||1},translate:function(){var e=this.options,t=this.xAxis,a=this.yAxis,s=function(e,t,i){return Math.min(Math.max(t,e),i)};this.generatePoints(),i(this.points,function(i){var o=(e.colsize||1)/2,n=(e.rowsize||1)/2,r=s(Math.round(t.len-t.translate(i.x-o,0,1,0,1)),-t.len,2*t.len),o=s(Math.round(t.len-t.translate(i.x+o,0,1,0,1)),-t.len,2*t.len),l=s(Math.round(a.translate(i.y-n,0,1,0,1)),-a.len,2*a.len),n=s(Math.round(a.translate(i.y+n,0,1,0,1)),-a.len,2*a.len);i.plotX=i.clientX=(r+o)/2,i.plotY=(l+n)/2,i.shapeType="rect",i.shapeArgs={x:Math.min(r,o),y:Math.min(l,n),width:Math.abs(o-r),height:Math.abs(n-l)}}),this.translateColors()},drawPoints:function(){l.column.prototype.drawPoints.call(this),i(this.points,function(e){e.graphic.attr(this.colorAttribs(e))},this)},animate:s,getBox:s,drawLegendSymbol:e.LegendSymbolMixin.drawRectangle,alignDataLabel:l.column.prototype.alignDataLabel,getExtremes:function(){n.prototype.getExtremes.call(this,this.valueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,n.prototype.getExtremes.call(this)}}),t)}(e)}),/*
 Highcharts JS v5.0.9 (2017-03-08)

 (c) 2014 Highsoft AS
 Authors: Jon Arild Nygard / Oystein Moseng

 License: www.highcharts.com/license
*/
function(e){"object"==typeof module&&module.exports?module.exports=e:e(Highcharts)}(function(e){!function(e){var t=e.seriesType,i=e.seriesTypes,a=e.map,s=e.merge,o=e.extend,n=e.noop,r=e.each,l=e.grep,c=e.isNumber,d=e.isString,h=e.pick,u=e.Series,p=e.stableSort,m=e.Color,g=function(e,t,i){var a;i=i||this;for(a in e)e.hasOwnProperty(a)&&t.call(i,e[a],a,e)},v=function(e,t,i,a){return a=a||this,e=e||[],r(e,function(s,o){i=t.call(a,i,s,o,e)}),i},f=function(e,t,i){i=i||this,e=t.call(i,e),!1!==e&&f(e,t,i)};t("treemap","scatter",{showInLegend:!1,marker:!1,dataLabels:{enabled:!0,defer:!1,verticalAlign:"middle",formatter:function(){return this.point.name||this.point.id},inside:!0},tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.value}</b><br/>"},ignoreHiddenPoint:!0,layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:!1,levelIsConstant:!0,drillUpButton:{position:{align:"right",x:-10,y:10}},borderColor:"#e6e6e6",borderWidth:1,opacity:.15,states:{hover:{borderColor:"#999999",brightness:i.heatmap?0:.1,opacity:.75,shadow:!1}}},{pointArrayMap:["value"],axisTypes:i.heatmap?["xAxis","yAxis","colorAxis"]:["xAxis","yAxis"],optionalAxis:"colorAxis",getSymbol:n,parallelArrays:["x","y","value","colorValue"],colorKey:"colorValue",translateColors:i.heatmap&&i.heatmap.prototype.translateColors,trackerGroups:["group","dataLabelsGroup"],getListOfParents:function(t,i){return t=v(t,function(e,t,i){return t=h(t.parent,""),void 0===e[t]&&(e[t]=[]),e[t].push(i),e},{}),g(t,function(t,a,s){""!==a&&-1===e.inArray(a,i)&&(r(t,function(e){s[""].push(e)}),delete s[a])}),t},getTree:function(){var e=a(this.data,function(e){return e.id}),e=this.getListOfParents(this.data,e);return this.nodeMap=[],this.buildNode("",-1,0,e,null)},init:function(t,i){u.prototype.init.call(this,t,i),this.options.allowDrillToNode&&e.addEvent(this,"click",this.onClickDrillToNode)},buildNode:function(e,t,i,a,s){var o,n=this,l=[],c=n.points[t];return r(a[e]||[],function(t){o=n.buildNode(n.points[t].id,t,i+1,a,e),l.push(o)}),t={id:e,i:t,children:l,level:i,parent:s,visible:!1},n.nodeMap[t.id]=t,c&&(c.node=t),t},setTreeValues:function(e){var t,i=this,a=i.options,s=0,n=[],l=i.points[e.i];return f(i.nodeMap[i.rootNode],function(e){var t=!1,a=e.parent;return e.visible=!0,(a||""===a)&&(t=i.nodeMap[a]),t}),f(i.nodeMap[i.rootNode].children,function(e){var t=!1;return r(e,function(e){e.visible=!0,e.children.length&&(t=(t||[]).concat(e.children))}),t}),r(e.children,function(e){e=i.setTreeValues(e),n.push(e),e.ignore?f(e.children,function(e){var t=!1;return r(e,function(e){o(e,{ignore:!0,isLeaf:!1,visible:!1}),e.children.length&&(t=(t||[]).concat(e.children))}),t}):s+=e.val}),p(n,function(e,t){return e.sortIndex-t.sortIndex}),t=h(l&&l.options.value,s),l&&(l.value=t),o(e,{children:n,childrenTotal:s,ignore:!(h(l&&l.visible,!0)&&t>0),isLeaf:e.visible&&!s,levelDynamic:a.levelIsConstant?e.level:e.level-i.nodeMap[i.rootNode].level,name:h(l&&l.name,""),sortIndex:h(l&&l.sortIndex,-t),val:t}),e},calculateChildrenAreas:function(e,t){var i=this,a=i.options,o=this.levelMap[e.levelDynamic+1],n=h(i[o&&o.layoutAlgorithm]&&o.layoutAlgorithm,a.layoutAlgorithm),c=a.alternateStartingDirection,d=[];e=l(e.children,function(e){return!e.ignore}),o&&o.layoutStartingDirection&&(t.direction="vertical"===o.layoutStartingDirection?0:1),d=i[n](t,e),r(e,function(e,a){a=d[a],e.values=s(a,{val:e.childrenTotal,direction:c?1-t.direction:t.direction}),e.pointValues=s(a,{x:a.x/i.axisRatio,width:a.width/i.axisRatio}),e.children.length&&i.calculateChildrenAreas(e,e.values)})},setPointValues:function(){var e=this,t=e.xAxis,i=e.yAxis;r(e.points,function(a){var s,o,n,r=a.node,l=r.pointValues;n=(e.pointAttribs(a)["stroke-width"]||0)%2/2,l&&r.visible?(r=Math.round(t.translate(l.x,0,0,0,1))-n,s=Math.round(t.translate(l.x+l.width,0,0,0,1))-n,o=Math.round(i.translate(l.y,0,0,0,1))-n,l=Math.round(i.translate(l.y+l.height,0,0,0,1))-n,a.shapeType="rect",a.shapeArgs={x:Math.min(r,s),y:Math.min(o,l),width:Math.abs(s-r),height:Math.abs(l-o)},a.plotX=a.shapeArgs.x+a.shapeArgs.width/2,a.plotY=a.shapeArgs.y+a.shapeArgs.height/2):(delete a.plotX,delete a.plotY)})},setColorRecursive:function(e,t,i){var a,s,o=this;e&&(a=o.points[e.i],s=o.levelMap[e.levelDynamic],t=h(a&&a.options.color,s&&s.color,t,o.color),i=h(a&&a.options.colorIndex,s&&s.colorIndex,i,o.colorIndex),a&&(a.color=t,a.colorIndex=i),e.children.length&&r(e.children,function(e){o.setColorRecursive(e,t,i)}))},algorithmGroup:function(e,t,i,a){this.height=e,this.width=t,this.plot=a,this.startDirection=this.direction=i,this.lH=this.nH=this.lW=this.nW=this.total=0,this.elArr=[],this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(e,t){return Math.max(e/t,t/e)}},this.addElement=function(e){this.lP.total=this.elArr[this.elArr.length-1],this.total+=e,0===this.direction?(this.lW=this.nW,this.lP.lH=this.lP.total/this.lW,this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH),this.nW=this.total/this.height,this.lP.nH=this.lP.total/this.nW,this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)):(this.lH=this.nH,this.lP.lW=this.lP.total/this.lH,this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH),this.nH=this.total/this.width,this.lP.nW=this.lP.total/this.nH,this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH)),this.elArr.push(e)},this.reset=function(){this.lW=this.nW=0,this.elArr=[],this.total=0}},algorithmCalcPoints:function(e,t,i,a){var s,o,n,l,c,d=i.lW,h=i.lH,u=i.plot,p=0,m=i.elArr.length-1;t?(d=i.nW,h=i.nH):c=i.elArr[i.elArr.length-1],r(i.elArr,function(e){(t||m>p)&&(0===i.direction?(s=u.x,o=u.y,n=d,l=e/n):(s=u.x,o=u.y,l=h,n=e/l),a.push({x:s,y:o,width:n,height:l}),0===i.direction?u.y+=l:u.x+=n),p+=1}),i.reset(),0===i.direction?i.width-=d:i.height-=h,u.y=u.parent.y+(u.parent.height-i.height),u.x=u.parent.x+(u.parent.width-i.width),e&&(i.direction=1-i.direction),t||i.addElement(c)},algorithmLowAspectRatio:function(e,t,i){var a,s=[],o=this,n={x:t.x,y:t.y,parent:t},l=0,c=i.length-1,d=new this.algorithmGroup(t.height,t.width,t.direction,n);return r(i,function(i){a=i.val/t.val*t.height*t.width,d.addElement(a),d.lP.nR>d.lP.lR&&o.algorithmCalcPoints(e,!1,d,s,n),l===c&&o.algorithmCalcPoints(e,!0,d,s,n),l+=1}),s},algorithmFill:function(e,t,i){var a,s,o,n,l,c=[],d=t.direction,h=t.x,u=t.y,p=t.width,m=t.height;return r(i,function(i){a=i.val/t.val*t.height*t.width,s=h,o=u,0===d?(l=m,n=a/l,p-=n,h+=n):(n=p,l=a/n,m-=l,u+=l),c.push({x:s,y:o,width:n,height:l}),e&&(d=1-d)}),c},strip:function(e,t){return this.algorithmLowAspectRatio(!1,e,t)},squarified:function(e,t){return this.algorithmLowAspectRatio(!0,e,t)},sliceAndDice:function(e,t){return this.algorithmFill(!0,e,t)},stripes:function(e,t){return this.algorithmFill(!1,e,t)},translate:function(){var e,t,i=this.rootNode=h(this.rootNode,this.options.rootId,"");u.prototype.translate.call(this),this.levelMap=v(this.options.levels,function(e,t){return e[t.level]=t,e},{}),t=this.tree=this.getTree(),e=this.nodeMap[i],""===i||e&&e.children.length||(this.drillToNode("",!1),i=this.rootNode,e=this.nodeMap[i]),this.setTreeValues(t),this.axisRatio=this.xAxis.len/this.yAxis.len,this.nodeMap[""].pointValues=i={x:0,y:0,width:100,height:100},this.nodeMap[""].values=i=s(i,{width:i.width*this.axisRatio,direction:"vertical"===this.options.layoutStartingDirection?0:1,val:t.val}),this.calculateChildrenAreas(t,i),this.colorAxis?this.translateColors():this.options.colorByPoint||this.setColorRecursive(this.tree),this.options.allowDrillToNode&&(e=e.pointValues,this.xAxis.setExtremes(e.x,e.x+e.width,!1),this.yAxis.setExtremes(e.y,e.y+e.height,!1),this.xAxis.setScale(),this.yAxis.setScale()),this.setPointValues()},drawDataLabels:function(){var e,t,i=this,a=l(i.points,function(e){return e.node.visible});r(a,function(a){t=i.levelMap[a.node.levelDynamic],e={style:{}},a.node.isLeaf||(e.enabled=!1),t&&t.dataLabels&&(e=s(e,t.dataLabels),i._hasPointLabels=!0),a.shapeArgs&&(e.style.width=a.shapeArgs.width,a.dataLabel&&a.dataLabel.css({width:a.shapeArgs.width+"px"})),a.dlOptions=s(e,a.options.dataLabels)}),u.prototype.drawDataLabels.call(this)},alignDataLabel:function(e){i.column.prototype.alignDataLabel.apply(this,arguments),e.dataLabel&&e.dataLabel.attr({zIndex:e.node.zIndex+1})},pointAttribs:function(e,t){var i=this.levelMap[e.node.levelDynamic]||{},a=this.options,s=t&&a.states[t]||{},o=e.getClassName();return e={stroke:e.borderColor||i.borderColor||s.borderColor||a.borderColor,"stroke-width":h(e.borderWidth,i.borderWidth,s.borderWidth,a.borderWidth),dashstyle:e.borderDashStyle||i.borderDashStyle||s.borderDashStyle||a.borderDashStyle,fill:e.color||this.color},-1!==o.indexOf("highcharts-above-level")?(e.fill="none",e["stroke-width"]=0):-1!==o.indexOf("highcharts-internal-node-interactive")?(t=h(s.opacity,a.opacity),e.fill=m(e.fill).setOpacity(t).get(),e.cursor="pointer"):-1!==o.indexOf("highcharts-internal-node")?e.fill="none":t&&(e.fill=m(e.fill).brighten(s.brightness).get()),e},drawPoints:function(){var e=this,t=l(e.points,function(e){return e.node.visible});r(t,function(t){var i="levelGroup-"+t.node.levelDynamic;e[i]||(e[i]=e.chart.renderer.g(i).attr({zIndex:1e3-t.node.levelDynamic}).add(e.group)),t.group=e[i]}),i.column.prototype.drawPoints.call(this),e.options.allowDrillToNode&&r(t,function(t){t.graphic&&(t.drillId=e.options.interactByLeaf?e.drillToByLeaf(t):e.drillToByGroup(t))})},onClickDrillToNode:function(e){var t=(e=e.point)&&e.drillId;d(t)&&(e.setState(""),this.drillToNode(t))},drillToByGroup:function(e){var t=!1;return 1!==e.node.level-this.nodeMap[this.rootNode].level||e.node.isLeaf||(t=e.id),t},drillToByLeaf:function(e){var t=!1;if(e.node.parent!==this.rootNode&&e.node.isLeaf)for(e=e.node;!t;)e=this.nodeMap[e.parent],e.parent===this.rootNode&&(t=e.id);return t},drillUp:function(){var e=this.nodeMap[this.rootNode];e&&d(e.parent)&&this.drillToNode(e.parent)},drillToNode:function(e,t){var i=this.nodeMap[e];this.rootNode=e,""===e?this.drillUpButton=this.drillUpButton.destroy():this.showDrillUpButton(i&&i.name||e),this.isDirty=!0,h(t,!0)&&this.chart.redraw()},showDrillUpButton:function(e){var t=this;e=e||"< Back";var i,a,s=t.options.drillUpButton;s.text&&(e=s.text),this.drillUpButton?this.drillUpButton.attr({text:e}).align():(a=(i=s.theme)&&i.states,this.drillUpButton=this.chart.renderer.button(e,null,null,function(){t.drillUp()},i,a&&a.hover,a&&a.select).attr({align:s.position.align,zIndex:7}).add().align(s.position,!1,s.relativeTo||"plotBox"))},buildKDTree:n,drawLegendSymbol:e.LegendSymbolMixin.drawRectangle,getExtremes:function(){u.prototype.getExtremes.call(this,this.colorValueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,u.prototype.getExtremes.call(this)},getExtremesFromAll:!0,bindAxes:function(){var t={endOnTick:!1,gridLineWidth:0,lineWidth:0,min:0,dataMin:0,minPadding:0,max:100,dataMax:100,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]};u.prototype.bindAxes.call(this),e.extend(this.yAxis.options,t),e.extend(this.xAxis.options,t)}},{getClassName:function(){var t=e.Point.prototype.getClassName.call(this),i=this.series,a=i.options;return this.node.level<=i.nodeMap[i.rootNode].level?t+=" highcharts-above-level":this.node.isLeaf||h(a.interactByLeaf,!a.allowDrillToNode)?this.node.isLeaf||(t+=" highcharts-internal-node"):t+=" highcharts-internal-node-interactive",t},isValid:function(){return c(this.value)},setState:function(t){e.Point.prototype.setState.call(this,t),this.graphic&&this.graphic.attr({zIndex:"hover"===t?1:0})},setVisible:i.pie.prototype.pointClass.prototype.setVisible})}(e)}),/*
 Highcharts JS v5.0.9 (2017-03-08)
 Exporting module

 (c) 2010-2016 Torstein Honsi

 License: www.highcharts.com/license
*/
function(e){"object"==typeof module&&module.exports?module.exports=e:e(Highcharts)}(function(e){!function(e){var t=e.defaultOptions,i=e.doc,a=e.Chart,s=e.addEvent,o=e.removeEvent,n=e.fireEvent,r=e.createElement,l=e.discardElement,c=e.css,d=e.merge,h=e.pick,u=e.each,p=e.extend,m=e.isTouchDevice,g=e.win,v=e.Renderer.prototype.symbols;p(t.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),t.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}},d(!0,t.navigation,{menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",background:"none",color:"#333333",fontSize:m?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"},buttonOptions:{symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",stroke:"none",padding:5}}}),t.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},e.post=function(e,t,a){var s;e=r("form",d({method:"post",action:e,enctype:"multipart/form-data"},a),{display:"none"},i.body);for(s in t)r("input",{type:"hidden",name:s,value:t[s]},null,e);e.submit(),l(e)},p(a.prototype,{sanitizeSVG:function(e,t){if(t&&t.exporting&&t.exporting.allowHTML){var i=e.match(/<\/svg>(.*?$)/);i&&(i='<foreignObject x="0" y="0" width="'+t.chart.width+'" height="'+t.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+i[1]+"</body></foreignObject>",e=e.replace("</svg>",i+"</svg>"))}return e=e.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"").replace(/&shy;/g,""),e=e.replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(e){return e.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(t){var a,s,o,n,c,h=d(this.options,t);return i.createElementNS||(i.createElementNS=function(e,t){return i.createElement(t)}),s=r("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},i.body),o=this.renderTo.style.width,c=this.renderTo.style.height,o=h.exporting.sourceWidth||h.chart.width||/px$/.test(o)&&parseInt(o,10)||600,c=h.exporting.sourceHeight||h.chart.height||/px$/.test(c)&&parseInt(c,10)||400,p(h.chart,{animation:!1,renderTo:s,forExport:!0,renderer:"SVGRenderer",width:o,height:c}),h.exporting.enabled=!1,delete h.data,h.series=[],u(this.series,function(e){n=d(e.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:e.visible}),n.isInternal||h.series.push(n)}),u(this.axes,function(t){t.userOptions.internalKey=e.uniqueKey()}),a=new e.Chart(h,this.callback),t&&u(["xAxis","yAxis","series"],function(e){var i={};t[e]&&(i[e]=t[e],a.update(i))}),u(this.axes,function(t){var i=e.find(a.axes,function(e){return e.options.internalKey===t.userOptions.internalKey}),s=t.getExtremes(),o=s.userMin,s=s.userMax;!i||void 0===o&&void 0===s||i.setExtremes(o,s,!0,!1)}),o=a.getChartHTML(),o=this.sanitizeSVG(o,h),h=null,a.destroy(),l(s),o},getSVGForExport:function(e,t){var i=this.options.exporting;return this.getSVG(d({chart:{borderRadius:0}},i.chartOptions,t,{exporting:{sourceWidth:e&&e.sourceWidth||i.sourceWidth,sourceHeight:e&&e.sourceHeight||i.sourceHeight}}))},exportChart:function(t,i){i=this.getSVGForExport(t,i),t=d(this.options.exporting,t),e.post(t.url,{filename:t.filename||"chart",type:t.type,width:t.width||0,scale:t.scale,svg:i},t.formAttributes)},print:function(){var e,t,a=this,s=a.container,o=[],r=s.parentNode,l=i.body,c=l.childNodes,d=a.options.exporting.printMaxWidth;a.isPrinting||(a.isPrinting=!0,a.pointer.reset(null,0),n(a,"beforePrint"),(t=d&&a.chartWidth>d)&&(e=[a.options.chart.width,void 0,!1],a.setSize(d,void 0,!1)),u(c,function(e,t){1===e.nodeType&&(o[t]=e.style.display,e.style.display="none")}),l.appendChild(s),g.focus(),g.print(),setTimeout(function(){r.appendChild(s),u(c,function(e,t){1===e.nodeType&&(e.style.display=o[t])}),a.isPrinting=!1,t&&a.setSize.apply(a,e),n(a,"afterPrint")},1e3))},contextMenu:function(e,t,a,o,n,l,d){var h,m,g=this,v=g.options.navigation,f=g.chartWidth,b=g.chartHeight,y="cache-"+e,x=g[y],w=Math.max(n,l);x||(g[y]=x=r("div",{className:e},{position:"absolute",zIndex:1e3,padding:w+"px"},g.container),h=r("div",{className:"highcharts-menu"},null,x),c(h,p({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},v.menuStyle)),m=function(){c(x,{display:"none"}),d&&d.setState(0),g.openMenu=!1},s(x,"mouseleave",function(){x.hideTimer=setTimeout(m,500)}),s(x,"mouseenter",function(){clearTimeout(x.hideTimer)}),y=s(i,"mouseup",function(t){g.pointer.inClass(t.target,e)||m()}),s(g,"destroy",y),u(t,function(e){if(e){var t;e.separator?t=r("hr",null,null,h):(t=r("div",{className:"highcharts-menu-item",onclick:function(t){t&&t.stopPropagation(),m(),e.onclick&&e.onclick.apply(g,arguments)},innerHTML:e.text||g.options.lang[e.textKey]},null,h),t.onmouseover=function(){c(this,v.menuItemHoverStyle)},t.onmouseout=function(){c(this,v.menuItemStyle)},c(t,p({cursor:"pointer"},v.menuItemStyle))),g.exportDivElements.push(t)}}),g.exportDivElements.push(h,x),g.exportMenuWidth=x.offsetWidth,g.exportMenuHeight=x.offsetHeight),t={display:"block"},a+g.exportMenuWidth>f?t.right=f-a-n-w+"px":t.left=a-w+"px",o+l+g.exportMenuHeight>b&&"top"!==d.alignOptions.verticalAlign?t.bottom=b-o-w+"px":t.top=o+l-w+"px",c(x,t),g.openMenu=!0},addButton:function(e){var t,i,a=this,s=a.renderer,o=d(a.options.navigation.buttonOptions,e),n=o.onclick,r=o.menuItems,l=o.symbolSize||12;if(a.btnCount||(a.btnCount=0),a.exportDivElements||(a.exportDivElements=[],a.exportSVGElements=[]),!1!==o.enabled){var c,u=o.theme,m=u.states,g=m&&m.hover,m=m&&m.select;delete u.states,n?c=function(e){e.stopPropagation(),n.call(a,e)}:r&&(c=function(){a.contextMenu(i.menuClassName,r,i.translateX,i.translateY,i.width,i.height,i),i.setState(2)}),o.text&&o.symbol?u.paddingLeft=h(u.paddingLeft,25):o.text||p(u,{width:o.width,height:o.height,padding:0}),i=s.button(o.text,0,0,c,u,g,m).addClass(e.className).attr({"stroke-linecap":"round",title:a.options.lang[o._titleKey],zIndex:3}),i.menuClassName=e.menuClassName||"highcharts-menu-"+a.btnCount++,o.symbol&&(t=s.symbol(o.symbol,o.symbolX-l/2,o.symbolY-l/2,l,l).addClass("highcharts-button-symbol").attr({zIndex:1}).add(i),t.attr({stroke:o.symbolStroke,fill:o.symbolFill,"stroke-width":o.symbolStrokeWidth||1})),i.add().align(p(o,{width:i.width,x:h(o.x,a.buttonOffset)}),!0,"spacingBox"),a.buttonOffset+=(i.width+o.buttonSpacing)*("right"===o.align?-1:1),a.exportSVGElements.push(i,t)}},destroyExport:function(e){var t=e?e.target:this;e=t.exportSVGElements;var i=t.exportDivElements;e&&(u(e,function(e,i){e&&(e.onclick=e.ontouchstart=null,t.exportSVGElements[i]=e.destroy())}),e.length=0),i&&(u(i,function(e,i){clearTimeout(e.hideTimer),o(e,"mouseleave"),t.exportDivElements[i]=e.onmouseout=e.onmouseover=e.ontouchstart=e.onclick=null,l(e)}),i.length=0)}}),v.menu=function(e,t,i,a){return["M",e,t+2.5,"L",e+i,t+2.5,"M",e,t+a/2+.5,"L",e+i,t+a/2+.5,"M",e,t+a-1.5,"L",e+i,t+a-1.5]},a.prototype.renderExporting=function(){var e,t=this.options.exporting,i=t.buttons,a=this.isDirtyExporting||!this.exportSVGElements;if(this.buttonOffset=0,this.isDirtyExporting&&this.destroyExport(),a&&!1!==t.enabled){for(e in i)this.addButton(i[e]);this.isDirtyExporting=!1}s(this,"destroy",this.destroyExport)},a.prototype.callbacks.push(function(e){e.renderExporting(),s(e,"redraw",e.renderExporting),u(["exporting","navigation"],function(t){e[t]={update:function(i,a){e.isDirtyExporting=!0,d(!0,e.options[t],i),h(a,!0)&&e.redraw()}}})})}(e)}),/*
 Highcharts JS v5.0.9 (2017-03-08)
 Client side exporting module

 (c) 2015 Torstein Honsi / Oystein Moseng

 License: www.highcharts.com/license
*/
function(e){"object"==typeof module&&module.exports?module.exports=e:e(Highcharts)}(function(e){!function(e){function t(e,t){var i=o.getElementsByTagName("head")[0],a=o.createElement("script");a.type="text/javascript",a.src=e,a.onload=t,a.onerror=function(){console.error("Error loading script",e)},i.appendChild(a)}var i=e.merge,a=e.win,s=a.navigator,o=a.document,n=e.each,r=a.URL||a.webkitURL||a,l=/Edge\/|Trident\/|MSIE /.test(s.userAgent),c=/Edge\/\d+/.test(s.userAgent),d=l?150:0;e.CanVGRenderer={},e.dataURLtoBlob=function(e){if(a.atob&&a.ArrayBuffer&&a.Uint8Array&&a.Blob&&r.createObjectURL){e=e.match(/data:([^;]*)(;base64)?,([0-9A-Za-z+\/]+)/);for(var t=a.atob(e[3]),i=new a.ArrayBuffer(t.length),i=new a.Uint8Array(i),s=0;s<i.length;++s)i[s]=t.charCodeAt(s);return e=new a.Blob([i],{type:e[1]}),r.createObjectURL(e)}},e.downloadURL=function(t,i){var n,r=o.createElement("a");if(s.msSaveOrOpenBlob)s.msSaveOrOpenBlob(t,i);else{if(2e6<t.length&&(t=e.dataURLtoBlob(t),!t))throw"Data URL length limit reached";if(void 0!==r.download)r.href=t,r.download=i,r.target="_blank",o.body.appendChild(r),r.click(),o.body.removeChild(r);else try{if(n=a.open(t,"chart"),void 0===n||null===n)throw"Failed to open window"}catch(l){a.location.href=t}}},e.svgToDataUrl=function(e){var t=-1<s.userAgent.indexOf("WebKit")&&0>s.userAgent.indexOf("Chrome");try{if(!t&&0>s.userAgent.toLowerCase().indexOf("firefox"))return r.createObjectURL(new a.Blob([e],{type:"image/svg+xml;charset-utf-16"}))}catch(i){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(e)},e.imageToDataUrl=function(e,t,i,s,n,r,l,c,h){var u,p=new a.Image,m=function(){setTimeout(function(){var a,r=o.createElement("canvas"),c=r.getContext&&r.getContext("2d");try{if(c){r.height=p.height*s,r.width=p.width*s,c.drawImage(p,0,0,r.width,r.height);try{a=r.toDataURL(t),n(a,t,i,s)}catch(d){u(e,t,i,s)}}else l(e,t,i,s)}finally{h&&h(e,t,i,s)}},d)},g=function(){c(e,t,i,s),h&&h(e,t,i,s)};u=function(){p=new a.Image,u=r,p.crossOrigin="Anonymous",p.onload=m,p.onerror=g,p.src=e},p.onload=m,p.onerror=g,p.src=e},e.downloadSVGLocal=function(i,l,c,d){function h(e,t){return t=new a.jsPDF("l","pt",[e.width.baseVal.value+2*t,e.height.baseVal.value+2*t]),a.svg2pdf(e,t,{removeInvalid:!0}),t.output("datauristring")}function u(){b.innerHTML=i;var t,a=b.getElementsByTagName("text"),s=b.getElementsByTagName("svg")[0].style;n(a,function(e){n(["font-family","font-size"],function(t){!e.style[t]&&s[t]&&(e.style[t]=s[t])}),e.style["font-family"]=e.style["font-family"]&&e.style["font-family"].split(" ").splice(-1),t=e.getElementsByTagName("title"),n(t,function(t){e.removeChild(t)})}),a=h(b.firstChild,0);try{e.downloadURL(a,x),d&&d()}catch(o){c()}}var p,m,g,v=!0,f=l.libURL||e.getOptions().exporting.libURL,b=o.createElement("div"),y=l.type||"image/png",x=(l.filename||"chart")+"."+("image/svg+xml"===y?"svg":y.split("/")[1]),w=l.scale||1,f="/"!==f.slice(-1)?f+"/":f;if("image/svg+xml"===y)try{s.msSaveOrOpenBlob?(m=new MSBlobBuilder,m.append(i),p=m.getBlob("image/svg+xml")):p=e.svgToDataUrl(i),e.downloadURL(p,x),d&&d()}catch(L){c()}else"application/pdf"===y?a.jsPDF&&a.svg2pdf?u():(v=!0,t(f+"jspdf.js",function(){t(f+"svg2pdf.js",function(){u()})})):(p=e.svgToDataUrl(i),g=function(){try{r.revokeObjectURL(p)}catch(e){}},e.imageToDataUrl(p,y,{},w,function(t){try{e.downloadURL(t,x),d&&d()}catch(i){c()}},function(){var n=o.createElement("canvas"),r=n.getContext("2d"),l=i.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*w,h=i.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*w,u=function(){r.drawSvg(i,0,0,l,h);try{e.downloadURL(s.msSaveOrOpenBlob?n.msToBlob():n.toDataURL(y),x),d&&d()}catch(t){c()}finally{g()}};n.width=l,n.height=h,a.canvg?u():(v=!0,t(f+"rgbcolor.js",function(){t(f+"canvg.js",function(){u()})}))},c,c,function(){v&&g()}))},e.Chart.prototype.getSVGForLocalExport=function(t,i,a,s){var o,n,r,l,c,d,h=this,u=0,p=function(e,t,i){++u,i.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",e),u===o.length&&s(h.sanitizeSVG(n.innerHTML,r))};e.wrap(e.Chart.prototype,"getChartHTML",function(e){var t=e.apply(this,Array.prototype.slice.call(arguments,1));return r=this.options,n=this.container.cloneNode(!0),t}),h.getSVGForExport(t,i),o=n.getElementsByTagName("image");try{if(o.length)for(c=0,d=o.length;d>c;++c)l=o[c],e.imageToDataUrl(l.getAttributeNS("http://www.w3.org/1999/xlink","href"),"image/png",{imageElement:l},t.scale,p,a,a,a);else s(h.sanitizeSVG(n.innerHTML,r))}catch(m){a()}},e.Chart.prototype.exportChartLocal=function(t,i){var a=this,s=e.merge(a.options.exporting,t),o=function(){if(!1===s.fallbackToExportServer){if(!s.error)throw"Fallback to export server disabled";s.error(s)}else a.exportChart(s)};l&&("application/pdf"===s.type||a.container.getElementsByTagName("image").length&&"image/svg+xml"!==s.type)||c&&"image/svg+xml"!==s.type||"application/pdf"===s.type&&a.container.getElementsByTagName("image").length?o():a.getSVGForLocalExport(s,i,o,function(t){-1<t.indexOf("<foreignObject")&&"image/svg+xml"!==s.type?o():e.downloadSVGLocal(t,s,o)})},i(!0,e.getOptions().exporting,{libURL:"https://code.highcharts.com/5.0.9/lib/",buttons:{contextButton:{menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}]}}})}(e)}),function(){var e;window.AmCharts?e=window.AmCharts:(e={},window.AmCharts=e,e.themes={},e.maps={},e.inheriting={},e.charts=[],e.onReadyArray=[],e.useUTC=!1,e.updateRate=60,e.uid=0,e.lang={},e.translations={},e.mapTranslations={},e.windows={},e.initHandlers=[],e.amString="am",e.pmString="pm"),e.Class=function(t){var i=function(){arguments[0]!==e.inheriting&&(this.events={},this.construct.apply(this,arguments))};t.inherits?(i.prototype=new t.inherits(e.inheriting),i.base=t.inherits.prototype,delete t.inherits):(i.prototype.createEvents=function(){for(var e=0;e<arguments.length;e++)this.events[arguments[e]]=[]},i.prototype.listenTo=function(e,t,i){this.removeListener(e,t,i),e.events[t].push({handler:i,scope:this})},i.prototype.addListener=function(e,t,i){this.removeListener(this,e,t),e&&this.events[e]&&this.events[e].push({handler:t,scope:i})},i.prototype.removeListener=function(e,t,i){if(e&&e.events&&(e=e.events[t]))for(t=e.length-1;t>=0;t--)e[t].handler===i&&e.splice(t,1)},i.prototype.fire=function(e){for(var t=this.events[e.type],i=0;i<t.length;i++){var a=t[i];a.handler.call(a.scope,e)}});for(var a in t)i.prototype[a]=t[a];return i},e.addChart=function(t){window.requestAnimationFrame?e.animationRequested||(e.animationRequested=!0,window.requestAnimationFrame(e.update)):e.updateInt||(e.updateInt=setInterval(function(){e.update()},Math.round(1e3/e.updateRate))),e.charts.push(t)},e.removeChart=function(t){for(var i=e.charts,a=i.length-1;a>=0;a--)i[a]==t&&i.splice(a,1);0===i.length&&(e.requestAnimation&&(window.cancelAnimationFrame(e.requestAnimation),e.animationRequested=!1),e.updateInt&&(clearInterval(e.updateInt),e.updateInt=NaN))},e.isModern=!0,e.getIEVersion=function(){var e,t,i=0;return"Microsoft Internet Explorer"==navigator.appName&&(e=navigator.userAgent,t=/MSIE ([0-9]{1,}[.0-9]{0,})/,null!==t.exec(e)&&(i=parseFloat(RegExp.$1))),i},e.applyLang=function(t,i){var a=e.translations;i.dayNames=e.extend({},e.dayNames),i.shortDayNames=e.extend({},e.shortDayNames),i.monthNames=e.extend({},e.monthNames),i.shortMonthNames=e.extend({},e.shortMonthNames),i.amString="am",i.pmString="pm",a&&(a=a[t])&&(e.lang=a,i.langObj=a,a.monthNames&&(i.dayNames=e.extend({},a.dayNames),i.shortDayNames=e.extend({},a.shortDayNames),i.monthNames=e.extend({},a.monthNames),i.shortMonthNames=e.extend({},a.shortMonthNames)),a.am&&(i.amString=a.am),a.pm&&(i.pmString=a.pm)),e.amString=i.amString,e.pmString=i.pmString},e.IEversion=e.getIEVersion(),9>e.IEversion&&0<e.IEversion&&(e.isModern=!1,e.isIE=!0),e.dx=0,e.dy=0,(document.addEventListener||window.opera)&&(e.isNN=!0,e.isIE=!1,e.dx=.5,e.dy=.5),document.attachEvent&&(e.isNN=!1,e.isIE=!0,e.isModern||(e.dx=0,e.dy=0)),window.chrome&&(e.chrome=!0),e.handleMouseUp=function(t){for(var i=e.charts,a=0;a<i.length;a++){var s=i[a];s&&s.handleReleaseOutside&&s.handleReleaseOutside(t)}},e.handleMouseMove=function(t){for(var i=e.charts,a=0;a<i.length;a++){var s=i[a];s&&s.handleMouseMove&&s.handleMouseMove(t)}},e.handleWheel=function(t){for(var i=e.charts,a=0;a<i.length;a++){var s=i[a];if(s&&s.mouseIsOver){(s.mouseWheelScrollEnabled||s.mouseWheelZoomEnabled)&&s.handleWheel&&s.handleWheel(t);break}}},e.resetMouseOver=function(){for(var t=e.charts,i=0;i<t.length;i++){var a=t[i];a&&(a.mouseIsOver=!1)}},e.ready=function(t){e.onReadyArray.push(t)},e.handleLoad=function(){e.isReady=!0;for(var t=e.onReadyArray,i=0;i<t.length;i++){var a=t[i];isNaN(e.processDelay)?a():setTimeout(a,e.processDelay*i)}},e.addInitHandler=function(t,i){e.initHandlers.push({method:t,types:i})},e.callInitHandler=function(t){var i=e.initHandlers;if(e.initHandlers)for(var a=0;a<i.length;a++){var s=i[a];s.types?e.isInArray(s.types,t.type)&&s.method(t):s.method(t)}},e.getUniqueId=function(){return e.uid++,"AmChartsEl-"+e.uid},e.isNN&&(document.addEventListener("mousemove",e.handleMouseMove),document.addEventListener("mouseup",e.handleMouseUp,!0),window.addEventListener("load",e.handleLoad,!0)),e.isIE&&(document.attachEvent("onmousemove",e.handleMouseMove),document.attachEvent("onmouseup",e.handleMouseUp),window.attachEvent("onload",e.handleLoad)),e.addWheelListeners=function(){e.wheelIsListened||(e.isNN&&(window.addEventListener("DOMMouseScroll",e.handleWheel,!0),document.addEventListener("mousewheel",e.handleWheel,!0)),e.isIE&&document.attachEvent("onmousewheel",e.handleWheel)),e.wheelIsListened=!0},e.clear=function(){var t=e.charts;if(t)for(var i=t.length-1;i>=0;i--)t[i].clear();e.updateInt&&clearInterval(e.updateInt),e.requestAnimation&&window.cancelAnimationFrame(e.requestAnimation),e.charts=[],e.isNN&&(document.removeEventListener("mousemove",e.handleMouseMove,!0),document.removeEventListener("mouseup",e.handleMouseUp,!0),window.removeEventListener("load",e.handleLoad,!0),window.removeEventListener("DOMMouseScroll",e.handleWheel,!0),document.removeEventListener("mousewheel",e.handleWheel,!0)),e.isIE&&(document.detachEvent("onmousemove",e.handleMouseMove),document.detachEvent("onmouseup",e.handleMouseUp),window.detachEvent("onload",e.handleLoad))},e.makeChart=function(t,i,a){var s=i.type,o=i.theme;e.isString(o)&&(o=e.themes[o],i.theme=o);var n;switch(s){case"serial":n=new e.AmSerialChart(o);break;case"xy":n=new e.AmXYChart(o);break;case"pie":n=new e.AmPieChart(o);break;case"radar":n=new e.AmRadarChart(o);break;case"gauge":n=new e.AmAngularGauge(o);break;case"funnel":n=new e.AmFunnelChart(o);break;case"map":n=new e.AmMap(o);break;case"stock":n=new e.AmStockChart(o);break;case"gantt":n=new e.AmGanttChart(o)}return e.extend(n,i),e.isReady?isNaN(a)?n.write(t):setTimeout(function(){e.realWrite(n,t)},a):e.ready(function(){isNaN(a)?n.write(t):setTimeout(function(){e.realWrite(n,t)},a)}),n},e.realWrite=function(e,t){e.write(t)},e.updateCount=0,e.validateAt=Math.round(e.updateRate/10),e.update=function(){var t=e.charts;e.updateCount++;var i=!1;if(e.updateCount==e.validateAt&&(i=!0,e.updateCount=0),t)for(var a=t.length-1;a>=0;a--)t[a].update&&t[a].update(),i&&(t[a].autoResize?t[a].validateSize&&t[a].validateSize():t[a].premeasure&&t[a].premeasure());window.requestAnimationFrame&&(e.requestAnimation=window.requestAnimationFrame(e.update))},"complete"==document.readyState&&e.handleLoad()}(),function(){var e=window.AmCharts;e.toBoolean=function(e,t){if(void 0===e)return t;switch(String(e).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return!!e}},e.removeFromArray=function(e,t){var i;if(void 0!==t&&void 0!==e)for(i=e.length-1;i>=0;i--)e[i]==t&&e.splice(i,1)},e.getPath=function(){var e=document.getElementsByTagName("script");if(e)for(var t=0;t<e.length;t++){var i=e[t].src;if(-1!==i.search(/\/(amcharts|ammap)\.js/))return i.replace(/\/(amcharts|ammap)\.js.*/,"/")}},e.normalizeUrl=function(e){return""!==e&&-1===e.search(/\/$/)?e+"/":e},e.isAbsolute=function(e){return 0===e.search(/^http[s]?:|^\//)},e.isInArray=function(e,t){for(var i=0;i<e.length;i++)if(e[i]==t)return!0;return!1},e.getDecimals=function(e){var t=0;return isNaN(e)||(e=String(e),-1!=e.indexOf("e-")?t=Number(e.split("-")[1]):-1!=e.indexOf(".")&&(t=e.split(".")[1].length)),t},e.wordwrap=function(t,i,a,s){var o,n,r,l;if(t+="",1>i)return t;for(o=-1,t=(l=t.split(/\r\n|\n|\r/)).length;++o<t;l[o]+=r){for(r=l[o],l[o]="";r.length>i;l[o]+=e.trim(r.slice(0,n))+((r=r.slice(n)).length?a:""))n=2==s||(n=r.slice(0,i+1).match(/\S*(\s)?$/))[1]?i:n.input.length-n[0].length||1==s&&i||n.input.length+(n=r.slice(i).match(/^\S*/))[0].length;r=e.trim(r)}return l.join(a)},e.trim=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.wrappedText=function(t,i,a,s,o,n,r,l){var c=e.text(t,i,a,s,o,n,r);if(c){var d=c.getBBox();if(d.width>l){var h="\n";e.isModern||(h="<br>"),l=Math.floor(l/(d.width/i.length)),l>2&&(l-=2),i=e.wordwrap(i,l,h,!0),c.remove(),c=e.text(t,i,a,s,o,n,r)}}return c},e.getStyle=function(e,t){var i="";if(document.defaultView&&document.defaultView.getComputedStyle)try{i=document.defaultView.getComputedStyle(e,"").getPropertyValue(t)}catch(a){}else e.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),i=e.currentStyle[t]);return i},e.removePx=function(e){return void 0!==e?Number(e.substring(0,e.length-2)):void 0},e.getURL=function(t,i){if(t)if("_self"!=i&&i)if("_top"==i&&window.top)window.top.location.href=t;else if("_parent"==i&&window.parent)window.parent.location.href=t;else if("_blank"==i)window.open(t);else{var a=document.getElementsByName(i)[0];a?a.src=t:(a=e.windows[i])&&a.opener&&!a.opener.closed?a.location.href=t:e.windows[i]=window.open(t)}else window.location.href=t},e.ifArray=function(e){return e&&"object"==typeof e&&0<e.length?!0:!1},e.callMethod=function(e,t){var i;for(i=0;i<t.length;i++){var a=t[i];if(a){a[e]&&a[e]();var s=a.length;if(s>0){var o;for(o=0;s>o;o++){var n=a[o];n&&n[e]&&n[e]()}}}}},e.toNumber=function(e){return"number"==typeof e?e:Number(String(e).replace(/[^0-9\-.]+/g,""))},e.toColor=function(e){if(""!==e&&void 0!==e)if(-1!=e.indexOf(",")){e=e.split(",");var t;for(t=0;t<e.length;t++){var i=e[t].substring(e[t].length-6,e[t].length);e[t]="#"+i}}else e=e.substring(e.length-6,e.length),e="#"+e;return e},e.toCoordinate=function(e,t,i){var a;return void 0!==e&&(e=String(e),i&&t>i&&(t=i),a=Number(e),-1!=e.indexOf("!")&&(a=t-Number(e.substr(1))),-1!=e.indexOf("%")&&(a=t*Number(e.substr(0,e.length-1))/100)),a},e.fitToBounds=function(e,t,i){return t>e&&(e=t),e>i&&(e=i),e},e.isDefined=function(e){return void 0===e?!1:!0},e.stripNumbers=function(e){return e.replace(/[0-9]+/g,"")},e.roundTo=function(e,t){if(0>t)return e;var i=Math.pow(10,t);return Math.round(e*i)/i},e.toFixed=function(e,t){var i=String(Math.round(e*Math.pow(10,t)));if(t>0){var a=i.length;if(t>a){var s;for(s=0;t-a>s;s++)i="0"+i}return a=i.substring(0,i.length-t),""===a&&(a=0),a+"."+i.substring(i.length-t,i.length)}return String(i)},e.formatDuration=function(t,i,a,s,o,n){var r=e.intervals,l=n.decimalSeparator;if(t>=r[i].contains){var c=t-Math.floor(t/r[i].contains)*r[i].contains;return"ss"==i?(c=e.formatNumber(c,n),1==c.split(l)[0].length&&(c="0"+c)):c=e.roundTo(c,n.precision),("mm"==i||"hh"==i)&&10>c&&(c="0"+c),a=c+""+s[i]+a,t=Math.floor(t/r[i].contains),i=r[i].nextInterval,e.formatDuration(t,i,a,s,o,n)}if("ss"==i&&(t=e.formatNumber(t,n),1==t.split(l)[0].length&&(t="0"+t)),("mm"==i||"hh"==i)&&10>t&&(t="0"+t),a=t+""+s[i]+a,r[o].count>r[i].count)for(t=r[i].count;t<r[o].count;t++)i=r[i].nextInterval,"ss"==i||"mm"==i||"hh"==i?a="00"+s[i]+a:"DD"==i&&(a="0"+s[i]+a);return":"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a},e.formatNumber=function(t,i,a,s,o){t=e.roundTo(t,i.precision),isNaN(a)&&(a=i.precision);var n=i.decimalSeparator;i=i.thousandsSeparator;var r;r=0>t?"-":"",t=Math.abs(t);var l=String(t),c=!1;-1!=l.indexOf("e")&&(c=!0),a>=0&&!c&&(l=e.toFixed(t,a));var d="";if(c)d=l;else{var h,l=l.split("."),c=String(l[0]);for(h=c.length;h>=0;h-=3)d=h!=c.length?0!==h?c.substring(h-3,h)+i+d:c.substring(h-3,h)+d:c.substring(h-3,h);void 0!==l[1]&&(d=d+n+l[1]),void 0!==a&&a>0&&"0"!=d&&(d=e.addZeroes(d,n,a))}return d=r+d,""===r&&!0===s&&0!==t&&(d="+"+d),!0===o&&(d+="%"),d},e.addZeroes=function(t,i,a){return t=t.split(i),void 0===t[1]&&a>0&&(t[1]="0"),t[1].length<a?(t[1]+="0",e.addZeroes(t[0]+i+t[1],i,a)):void 0!==t[1]?t[0]+i+t[1]:t[0]},e.scientificToNormal=function(e){var t;e=String(e).split("e");var i;if("-"==e[1].substr(0,1)){for(t="0.",i=0;i<Math.abs(Number(e[1]))-1;i++)t+="0";t+=e[0].split(".").join("")}else{var a=0;for(t=e[0].split("."),t[1]&&(a=t[1].length),t=e[0].split(".").join(""),i=0;i<Math.abs(Number(e[1]))-a;i++)t+="0"}return t},e.toScientific=function(e,t){if(0===e)return"0";var i=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),a=String(a).split(".").join(t);return String(a)+"e"+i},e.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},e.hitTest=function(t,i,a){var s=!1,o=t.x,n=t.x+t.width,r=t.y,l=t.y+t.height,c=e.isInRectangle;return s||(s=c(o,r,i)),s||(s=c(o,l,i)),s||(s=c(n,r,i)),s||(s=c(n,l,i)),s||!0===a||(s=e.hitTest(i,t,!0)),s},e.isInRectangle=function(e,t,i){return e>=i.x-5&&e<=i.x+i.width+5&&t>=i.y-5&&t<=i.y+i.height+5?!0:!1},e.isPercents=function(e){return-1!=String(e).indexOf("%")?!0:void 0},e.formatValue=function(t,i,a,s,o,n,r,l){if(i){void 0===o&&(o="");var c;for(c=0;c<a.length;c++){var d=a[c],h=i[d];void 0!==h&&(h=n?e.addPrefix(h,l,r,s):e.formatNumber(h,s),t=t.replace(new RegExp("\\[\\["+o+d+"\\]\\]","g"),h))}}return t},e.formatDataContextValue=function(e,t){if(e){var i,a=e.match(/\[\[.*?\]\]/g);for(i=0;i<a.length;i++){var s=a[i],s=s.substr(2,s.length-4);void 0!==t[s]&&(e=e.replace(new RegExp("\\[\\["+s+"\\]\\]","g"),t[s]))}}return e},e.massReplace=function(e,t){for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];void 0===a&&(a=""),e=e.replace(i,a)}return e},e.cleanFromEmpty=function(e){return e.replace(/\[\[[^\]]*\]\]/g,"")},e.addPrefix=function(t,i,a,s,o){var n,r,l,c=e.formatNumber(t,s),d="";if(0===t)return"0";if(0>t&&(d="-"),t=Math.abs(t),t>1){for(n=i.length-1;n>-1;n--)if(t>=i[n].number&&(r=t/i[n].number,l=Number(s.precision),1>l&&(l=1),a=e.roundTo(r,l),l=e.formatNumber(a,{precision:-1,decimalSeparator:s.decimalSeparator,thousandsSeparator:s.thousandsSeparator}),!o||r==a)){c=d+""+l+i[n].prefix;break}}else for(n=0;n<a.length;n++)if(t<=a[n].number){r=t/a[n].number,l=Math.abs(Math.floor(Math.log(r)*Math.LOG10E)),r=e.roundTo(r,l),c=d+""+r+a[n].prefix;break}return c},e.remove=function(e){e&&e.remove()},e.getEffect=function(e){return">"==e&&(e="easeOutSine"),"<"==e&&(e="easeInSine"),"elastic"==e&&(e="easeOutElastic"),e},e.getObjById=function(e,t){var i,a;for(a=0;a<e.length;a++){var s=e[a];if(s.id==t){i=s;break}}return i},e.applyTheme=function(t,i,a){i||(i=e.theme);try{i=JSON.parse(JSON.stringify(i))}catch(s){}i&&i[a]&&e.extend(t,i[a])},e.isString=function(e){return"string"==typeof e?!0:!1},e.extend=function(e,t,i){var a;e||(e={});for(a in t)i?e.hasOwnProperty(a)||(e[a]=t[a]):e[a]=t[a];return e},e.copyProperties=function(e,t){for(var i in e)e.hasOwnProperty(i)&&"events"!=i&&void 0!==e[i]&&"function"!=typeof e[i]&&"cname"!=i&&(t[i]=e[i])},e.processObject=function(t,i,a,s){if(!1==t instanceof i&&(t=s?e.extend(new i(a),t):e.extend(t,new i(a),!0),t.listeners))for(var o in t.listeners)i=t.listeners[o],t.addListener(i.event,i.method);return t},e.fixNewLines=function(e){var t=RegExp("\\n","g");return e&&(e=e.replace(t,"<br />")),e},e.fixBrakes=function(t){if(e.isModern){var i=RegExp("<br>","g");t&&(t=t.replace(i,"\n"))}else t=e.fixNewLines(t);return t},e.deleteObject=function(t,i){if(t&&((void 0===i||null===i)&&(i=20),0!==i))if("[object Array]"===Object.prototype.toString.call(t))for(var a=0;a<t.length;a++)e.deleteObject(t[a],i-1),t[a]=null;else if(t&&!t.tagName)try{for(a in t.theme=null,t)t[a]&&("object"==typeof t[a]&&e.deleteObject(t[a],i-1),"function"!=typeof t[a]&&(t[a]=null))}catch(s){}},e.bounce=function(e,t,i,a,s){return(t/=s)<1/2.75?7.5625*a*t*t+i:2/2.75>t?a*(7.5625*(t-=1.5/2.75)*t+.75)+i:2.5/2.75>t?a*(7.5625*(t-=2.25/2.75)*t+.9375)+i:a*(7.5625*(t-=2.625/2.75)*t+.984375)+i},e.easeInOutQuad=function(e,t,i,a,s){return t/=s/2,1>t?a/2*t*t+i:(t--,-a/2*(t*(t-2)-1)+i)},e.easeInSine=function(e,t,i,a,s){return-a*Math.cos(t/s*(Math.PI/2))+a+i},e.easeOutSine=function(e,t,i,a,s){return a*Math.sin(t/s*(Math.PI/2))+i},e.easeOutElastic=function(e,t,i,a,s){e=1.70158;var o=0,n=a;return 0===t?i:1==(t/=s)?i+a:(o||(o=.3*s),n<Math.abs(a)?(n=a,e=o/4):e=o/(2*Math.PI)*Math.asin(a/n),n*Math.pow(2,-10*t)*Math.sin(2*(t*s-e)*Math.PI/o)+a+i)},e.fixStepE=function(t){t=t.toExponential(0).split("e");var i=Number(t[1]);return 9==Number(t[0])&&i++,e.generateNumber(1,i)},e.generateNumber=function(e,t){var i,a="";i=0>t?Math.abs(t)-1:Math.abs(t);var s;for(s=0;i>s;s++)a+="0";return 0>t?Number("0."+a+String(e)):Number(String(e)+a)},e.setCN=function(e,t,i,a){if(e.addClassNames&&t&&(t=t.node)&&i){var s=t.getAttribute("class");e=e.classNamePrefix+"-",a&&(e=""),s?t.setAttribute("class",s+" "+e+i):t.setAttribute("class",e+i)}},e.removeCN=function(e,t,i){t&&(t=t.node)&&i&&(t=t.classList)&&t.remove(e.classNamePrefix+"-"+i)},e.parseDefs=function(t,i){for(var a in t){var s=typeof t[a];if(0<t[a].length&&"object"==s)for(var o=0;o<t[a].length;o++)s=document.createElementNS(e.SVG_NS,a),i.appendChild(s),e.parseDefs(t[a][o],s);else"object"==s?(s=document.createElementNS(e.SVG_NS,a),i.appendChild(s),e.parseDefs(t[a],s)):i.setAttribute(a,t[a])}}}(),function(){var e=window.AmCharts;e.AmDraw=e.Class({construct:function(t,i,a,s){e.SVG_NS="http://www.w3.org/2000/svg",e.SVG_XLINK="http://www.w3.org/1999/xlink",e.hasSVG=!!document.createElementNS&&!!document.createElementNS(e.SVG_NS,"svg").createSVGRect,1>i&&(i=10),1>a&&(a=10),this.div=t,this.width=i,this.height=a,this.rBin=document.createElement("div"),e.hasSVG?(e.SVG=!0,i=this.createSvgElement("svg"),t.appendChild(i),this.container=i,this.addDefs(s),this.R=new e.SVGRenderer(this)):e.isIE&&e.VMLRenderer&&(e.VML=!0,e.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?(i=document.createStyleSheet(),i.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),e.vmlStyleSheet=i):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=t,this.R=new e.VMLRenderer(this,s),this.R.disableSelection(t))},createSvgElement:function(t){return document.createElementNS(e.SVG_NS,t)},circle:function(t,i,a,s){var o=new e.AmDObject("circle",this);return o.attr({r:a,cx:t,cy:i}),this.addToContainer(o.node,s),o},ellipse:function(t,i,a,s,o){var n=new e.AmDObject("ellipse",this);return n.attr({rx:a,ry:s,cx:t,cy:i}),this.addToContainer(n.node,o),n},setSize:function(e,t){e>0&&t>0&&(this.container.style.width=e+"px",this.container.style.height=t+"px")},rect:function(t,i,a,s,o,n,r){var l=new e.AmDObject("rect",this);return e.VML&&(o=Math.round(100*o/Math.min(a,s)),a+=2*n,s+=2*n,l.bw=n,l.node.style.marginLeft=-n,l.node.style.marginTop=-n),1>a&&(a=1),1>s&&(s=1),l.attr({x:t,y:i,width:a,height:s,rx:o,ry:o,"stroke-width":n}),this.addToContainer(l.node,r),l},image:function(t,i,a,s,o,n){var r=new e.AmDObject("image",this);return r.attr({x:i,y:a,width:s,height:o}),this.R.path(r,t),this.addToContainer(r.node,n),r},addToContainer:function(e,t){t||(t=this.container),t.appendChild(e)},text:function(e,t,i){return this.R.text(e,t,i)},path:function(t,i,a,s){var o=new e.AmDObject("path",this);return s||(s="100,100"),o.attr({cs:s}),a?o.attr({dd:t}):o.attr({d:t}),this.addToContainer(o.node,i),o},set:function(e){return this.R.set(e)},remove:function(e){if(e){var t=this.rBin;t.appendChild(e),t.innerHTML=""}},renderFix:function(){var e=this.container,t=e.style;t.top="0px",t.left="0px";try{var i=e.getBoundingClientRect(),a=i.left-Math.round(i.left),s=i.top-Math.round(i.top);a&&(t.left=a+"px"),s&&(t.top=s+"px")}catch(o){}},update:function(){this.R.update()},addDefs:function(t){if(e.hasSVG){var i=this.createSvgElement("desc"),a=this.container;if(a.setAttribute("version","1.1"),a.style.position="absolute",this.setSize(this.width,this.height),t.accessibleTitle){var s=this.createSvgElement("text");a.appendChild(s),s.innerHTML=t.accessibleTitle,s.style.opacity=0}e.rtl&&(a.setAttribute("direction","rtl"),a.style.left="auto",a.style.right="0px"),t&&(t.addCodeCredits&&i.appendChild(document.createTextNode("JavaScript chart by amCharts "+t.version)),a.appendChild(i),t.defs&&(i=this.createSvgElement("defs"),a.appendChild(i),e.parseDefs(t.defs,i),this.defs=i))}}})}(),function(){var e=window.AmCharts;e.AmDObject=e.Class({construct:function(e,t){this.D=t,this.R=t.R,this.node=this.R.create(this,e),this.y=this.x=0,this.scale=1},attr:function(e){return this.R.attr(this,e),this},getAttr:function(e){return this.node.getAttribute(e)},setAttr:function(e,t){return this.R.setAttr(this,e,t),this},clipRect:function(e,t,i,a){this.R.clipRect(this,e,t,i,a)},translate:function(e,t,i,a){a||(e=Math.round(e),t=Math.round(t)),this.R.move(this,e,t,i),this.x=e,this.y=t,this.scale=i,this.angle&&this.rotate(this.angle)},rotate:function(e,t){this.R.rotate(this,e,t),this.angle=e},animate:function(t,i,a){for(var s in t)if(t.hasOwnProperty(s)){var o=s,n=t[s];a=e.getEffect(a),this.R.animate(this,o,n,i,a)}},push:function(e){if(e){var t=this.node;t.appendChild(e.node);var i=e.clipPath;i&&t.appendChild(i),(e=e.grad)&&t.appendChild(e)}},text:function(e){this.R.setText(this,e)},remove:function(){this.stop(),this.R.remove(this)},clear:function(){var e=this.node;if(e.hasChildNodes())for(;1<=e.childNodes.length;)e.removeChild(e.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var e=this.node;if(e){this.prevNextNode=e.nextSibling;var t=e.parentNode;t&&t.appendChild(e)}},toPrevious:function(){var e=this.node;e&&this.prevNextNode&&(e=e.parentNode)&&e.insertBefore(this.prevNextNode,null)},toBack:function(){var e=this.node;if(e){this.prevNextNode=e.nextSibling;var t=e.parentNode;if(t){var i=t.firstChild;i&&t.insertBefore(e,i)}}},mouseover:function(e){return this.R.addListener(this,"mouseover",e),this},mouseout:function(e){return this.R.addListener(this,"mouseout",e),this},click:function(e){return this.R.addListener(this,"click",e),this},dblclick:function(e){return this.R.addListener(this,"dblclick",e),this},mousedown:function(e){return this.R.addListener(this,"mousedown",e),this},mouseup:function(e){return this.R.addListener(this,"mouseup",e),this},touchmove:function(e){return this.R.addListener(this,"touchmove",e),this},touchstart:function(e){return this.R.addListener(this,"touchstart",e),this},touchend:function(e){return this.R.addListener(this,"touchend",e),this},keyup:function(e){return this.R.addListener(this,"keyup",e),this},focus:function(e){return this.R.addListener(this,"focus",e),this},blur:function(e){return this.R.addListener(this,"blur",e),this},contextmenu:function(e){return this.node.addEventListener?this.node.addEventListener("contextmenu",e,!0):this.R.addListener(this,"contextmenu",e),this},stop:function(){e.removeFromArray(this.R.animations,this.an_translate),e.removeFromArray(this.R.animations,this.an_y),e.removeFromArray(this.R.animations,this.an_x)},length:function(){return this.node.childNodes.length},gradient:function(e,t,i){this.R.gradient(this,e,t,i)},pattern:function(e,t,i){e&&this.R.pattern(this,e,t,i)}})}(),function(){var e=window.AmCharts;e.SVGRenderer=e.Class({construct:function(e){this.D=e,this.animations=[]},create:function(t,i){return document.createElementNS(e.SVG_NS,i)},attr:function(e,t){for(var i in t)t.hasOwnProperty(i)&&this.setAttr(e,i,t[i])},setAttr:function(e,t,i){void 0!==i&&e.node.setAttribute(t,i)},animate:function(t,i,a,s,o){t.animationFinished=!1;var n=t.node;t["an_"+i]&&e.removeFromArray(this.animations,t["an_"+i]),"translate"==i?(n=(n=n.getAttribute("transform"))?String(n).substring(10,n.length-1):"0,0",n=n.split(", ").join(" "),n=n.split(" ").join(","),0===n&&(n="0,0")):n=Number(n.getAttribute(i)),a={obj:t,frame:0,attribute:i,from:n,to:a,time:s,effect:o},this.animations.push(a),t["an_"+i]=a},update:function(){var t,i=this.animations;for(t=i.length-1;t>=0;t--){var a,s,o,n=i[t],r=n.time*e.updateRate,l=n.frame+1,c=n.obj,d=n.attribute;if(r>=l){if(n.frame++,"translate"==d){if(a=n.from.split(","),d=Number(a[0]),a=Number(a[1]),isNaN(a)&&(a=0),s=n.to.split(","),o=Number(s[0]),s=Number(s[1]),o=0===o-d?o:Math.round(e[n.effect](0,l,d,o-d,r)),n=0===s-a?s:Math.round(e[n.effect](0,l,a,s-a,r)),d="transform",isNaN(o)||isNaN(n))continue;n="translate("+o+","+n+")"}else s=Number(n.from),a=Number(n.to),o=a-s,n=e[n.effect](0,l,s,o,r),isNaN(n)&&(n=a),0===o&&this.animations.splice(t,1);this.setAttr(c,d,n)}else"translate"==d?(s=n.to.split(","),o=Number(s[0]),s=Number(s[1]),c.translate(o,s)):(a=Number(n.to),this.setAttr(c,d,a)),c.animationFinished=!0,this.animations.splice(t,1)}},getBBox:function(e){if(e=e.node)try{return e.getBBox()}catch(t){}return{width:0,height:0,x:0,y:0}},path:function(t,i){t.node.setAttributeNS(e.SVG_XLINK,"xlink:href",i)},clipRect:function(t,i,a,s,o){var n=t.node,r=t.clipPath;r&&this.D.remove(r);var l=n.parentNode;l&&(n=document.createElementNS(e.SVG_NS,"clipPath"),r=e.getUniqueId(),n.setAttribute("id",r),this.D.rect(i,a,s,o,0,0,n),l.appendChild(n),i="#",e.baseHref&&!e.isIE&&(i=this.removeTarget(window.location.href)+i),this.setAttr(t,"clip-path","url("+i+r+")"),this.clipPathC++,t.clipPath=n)},text:function(t,i,a){var s=new e.AmDObject("text",this.D);t=String(t).split("\n");var o,n=e.removePx(i["font-size"]);for(o=0;o<t.length;o++){var r=this.create(null,"tspan");r.appendChild(document.createTextNode(t[o])),r.setAttribute("y",(n+2)*o+Math.round(n/2)),r.setAttribute("x",0),s.node.appendChild(r)}return s.node.setAttribute("y",Math.round(n/2)),this.attr(s,i),this.D.addToContainer(s.node,a),s},setText:function(e,t){var i=e.node;i&&(i.removeChild(i.firstChild),i.appendChild(document.createTextNode(t)))},move:function(e,t,i,a){isNaN(t)&&(t=0),isNaN(i)&&(i=0),t="translate("+t+","+i+")",a&&(t=t+" scale("+a+")"),this.setAttr(e,"transform",t)},rotate:function(e,t){var i=e.node.getAttribute("transform"),a="rotate("+t+")";i&&(a=i+" "+a),this.setAttr(e,"transform",a)},set:function(t){var i=new e.AmDObject("g",this.D);if(this.D.container.appendChild(i.node),t){var a;for(a=0;a<t.length;a++)i.push(t[a])}return i},addListener:function(e,t,i){e.node["on"+t]=i},gradient:function(t,i,a,s){var o=t.node,n=t.grad;if(n&&this.D.remove(n),i=document.createElementNS(e.SVG_NS,i),n=e.getUniqueId(),i.setAttribute("id",n),!isNaN(s)){var r=0,l=0,c=0,d=0;90==s?c=100:270==s?d=100:180==s?r=100:0===s&&(l=100),i.setAttribute("x1",r+"%"),i.setAttribute("x2",l+"%"),i.setAttribute("y1",c+"%"),i.setAttribute("y2",d+"%")}for(s=0;s<a.length;s++)r=document.createElementNS(e.SVG_NS,"stop"),l=100*s/(a.length-1),0===s&&(l=0),r.setAttribute("offset",l+"%"),r.setAttribute("stop-color",a[s]),i.appendChild(r);o.parentNode.appendChild(i),a="#",e.baseHref&&!e.isIE&&(a=this.removeTarget(window.location.href)+a),o.setAttribute("fill","url("+a+n+")"),t.grad=i},removeTarget:function(e){return e.split("#")[0]},pattern:function(t,i,a,s){var o=t.node;isNaN(a)&&(a=1);var n=t.patternNode;n&&this.D.remove(n);var n=document.createElementNS(e.SVG_NS,"pattern"),r=e.getUniqueId(),l=i;i.url&&(l=i.url),e.isAbsolute(l)||-1!=l.indexOf("data:image")||(l=s+l),s=Number(i.width),isNaN(s)&&(s=4);var c=Number(i.height);
isNaN(c)&&(c=4),s/=a,c/=a,a=i.x,isNaN(a)&&(a=0);var d=-Math.random()*Number(i.randomX);isNaN(d)||(a=d),d=i.y,isNaN(d)&&(d=0);var h=-Math.random()*Number(i.randomY);isNaN(h)||(d=h),n.setAttribute("id",r),n.setAttribute("width",s),n.setAttribute("height",c),n.setAttribute("patternUnits","userSpaceOnUse"),n.setAttribute("xlink:href",l),i.color&&(h=document.createElementNS(e.SVG_NS,"rect"),h.setAttributeNS(null,"height",s),h.setAttributeNS(null,"width",c),h.setAttributeNS(null,"fill",i.color),n.appendChild(h)),this.D.image(l,0,0,s,c,n).translate(a,d),l="#",e.baseHref&&!e.isIE&&(l=this.removeTarget(window.location.href)+l),o.setAttribute("fill","url("+l+r+")"),t.patternNode=n,o.parentNode.appendChild(n)},remove:function(e){e.clipPath&&this.D.remove(e.clipPath),e.grad&&this.D.remove(e.grad),e.patternNode&&this.D.remove(e.patternNode),this.D.remove(e.node)}})}(),function(){var e=window.AmCharts;e.AmChart=e.Class({construct:function(t){this.svgIcons=this.tapToActivate=!0,this.theme=t,this.classNamePrefix="amcharts",this.addClassNames=!1,this.version="3.21.1",e.addChart(this),this.createEvents("buildStarted","dataUpdated","init","rendered","drawn","failed","resized","animationFinished"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.usePrefixes=!1,this.autoResize=!0,this.autoDisplay=!1,this.addCodeCredits=this.accessible=!0,this.touchStartTime=this.touchClickDuration=0,this.precision=-1,this.percentPrecision=2,this.decimalSeparator=".",this.thousandsSeparator=",",this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[],this.creditsPosition="top-left";var i=document.createElement("div"),a=i.style;a.overflow="hidden",a.position="relative",a.textAlign="left",this.chartDiv=i,i=document.createElement("div"),a=i.style,a.overflow="hidden",a.position="relative",a.textAlign="left",this.legendDiv=i,this.titleHeight=0,this.hideBalloonTime=150,this.handDrawScatter=2,this.cssScale=this.handDrawThickness=1,this.cssAngle=0,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:""},{number:.001,prefix:"m"}],this.panEventsEnabled=!0,this.product="amcharts",this.animations=[],this.balloon=new e.AmBalloon(this.theme),this.balloon.chart=this,this.processTimeout=0,this.processCount=1e3,this.animatable=[],this.langObj={},e.applyTheme(this,t,"AmChart")},drawChart:function(){0<this.realWidth&&0<this.realHeight&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr(),this.renderFix(),this.chartDiv&&(this.boundingRect=this.chartDiv.getBoundingClientRect()))},makeAccessible:function(e,t,i){this.accessible&&e&&(i&&e.setAttr("role",i),e.setAttr("aria-label",t))},drawBackground:function(){e.remove(this.background);var t=this.container,i=this.backgroundColor,a=this.backgroundAlpha,s=this.set;e.isModern||0!==a||(a=.001);var o=this.updateWidth();this.realWidth=o;var n=this.updateHeight();this.realHeight=n,i=e.polygon(t,[0,o-1,o-1,0],[0,0,n-1,n-1],i,a,1,this.borderColor,this.borderAlpha),e.setCN(this,i,"bg"),this.background=i,s.push(i),(i=this.backgroundImage)&&(t=t.image(i,0,0,o,n),e.setCN(this,i,"bg-image"),this.bgImg=t,s.push(t))},drawTitles:function(t){var i=this.titles;if(this.titleHeight=0,e.ifArray(i)){var a,s=20;for(a=0;a<i.length;a++){var o=i[a],o=e.processObject(o,e.Title,this.theme);if(!1!==o.enabled){var n=o.color;void 0===n&&(n=this.color);var r=o.size;isNaN(r)&&(r=this.fontSize+2),isNaN(o.alpha);var l=this.marginLeft,c=!0;void 0!==o.bold&&(c=o.bold),n=e.wrappedText(this.container,o.text,n,this.fontFamily,r,"middle",c,this.realWidth-35),n.translate(l+(this.realWidth-this.marginRight-l)/2,s),n.node.style.pointerEvents="none",o.sprite=n,void 0!==o.tabIndex&&n.setAttr("tabindex",o.tabIndex),e.setCN(this,n,"title"),o.id&&e.setCN(this,n,"title-"+o.id),n.attr({opacity:o.alpha}),s+=n.getBBox().height+5,t?n.remove():this.freeLabelsSet.push(n)}}this.titleHeight=s-10}},write:function(e){var t=this;if(t.listeners)for(var i=0;i<t.listeners.length;i++){var a=t.listeners[i];t.addListener(a.event,a.method)}t.fire({type:"buildStarted",chart:t}),t.afterWriteTO&&clearTimeout(t.afterWriteTO),0<t.processTimeout?t.afterWriteTO=setTimeout(function(){t.afterWrite.call(t,e)},t.processTimeout):t.afterWrite(e)},afterWrite:function(t){var i;if(i="object"!=typeof t?document.getElementById(t):t){for(;i.firstChild;)i.removeChild(i.firstChild);this.div=i,i.style.overflow="hidden",i.style.textAlign="left",t=this.chartDiv;var a=this.legendDiv,s=this.legend,o=a.style,n=t.style;this.measure(),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth;var r,l=document.createElement("div");if(r=l.style,r.position="relative",this.containerDiv=l,l.className=this.classNamePrefix+"-main-div",t.className=this.classNamePrefix+"-chart-div",i.appendChild(l),(i=this.exportConfig)&&e.AmExport&&!this.AmExport&&(this.AmExport=new e.AmExport(this,i)),this.amExport&&e.AmExport&&(this.AmExport=e.extend(this.amExport,new e.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init(),s){if(s=this.addLegend(s,s.divId),s.enabled)switch(o.left=null,o.top=null,o.right=null,n.left=null,n.right=null,n.top=null,o.position="relative",n.position="relative",r.width="100%",r.height="100%",s.position){case"bottom":l.appendChild(t),l.appendChild(a);break;case"top":l.appendChild(a),l.appendChild(t);break;case"absolute":o.position="absolute",n.position="absolute",void 0!==s.left&&(o.left=s.left+"px"),void 0!==s.right&&(o.right=s.right+"px"),void 0!==s.top&&(o.top=s.top+"px"),void 0!==s.bottom&&(o.bottom=s.bottom+"px"),s.marginLeft=0,s.marginRight=0,l.appendChild(t),l.appendChild(a);break;case"right":o.position="relative",n.position="absolute",l.appendChild(t),l.appendChild(a);break;case"left":o.position="absolute",n.position="relative",l.appendChild(t),l.appendChild(a);break;case"outside":l.appendChild(t)}else l.appendChild(t);this.prevLegendPosition=s.position}else l.appendChild(t);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),(this.mouseWheelScrollEnabled||this.mouseWheelZoomEnabled)&&e.addWheelListeners(),this.initChart()}},createLabelsSet:function(){e.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.balloon=e.processObject(this.balloon,e.AmBalloon,this.theme),window.AmCharts_path&&(this.path=window.AmCharts_path),void 0===this.path&&(this.path=e.getPath()),void 0===this.path&&(this.path="amcharts/"),this.path=e.normalizeUrl(this.path),void 0===this.pathToImages&&(this.pathToImages=this.path+"images/"),this.initHC||(e.callInitHandler(this),this.initHC=!0),e.applyLang(this.language,this);var t=this.numberFormatter;t&&(isNaN(t.precision)||(this.precision=t.precision),void 0!==t.thousandsSeparator&&(this.thousandsSeparator=t.thousandsSeparator),void 0!==t.decimalSeparator&&(this.decimalSeparator=t.decimalSeparator)),(t=this.percentFormatter)&&!isNaN(t.precision)&&(this.percentPrecision=t.precision),this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.destroy(),(t=this.container)?(t.container.innerHTML="",t.width=this.realWidth,t.height=this.realHeight,t.addDefs(this),this.chartDiv.appendChild(t.container)):t=new e.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this),this.container=t,this.extension=".png",this.svgIcons&&e.SVG&&(this.extension=".svg"),this.checkDisplay(),this.checkTransform(this.div),t.chart=this,e.VML||e.SVG?(t.handDrawn=this.handDrawn,t.handDrawScatter=this.handDrawScatter,t.handDrawThickness=this.handDrawThickness,e.remove(this.set),this.set=t.set(),e.remove(this.gridSet),this.gridSet=t.set(),e.remove(this.cursorLineSet),this.cursorLineSet=t.set(),e.remove(this.graphsBehindSet),this.graphsBehindSet=t.set(),e.remove(this.bulletBehindSet),this.bulletBehindSet=t.set(),e.remove(this.columnSet),this.columnSet=t.set(),e.remove(this.graphsSet),this.graphsSet=t.set(),e.remove(this.trendLinesSet),this.trendLinesSet=t.set(),e.remove(this.axesSet),this.axesSet=t.set(),e.remove(this.cursorSet),this.cursorSet=t.set(),e.remove(this.scrollbarsSet),this.scrollbarsSet=t.set(),e.remove(this.bulletSet),this.bulletSet=t.set(),e.remove(this.freeLabelsSet),this.freeLabelsSet=t.set(),e.remove(this.axesLabelsSet),this.axesLabelsSet=t.set(),e.remove(this.balloonsSet),this.balloonsSet=t.set(),e.remove(this.plotBalloonsSet),this.plotBalloonsSet=t.set(),e.remove(this.zoomButtonSet),this.zoomButtonSet=t.set(),e.remove(this.zbSet),this.zbSet=null,e.remove(this.linkSet),this.linkSet=t.set()):this.fire({type:"failed",chart:this})},premeasure:function(){var e=this.div;if(e){try{this.boundingRect=this.chartDiv.getBoundingClientRect()}catch(t){}var i=e.offsetWidth,a=e.offsetHeight;e.clientHeight&&(i=e.clientWidth,a=e.clientHeight),(i!=this.mw||a!=this.mh)&&(this.mw=i,this.mh=a,this.measure())}},measure:function(){var t=this.div;if(t){var i=this.chartDiv,a=t.offsetWidth,s=t.offsetHeight,o=this.container;t.clientHeight&&(a=t.clientWidth,s=t.clientHeight);var s=Math.round(s),a=Math.round(a),t=Math.round(e.toCoordinate(this.width,a)),n=Math.round(e.toCoordinate(this.height,s));(a!=this.previousWidth||s!=this.previousHeight)&&t>0&&n>0&&(i.style.width=t+"px",i.style.height=n+"px",i.style.padding=0,o&&o.setSize(t,n),this.balloon=e.processObject(this.balloon,e.AmBalloon,this.theme)),this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,t-2,n),this.updateWidth(),this.balloon.chart=this,this.realWidth=t,this.realHeight=n,this.divRealWidth=a,this.divRealHeight=s}},checkDisplay:function(){if(this.autoDisplay&&this.container){var t=e.rect(this.container,10,10),i=t.getBBox();0===i.width&&0===i.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=NaN),t.remove()}},checkTransform:function(e){if(this.autoTransform&&window.getComputedStyle&&e){if(e.style){var t=window.getComputedStyle(e,null);if(t&&(t=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform"))&&"none"!==t){var i=t.split("(")[1].split(")")[0].split(","),t=i[0],i=i[1],t=Math.sqrt(t*t+i*i);isNaN(t)||(this.cssScale*=t)}}e.parentNode&&this.checkTransform(e.parentNode)}},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts(),this.legend&&this.legend.destroy()},clearTimeOuts:function(){var e=this.timeOuts;if(e){var t;for(t=0;t<e.length;t++)clearTimeout(e[t])}this.timeOuts=[]},clear:function(t){try{document.removeEventListener("touchstart",this.docfn1,!0),document.removeEventListener("touchend",this.docfn2,!0)}catch(i){}if(e.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),t||e.removeChart(this),t=this.div)for(;t.firstChild;)t.removeChild(t.firstChild);this.legend&&this.legend.destroy(),this.AmExport&&this.AmExport.clear&&this.AmExport.clear()},setMouseCursor:function(t){"auto"==t&&e.isNN&&(t="default"),this.chartDiv.style.cursor=t,this.legendDiv.style.cursor=t},redrawLabels:function(){this.labels=[];var e=this.allLabels;this.createLabelsSet();var t;for(t=0;t<e.length;t++)this.drawLabel(e[t])},drawLabel:function(t){var i=this;if(i.container&&!1!==t.enabled){t=e.processObject(t,e.Label,i.theme);var a=t.y,s=t.text,o=t.align,n=t.size,r=t.color,l=t.rotation,c=t.alpha,d=t.bold,h=e.toCoordinate(t.x,i.realWidth),a=e.toCoordinate(a,i.realHeight);h||(h=0),a||(a=0),void 0===r&&(r=i.color),isNaN(n)&&(n=i.fontSize),o||(o="start"),"left"==o&&(o="start"),"right"==o&&(o="end"),"center"==o&&(o="middle",l?a=i.realHeight-a+a/2:h=i.realWidth/2-h),void 0===c&&(c=1),void 0===l&&(l=0),a+=n/2,s=e.text(i.container,s,r,i.fontFamily,n,o,d,c),s.translate(h,a),void 0!==t.tabIndex&&s.setAttr("tabindex",t.tabIndex),e.setCN(i,s,"label"),t.id&&e.setCN(i,s,"label-"+t.id),0!==l&&s.rotate(l),t.url?(s.setAttr("cursor","pointer"),s.click(function(){e.getURL(t.url,i.urlTarget)})):s.node.style.pointerEvents="none",i.labelsSet.push(s),i.labels.push(s)}},addLabel:function(e,t,i,a,s,o,n,r,l,c){e={x:e,y:t,text:i,align:a,size:s,color:o,alpha:r,rotation:n,bold:l,url:c,enabled:!0},this.container&&this.drawLabel(e),this.allLabels.push(e)},clearLabels:function(){var e,t=this.labels;for(e=t.length-1;e>=0;e--)t[e].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var e=this.divRealHeight,t=this.legend;if(t){var i=this.legendDiv.offsetHeight,t=t.position;("top"==t||"bottom"==t)&&(e-=i,(0>e||isNaN(e))&&(e=0),this.chartDiv.style.height=e+"px")}return e},updateWidth:function(){var e=this.divRealWidth,t=this.divRealHeight,i=this.legend;if(i){var a=this.legendDiv,s=a.offsetWidth;isNaN(i.width)||(s=i.width),i.ieW&&(s=i.ieW);var o=a.offsetHeight,a=a.style,n=this.chartDiv.style,r=i.position;"right"!=r&&"left"!=r||void 0!==i.divId||(e-=s,(0>e||isNaN(e))&&(e=0),n.width=e+"px",this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,e-2,this.realHeight),"left"==r?(n.left=s+"px",a.left="0px"):(n.left="0px",a.left=e+"px"),t>o&&(a.top=(t-o)/2+"px"))}return e},getTitleHeight:function(){return this.drawTitles(!0),this.titleHeight},addTitle:function(e,t,i,a,s){return isNaN(t)&&(t=this.fontSize+2),e={text:e,size:t,color:i,alpha:a,bold:s,enabled:!0},this.titles.push(e),e},handleWheel:function(e){var t=0;e||(e=window.event),e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t&&this.handleWheelReal(t,e.shiftKey),e.preventDefault&&e.preventDefault()},handleWheelReal:function(){},handleDocTouchStart:function(){this.handleMouseMove(),this.tmx=this.mouseX,this.tmy=this.mouseY,this.touchStartTime=(new Date).getTime()},handleDocTouchEnd:function(){-.5<this.tmx&&this.tmx<this.divRealWidth+1&&0<this.tmy&&this.tmy<this.divRealHeight?(this.handleMouseMove(),4>Math.abs(this.mouseX-this.tmx)&&4>Math.abs(this.mouseY-this.tmy)?(this.tapped=!0,this.panRequired&&this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="none",this.chartDiv.style.touchAction="none")):this.mouseIsOver||this.resetTouchStyle()):(this.tapped=!1,this.resetTouchStyle())},resetTouchStyle:function(){this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="auto",this.chartDiv.style.touchAction="auto")},checkTouchDuration:function(e){var t=this,i=(new Date).getTime();if(e)if(e.touches)t.isTouchEvent=!0;else if(!t.isTouchEvent)return!0;return i-t.touchStartTime>t.touchClickDuration?!0:void setTimeout(function(){t.resetTouchDuration()},300)},resetTouchDuration:function(){this.isTouchEvent=!1},checkTouchMoved:function(){return 4<Math.abs(this.mouseX-this.tmx)||4<Math.abs(this.mouseY-this.tmy)?!0:void 0},addListeners:function(){var e=this,t=e.chartDiv;document.addEventListener?("ontouchstart"in document.documentElement&&(t.addEventListener("touchstart",function(t){e.handleTouchStart.call(e,t)},!0),t.addEventListener("touchmove",function(t){e.handleMouseMove.call(e,t)},!0),t.addEventListener("touchend",function(t){e.handleTouchEnd.call(e,t)},!0),e.docfn1=function(t){e.handleDocTouchStart.call(e,t)},e.docfn2=function(t){e.handleDocTouchEnd.call(e,t)},document.addEventListener("touchstart",e.docfn1,!0),document.addEventListener("touchend",e.docfn2,!0)),t.addEventListener("mousedown",function(t){e.mouseIsOver=!0,e.handleMouseMove.call(e,t),e.handleMouseDown.call(e,t),e.handleDocTouchStart.call(e,t)},!0),t.addEventListener("mouseover",function(t){e.handleMouseOver.call(e,t)},!0),t.addEventListener("mouseout",function(t){e.handleMouseOut.call(e,t)},!0),t.addEventListener("mouseup",function(t){e.handleDocTouchEnd.call(e,t)},!0)):(t.attachEvent("onmousedown",function(t){e.handleMouseDown.call(e,t)}),t.attachEvent("onmouseover",function(t){e.handleMouseOver.call(e,t)}),t.attachEvent("onmouseout",function(t){e.handleMouseOut.call(e,t)}))},dispDUpd:function(){this.skipEvents||(this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,this.fire({type:"dataUpdated",chart:this})),this.chartCreated||(this.chartCreated=!0,this.fire({type:"init",chart:this})),this.chartRendered||(this.fire({type:"rendered",chart:this}),this.chartRendered=!0),this.fire({type:"drawn",chart:this})),this.skipEvents=!1},validateSize:function(){var e=this;if(e.premeasure(),e.checkDisplay(),e.cssScale=1,e.cssAngle=0,e.checkTransform(e.div),e.divRealWidth!=e.previousWidth||e.divRealHeight!=e.previousHeight){var t=e.legend;if(0<e.realWidth&&0<e.realHeight){if(e.sizeChanged=!0,t){e.legendInitTO&&clearTimeout(e.legendInitTO);var i=setTimeout(function(){t.invalidateSize()},10);e.timeOuts.push(i),e.legendInitTO=i}e.marginsUpdated=!1,clearTimeout(e.initTO),i=setTimeout(function(){e.initChart()},10),e.timeOuts.push(i),e.initTO=i}e.renderFix(),t&&t.renderFix&&t.renderFix(),clearTimeout(e.resizedTO),e.resizedTO=setTimeout(function(){e.fire({type:"resized",chart:e})},10),e.previousHeight=e.divRealHeight,e.previousWidth=e.divRealWidth}},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN,this.invalidateSizeReal()},invalidateSizeReal:function(){var e=this;e.marginsUpdated=!1,clearTimeout(e.validateTO);var t=setTimeout(function(){e.validateSize()},5);e.timeOuts.push(t),e.validateTO=t},validateData:function(e){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(e))},validateNow:function(e,t){this.initTO&&clearTimeout(this.initTO),e&&(this.dataChanged=!0,this.marginsUpdated=!1),this.skipEvents=t,this.chartRendered=!1;var i=this.legend;i&&i.position!=this.prevLegendPosition&&(this.previousWidth=this.mw=0,i.invalidateSize&&(i.invalidateSize(),this.validateSize())),this.write(this.div)},showItem:function(e){e.hidden=!1,this.initChart()},hideItem:function(e){e.hidden=!0,this.initChart()},hideBalloon:function(){var e=this;clearTimeout(e.hoverInt),clearTimeout(e.balloonTO),e.hoverInt=setTimeout(function(){e.hideBalloonReal.call(e)},e.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var e=this.balloon;e&&e.hide&&e.hide()},showBalloon:function(e,t,i,a,s){var o=this;clearTimeout(o.balloonTO),clearTimeout(o.hoverInt),o.balloonTO=setTimeout(function(){o.showBalloonReal.call(o,e,t,i,a,s)},1)},showBalloonReal:function(e,t,i,a,s){this.handleMouseMove();var o=this.balloon;o.enabled&&(o.followCursor(!1),o.changeColor(t),!i||o.fixedPosition?(o.setPosition(a,s),isNaN(a)||isNaN(s)?o.followCursor(!0):o.followCursor(!1)):o.followCursor(!0),e&&o.showBalloon(e))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO),e.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){var t=this;e.resetMouseOver(),t.outTO&&clearTimeout(t.outTO),t.outTO=setTimeout(function(){t.handleMouseOutReal()},10)},handleMouseOutReal:function(){this.mouseIsOver=!1},handleMouseMove:function(e){e||(e=window.event),this.mouse2Y=this.mouse2X=NaN;var t,i,a,s;if(e){if(e.touches){var o=e.touches.item(1);if(o&&this.panEventsEnabled&&this.boundingRect&&(a=o.clientX-this.boundingRect.left,s=o.clientY-this.boundingRect.top),e=e.touches.item(0),!e)return}else this.wasTouched=!1;this.boundingRect&&e.clientX&&(t=e.clientX-this.boundingRect.left,i=e.clientY-this.boundingRect.top),isNaN(a)?this.mouseX=t:(this.mouseX=Math.min(t,a),this.mouse2X=Math.max(t,a)),isNaN(s)?this.mouseY=i:(this.mouseY=Math.min(i,s),this.mouse2Y=Math.max(i,s)),this.autoTransform&&(this.mouseX/=this.cssScale,this.mouseY/=this.cssScale)}},handleTouchStart:function(e){this.hideBalloonReal(),e&&(e.touches&&this.tapToActivate&&!this.tapped||!this.panRequired)||(this.handleMouseMove(e),this.handleMouseDown(e))},handleTouchEnd:function(t){this.wasTouched=!0,this.handleMouseMove(t),e.resetMouseOver(),this.handleReleaseOutside(t)},handleReleaseOutside:function(){this.handleDocTouchEnd.call(this)},handleMouseDown:function(t){e.resetMouseOver(),this.mouseIsOver=!0,t&&t.preventDefault&&(this.panEventsEnabled?t.preventDefault():t.touches||t.preventDefault())},addLegend:function(t,i){t=e.processObject(t,e.AmLegend,this.theme),t.divId=i,t.ieW=0;var a;return a="object"!=typeof i&&i?document.getElementById(i):i,this.legend=t,t.chart=this,a?(t.div=a,t.position="outside",t.autoMargins=!1):t.div=this.legendDiv,t},removeLegend:function(){this.legend=void 0,this.previousWidth=0,this.legendDiv.innerHTML=""},handleResize:function(){(e.isPercents(this.width)||e.isPercents(this.height))&&this.invalidateSizeReal(),this.renderFix()},renderFix:function(){if(!e.VML){var t=this.container;t&&t.renderFix()}},getSVG:function(){return e.hasSVG?this.container:void 0},animate:function(t,i,a,s,o,n,r){return t["an_"+i]&&e.removeFromArray(this.animations,t["an_"+i]),a={obj:t,frame:0,attribute:i,from:a,to:s,time:o,effect:n,suffix:r},t["an_"+i]=a,this.animations.push(a),a},setLegendData:function(e){var t=this.legend;t&&t.setData(e)},stopAnim:function(t){e.removeFromArray(this.animations,t)},updateAnimations:function(){var t;if(this.container&&this.container.update(),this.animations)for(t=this.animations.length-1;t>=0;t--){var i=this.animations[t],a=e.updateRate*i.time,s=i.frame+1,o=i.obj,n=i.attribute;if(a>=s){i.frame++;var r=Number(i.from),l=Number(i.to)-r,a=e[i.effect](0,s,r,l,a);0===l?(this.animations.splice(t,1),o.node.style[n]=Number(i.to)+i.suffix):o.node.style[n]=a+i.suffix}else o.node.style[n]=Number(i.to)+i.suffix,o.animationFinished=!0,this.animations.splice(t,1)}},update:function(){this.updateAnimations();var e=this.animatable;if(0<e.length){for(var t=!0,i=e.length-1;i>=0;i--){var a=e[i];a&&(a.animationFinished?e.splice(i,1):t=!1)}t&&(this.fire({type:"animationFinished",chart:this}),this.animatable=[])}},inIframe:function(){try{return window.self!==window.top}catch(e){return!0}},brr:function(){if(!this.hideCredits){var e,t="amcharts.com",i=window.location.hostname.split(".");if(2<=i.length&&(e=i[i.length-2]+"."+i[i.length-1]),this.amLink&&(i=this.amLink.parentNode)&&i.removeChild(this.amLink),i=this.creditsPosition,e!=t||!0===this.inIframe()){var t="http://www."+t,a=e=0,s=this.realWidth,o=this.realHeight,n=this.type;("serial"==n||"xy"==n||"gantt"==n)&&(e=this.marginLeftReal,a=this.marginTopReal,s=e+this.plotAreaWidth,o=a+this.plotAreaHeight);var n=t+"/javascript-charts/",r="JavaScript charts",l="JS chart by amCharts";"ammap"==this.product&&(n=t+"/javascript-maps/",r="Interactive JavaScript maps",l="JS map by amCharts"),t=document.createElement("a"),l=document.createTextNode(l),t.setAttribute("href",n),t.setAttribute("title",r),this.urlTarget&&t.setAttribute("target",this.urlTarget),t.appendChild(l),this.chartDiv.appendChild(t),this.amLink=t,n=t.style,n.position="absolute",n.textDecoration="none",n.color=this.color,n.fontFamily=this.fontFamily,n.fontSize="11px",n.opacity=.7,n.display="block";var r=t.offsetWidth,t=t.offsetHeight,l=5+e,c=a+5;"bottom-left"==i&&(l=5+e,c=o-t-3),"bottom-right"==i&&(l=s-r-5,c=o-t-3),"top-right"==i&&(l=s-r-5,c=a+5),n.left=l+"px",n.top=c+"px"}}}}),e.Slice=e.Class({construct:function(){}}),e.SerialDataItem=e.Class({construct:function(){}}),e.GraphDataItem=e.Class({construct:function(){}}),e.Guide=e.Class({construct:function(t){this.cname="Guide",e.applyTheme(this,t,this.cname)}}),e.Title=e.Class({construct:function(t){this.cname="Title",e.applyTheme(this,t,this.cname)}}),e.Label=e.Class({construct:function(t){this.cname="Label",e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.AmBalloon=e.Class({construct:function(t){this.cname="AmBalloon",this.enabled=!0,this.fillColor="#FFFFFF",this.fillAlpha=.8,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=0,this.maxWidth=220,this.horizontalPadding=8,this.verticalPadding=4,this.pointerWidth=6,this.pointerOrientation="V",this.color="#000000",this.adjustBorderColor=!0,this.show=this.follow=this.showBullet=!1,this.bulletSize=3,this.shadowAlpha=.4,this.shadowColor="#000000",this.fadeOutDuration=this.animationDuration=.3,this.fixedPosition=!0,this.offsetY=6,this.offsetX=1,this.textAlign="center",this.disableMouseEvents=!0,this.deltaSignX=this.deltaSignY=1,e.isModern||(this.offsetY*=1.5),this.sdy=this.sdx=0,e.applyTheme(this,t,this.cname)},draw:function(){var t=this.pointToX,i=this.pointToY;e.isModern||(this.drop=!1);var a=this.chart;if(e.VML&&(this.fadeOutDuration=0),this.xAnim&&a.stopAnim(this.xAnim),this.yAnim&&a.stopAnim(this.yAnim),this.sdy=this.sdx=0,!isNaN(t)){var s=this.follow,o=a.container,n=this.set;if(e.remove(n),this.removeDiv(),n=o.set(),n.node.style.pointerEvents="none",this.set=n,this.mainSet?(this.mainSet.push(this.set),this.sdx=this.mainSet.x,this.sdy=this.mainSet.y):a.balloonsSet.push(n),this.show){var r=this.l,l=this.t,c=this.r,d=this.b,h=this.balloonColor,u=this.fillColor,p=this.borderColor,m=u;void 0!=h&&(this.adjustBorderColor?m=p=h:u=h);var g=this.horizontalPadding,v=this.verticalPadding,f=this.pointerWidth,b=this.pointerOrientation,y=this.cornerRadius,x=a.fontFamily,w=this.fontSize;void 0==w&&(w=a.fontSize);var h=document.createElement("div"),L=a.classNamePrefix;h.className=L+"-balloon-div",this.className&&(h.className=h.className+" "+L+"-balloon-div-"+this.className),L=h.style,this.disableMouseEvents&&(L.pointerEvents="none"),L.position="absolute";var S=this.minWidth,C="";isNaN(S)||(C="min-width:"+(S-2*g)+"px; "),h.innerHTML='<div style="text-align:'+this.textAlign+"; "+C+"max-width:"+this.maxWidth+"px; font-size:"+w+"px; color:"+this.color+"; font-family:"+x+'">'+this.text+"</div>",a.chartDiv.appendChild(h),this.textDiv=h;var N=h.offsetWidth,A=h.offsetHeight;h.clientHeight&&(N=h.clientWidth,A=h.clientHeight),x=A+2*v,C=N+2*g,!isNaN(S)&&S>C&&(C=S),window.opera&&(x+=2);var k=!1,w=this.offsetY;a.handDrawn&&(w+=a.handDrawScatter+2),"H"!=b?(S=t-C/2,l+x+10>i&&"down"!=b?(k=!0,s&&(i+=w),w=i+f,this.deltaSignY=-1):(s&&(i-=w),w=i-x-f,this.deltaSignY=1)):(2*f>x&&(f=x/2),w=i-x/2,r+(c-r)/2>t?(S=t+f,this.deltaSignX=-1):(S=t-C-f,this.deltaSignX=1)),w+x>=d&&(w=d-x),l>w&&(w=l),r>S&&(S=r),S+C>c&&(S=c-C);var T,l=w+v,d=S+g,M=this.shadowAlpha,O=this.shadowColor,g=this.borderThickness,D=this.bulletSize,v=this.fillAlpha,z=this.borderAlpha;this.showBullet&&(T=e.circle(o,D,m,v),n.push(T)),this.drop?(r=C/1.6,c=0,"V"==b&&(b="down"),"H"==b&&(b="left"),"down"==b&&(S=t+1,w=i-r-r/3),"up"==b&&(c=180,S=t+1,w=i+r+r/3),"left"==b&&(c=270,S=t+r+r/3+2,w=i),"right"==b&&(c=90,S=t-r-r/3+2,w=i),l=w-A/2+1,d=S-N/2-1,u=e.drop(o,r,c,u,v,g,p,z)):y>0||0===f?(M>0&&(t=e.rect(o,C,x,u,0,g+1,O,M,y),e.isModern?t.translate(1,1):t.translate(4,4),n.push(t)),u=e.rect(o,C,x,u,v,g,p,z,y)):(m=[],y=[],"H"!=b?(r=t-S,r>C-f&&(r=C-f),f>r&&(r=f),m=[0,r-f,t-S,r+f,C,C,0,0],y=k?[0,0,i-w,0,0,x,x,0]:[x,x,i-w,x,x,0,0,x]):(b=i-w,b>x-f&&(b=x-f),f>b&&(b=f),y=[0,b-f,i-w,b+f,x,x,0,0],m=r+(c-r)/2>t?[0,0,t>S?0:t-S,0,0,C,C,0]:[C,C,S+C>t?C:t-S,C,C,0,0,C]),M>0&&(t=e.polygon(o,m,y,u,0,g,O,M),t.translate(1,1),n.push(t)),u=e.polygon(o,m,y,u,v,g,p,z)),this.bg=u,n.push(u),u.toFront(),e.setCN(a,u,"balloon-bg"),this.className&&e.setCN(a,u,"balloon-bg-"+this.className),o=1*this.deltaSignX,d+=this.sdx,l+=this.sdy,L.left=d+"px",L.top=l+"px",n.translate(S-o,w,1,!0),u=u.getBBox(),this.bottom=w+x+1,this.yPos=u.y+w,T&&T.translate(this.pointToX-S+o,i-w),i=this.animationDuration,0<this.animationDuration&&!s&&!isNaN(this.prevX)&&(n.translate(this.prevX,this.prevY,NaN,!0),n.animate({translate:S-o+","+w},i,"easeOutSine"),h&&(L.left=this.prevTX+"px",L.top=this.prevTY+"px",this.xAnim=a.animate({node:h},"left",this.prevTX,d,i,"easeOutSine","px"),this.yAnim=a.animate({node:h},"top",this.prevTY,l,i,"easeOutSine","px"))),this.prevX=S-o,this.prevY=w,this.prevTX=d,this.prevTY=l}}},fixPrevious:function(){this.rPrevX=this.prevX,this.rPrevY=this.prevY,this.rPrevTX=this.prevTX,this.rPrevTY=this.prevTY},restorePrevious:function(){this.prevX=this.rPrevX,this.prevY=this.rPrevY,this.prevTX=this.rPrevTX,this.prevTY=this.rPrevTY},followMouse:function(){if(this.follow&&this.show){var e=this.chart.mouseX-this.offsetX*this.deltaSignX-this.sdx,t=this.chart.mouseY-this.sdy;if(this.pointToX=e,this.pointToY=t,e!=this.previousX||t!=this.previousY)if(this.previousX=e,this.previousY=t,0===this.cornerRadius)this.draw();else{var i=this.set;if(i){var a=i.getBBox(),e=e-a.width/2,s=t-a.height-10;e<this.l&&(e=this.l),e>this.r-a.width&&(e=this.r-a.width),s<this.t&&(s=t+10),i.translate(e,s),t=this.textDiv.style,t.left=e+this.horizontalPadding+"px",t.top=s+this.verticalPadding+"px"}}}},changeColor:function(e){this.balloonColor=e},setBounds:function(e,t,i,a){this.l=e,this.t=t,this.r=i,this.b=a,this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(e){(this.text!=e||this.positionChanged)&&(this.text=e,this.isHiding=!1,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),e=this.chart,this.fadeAnim1&&e.stopAnim(this.fadeAnim1),this.fadeAnim2&&e.stopAnim(this.fadeAnim2),this.draw(),this.positionChanged=!1)},hide:function(e){var t=this;t.text=void 0,isNaN(e)&&(e=t.fadeOutDuration);var i=t.chart;if(e>0&&!t.isHiding){t.isHiding=!0,t.destroyTO&&clearTimeout(t.destroyTO),t.destroyTO=setTimeout(function(){t.destroy.call(t)},1e3*e),t.follow=!1,t.show=!1;var a=t.set;a&&(a.setAttr("opacity",t.fillAlpha),t.fadeAnim1=a.animate({opacity:0},e,"easeInSine")),t.textDiv&&(t.fadeAnim2=i.animate({node:t.textDiv},"opacity",1,0,e,"easeInSine",""))}else t.show=!1,t.follow=!1,t.destroy()},setPosition:function(e,t){(e!=this.pointToX||t!=this.pointToY)&&(this.previousX=this.pointToX,this.previousY=this.pointToY,this.pointToX=e,this.pointToY=t,this.positionChanged=!0)},followCursor:function(e){var t=this;t.follow=e,clearInterval(t.interval);var i=t.chart.mouseX-t.sdx,a=t.chart.mouseY-t.sdy;!isNaN(i)&&e&&(t.pointToX=i-t.offsetX*t.deltaSignX,t.pointToY=a,t.followMouse(),t.interval=setInterval(function(){t.followMouse.call(t)},40))},removeDiv:function(){if(this.textDiv){var e=this.textDiv.parentNode;e&&e.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval),e.remove(this.set),this.removeDiv(),this.set=null}})}(),function(){var e=window.AmCharts;e.circle=function(t,i,a,s,o,n,r,l,c){return 0>=i&&(i=.001),(void 0==o||0===o)&&(o=.01),void 0===n&&(n="#000000"),void 0===r&&(r=0),s={fill:a,stroke:n,"fill-opacity":s,"stroke-width":o,"stroke-opacity":r},t=isNaN(c)?t.circle(0,0,i).attr(s):t.ellipse(0,0,i,c).attr(s),l&&t.gradient("radialGradient",[a,e.adjustLuminosity(a,-.6)]),t},e.text=function(t,i,a,s,o,n,r,l){return n||(n="middle"),"right"==n&&(n="end"),"left"==n&&(n="start"),isNaN(l)&&(l=1),void 0!==i&&(i=String(i),e.isIE&&!e.isModern&&(i=i.replace("&amp;","&"),i=i.replace("&","&amp;"))),a={fill:a,"font-family":s,"font-size":o+"px",opacity:l},!0===r&&(a["font-weight"]="bold"),a["text-anchor"]=n,t.text(i,a)},e.polygon=function(t,i,a,s,o,n,r,l,c,d,h){isNaN(n)&&(n=.01),isNaN(l)&&(l=o);var u=s,p=!1;"object"==typeof u&&1<u.length&&(p=!0,u=u[0]),void 0===r&&(r=u),o={fill:u,stroke:r,"fill-opacity":o,"stroke-width":n,"stroke-opacity":l},void 0!==h&&h>0&&(o["stroke-dasharray"]=h),h=e.dx,n=e.dy,t.handDrawn&&(a=e.makeHD(i,a,t.handDrawScatter),i=a[0],a=a[1]),r=Math.round,d&&(i[m]=e.roundTo(i[m],5),a[m]=e.roundTo(a[m],5),r=Number),l="M"+(r(i[0])+h)+","+(r(a[0])+n);for(var m=1;m<i.length;m++)d&&(i[m]=e.roundTo(i[m],5),a[m]=e.roundTo(a[m],5)),l+=" L"+(r(i[m])+h)+","+(r(a[m])+n);return t=t.path(l+" Z").attr(o),p&&t.gradient("linearGradient",s,c),t},e.rect=function(t,i,a,s,o,n,r,l,c,d,h){if(isNaN(i)||isNaN(a))return t.set();
isNaN(n)&&(n=0),void 0===c&&(c=0),void 0===d&&(d=270),isNaN(o)&&(o=0);var u=s,p=!1;"object"==typeof u&&(u=u[0],p=!0),void 0===r&&(r=u),void 0===l&&(l=o),i=Math.round(i),a=Math.round(a);var m=0,g=0;return 0>i&&(i=Math.abs(i),m=-i),0>a&&(a=Math.abs(a),g=-a),m+=e.dx,g+=e.dy,o={fill:u,stroke:r,"fill-opacity":o,"stroke-opacity":l},void 0!==h&&h>0&&(o["stroke-dasharray"]=h),t=t.rect(m,g,i,a,c,n).attr(o),p&&t.gradient("linearGradient",s,d),t},e.bullet=function(t,i,a,s,o,n,r,l,c,d,h,u,p){var m;switch("circle"==i&&(i="round"),i){case"round":m=e.circle(t,a/2,s,o,n,r,l);break;case"square":m=e.polygon(t,[-a/2,a/2,a/2,-a/2],[a/2,a/2,-a/2,-a/2],s,o,n,r,l,d-180,void 0,p);break;case"rectangle":m=e.polygon(t,[-a,a,a,-a],[a/2,a/2,-a/2,-a/2],s,o,n,r,l,d-180,void 0,p);break;case"diamond":m=e.polygon(t,[-a/2,0,a/2,0],[0,-a/2,0,a/2],s,o,n,r,l);break;case"triangleUp":m=e.triangle(t,a,0,s,o,n,r,l);break;case"triangleDown":m=e.triangle(t,a,180,s,o,n,r,l);break;case"triangleLeft":m=e.triangle(t,a,270,s,o,n,r,l);break;case"triangleRight":m=e.triangle(t,a,90,s,o,n,r,l);break;case"bubble":m=e.circle(t,a/2,s,o,n,r,l,!0);break;case"line":m=e.line(t,[-a/2,a/2],[0,0],s,o,n,r,l);break;case"yError":m=t.set(),m.push(e.line(t,[0,0],[-a/2,a/2],s,o,n)),m.push(e.line(t,[-c,c],[-a/2,-a/2],s,o,n)),m.push(e.line(t,[-c,c],[a/2,a/2],s,o,n));break;case"xError":m=t.set(),m.push(e.line(t,[-a/2,a/2],[0,0],s,o,n)),m.push(e.line(t,[-a/2,-a/2],[-c,c],s,o,n)),m.push(e.line(t,[a/2,a/2],[-c,c],s,o,n))}return m&&m.pattern(h,NaN,u),m},e.triangle=function(e,t,i,a,s,o,n,r){(void 0===o||0===o)&&(o=1),void 0===n&&(n="#000"),void 0===r&&(r=0),a={fill:a,stroke:n,"fill-opacity":s,"stroke-width":o,"stroke-opacity":r},t/=2;var l;return 0===i&&(l=" M"+-t+","+t+" L0,"+-t+" L"+t+","+t+" Z"),180==i&&(l=" M"+-t+","+-t+" L0,"+t+" L"+t+","+-t+" Z"),90==i&&(l=" M"+-t+","+-t+" L"+t+",0 L"+-t+","+t+" Z"),270==i&&(l=" M"+-t+",0 L"+t+","+t+" L"+t+","+-t+" Z"),e.path(l).attr(a)},e.line=function(t,i,a,s,o,n,r,l,c,d,h){if(t.handDrawn&&!h)return e.handDrawnLine(t,i,a,s,o,n,r,l,c,d,h);for(n={fill:"none","stroke-width":n},void 0!==r&&r>0&&(n["stroke-dasharray"]=r),isNaN(o)||(n["stroke-opacity"]=o),s&&(n.stroke=s),s=Math.round,d&&(s=Number,i[0]=e.roundTo(i[0],5),a[0]=e.roundTo(a[0],5)),d=e.dx,o=e.dy,r="M"+(s(i[0])+d)+","+(s(a[0])+o),l=1;l<i.length;l++)i[l]=e.roundTo(i[l],5),a[l]=e.roundTo(a[l],5),r+=" L"+(s(i[l])+d)+","+(s(a[l])+o);return e.VML?t.path(r,void 0,!0).attr(n):(c&&(r+=" M0,0 L0,0"),t.path(r).attr(n))},e.makeHD=function(e,t,i){for(var a=[],s=[],o=1;o<e.length;o++)for(var n=Number(e[o-1]),r=Number(t[o-1]),l=Number(e[o]),c=Number(t[o]),d=Math.round(Math.sqrt(Math.pow(l-n,2)+Math.pow(c-r,2))/50)+1,l=(l-n)/d,c=(c-r)/d,h=0;d>=h;h++){var u=r+h*c+Math.random()*i;a.push(n+h*l+Math.random()*i),s.push(u)}return[a,s]},e.handDrawnLine=function(t,i,a,s,o,n,r,l,c,d){var h,u=t.set();for(h=1;h<i.length;h++)for(var p=[i[h-1],i[h]],m=[a[h-1],a[h]],m=e.makeHD(p,m,t.handDrawScatter),p=m[0],m=m[1],g=1;g<p.length;g++)u.push(e.line(t,[p[g-1],p[g]],[m[g-1],m[g]],s,o,n+Math.random()*t.handDrawThickness-t.handDrawThickness/2,r,l,c,d,!0));return u},e.doNothing=function(e){return e},e.drop=function(e,t,i,a,s,o,n,r){var l=1/180*Math.PI,c=i-20,d=Math.sin(c*l)*t,h=Math.cos(c*l)*t,u=Math.sin((c+40)*l)*t,p=Math.cos((c+40)*l)*t,m=.8*t,g=-t/3,v=t/3;return 0===i&&(g=-g,v=0),180==i&&(v=0),90==i&&(g=0),270==i&&(g=0,v=-v),i={fill:a,stroke:n,"stroke-width":o,"stroke-opacity":r,"fill-opacity":s},t="M"+d+","+h+" A"+t+","+t+",0,1,1,"+u+","+p+(" A"+m+","+m+",0,0,0,"+(Math.sin((c+20)*l)*t+v)+","+(Math.cos((c+20)*l)*t+g)),t+=" A"+m+","+m+",0,0,0,"+d+","+h,e.path(t,void 0,void 0,"1000,1000").attr(i)},e.wedge=function(t,i,a,s,o,n,r,l,c,d,h,u,p,m){var g=Math.round;n=g(n),r=g(r),l=g(l);var v=g(r/n*l),f=e.VML,b=359.5+n/100;b>359.94&&(b=359.94),o>=b&&(o=b);var y=1/180*Math.PI,b=i+Math.sin(s*y)*l,x=a-Math.cos(s*y)*v,w=i+Math.sin(s*y)*n,L=a-Math.cos(s*y)*r,S=i+Math.sin((s+o)*y)*n,C=a-Math.cos((s+o)*y)*r,N=i+Math.sin((s+o)*y)*l,y=a-Math.cos((s+o)*y)*v,A={fill:e.adjustLuminosity(d.fill,-.2),"stroke-opacity":0,"fill-opacity":d["fill-opacity"]},k=0;180<Math.abs(o)&&(k=1),s=t.set();var T;f&&(b=g(10*b),w=g(10*w),S=g(10*S),N=g(10*N),x=g(10*x),L=g(10*L),C=g(10*C),y=g(10*y),i=g(10*i),c=g(10*c),a=g(10*a),n*=10,r*=10,l*=10,v*=10,1>Math.abs(o)&&1>=Math.abs(S-w)&&1>=Math.abs(C-L)&&(T=!0)),o="";var M;if(u&&(A["fill-opacity"]=0,A["stroke-opacity"]=d["stroke-opacity"]/2,A.stroke=d.stroke),c>0){M=" M"+b+","+(x+c)+" L"+w+","+(L+c),f?(T||(M+=" A"+(i-n)+","+(c+a-r)+","+(i+n)+","+(c+a+r)+","+w+","+(L+c)+","+S+","+(C+c)),M+=" L"+N+","+(y+c),l>0&&(T||(M+=" B"+(i-l)+","+(c+a-v)+","+(i+l)+","+(c+a+v)+","+N+","+(c+y)+","+b+","+(c+x)))):(M+=" A"+n+","+r+",0,"+k+",1,"+S+","+(C+c)+" L"+N+","+(y+c),l>0&&(M+=" A"+l+","+v+",0,"+k+",0,"+b+","+(x+c))),M+=" Z";var O=c;f&&(O/=10);for(var D=0;O>D;D+=10){var z=t.path(M,void 0,void 0,"1000,1000").attr(A);s.push(z),z.translate(0,-D)}M=t.path(" M"+b+","+x+" L"+b+","+(x+c)+" L"+w+","+(L+c)+" L"+w+","+L+" L"+b+","+x+" Z",void 0,void 0,"1000,1000").attr(A),c=t.path(" M"+S+","+C+" L"+S+","+(C+c)+" L"+N+","+(y+c)+" L"+N+","+y+" L"+S+","+C+" Z",void 0,void 0,"1000,1000").attr(A),s.push(M),s.push(c)}if(f?(T||(o=" A"+g(i-n)+","+g(a-r)+","+g(i+n)+","+g(a+r)+","+g(w)+","+g(L)+","+g(S)+","+g(C)),r=" M"+g(b)+","+g(x)+" L"+g(w)+","+g(L)+o+" L"+g(N)+","+g(y)):r=" M"+b+","+x+" L"+w+","+L+(" A"+n+","+r+",0,"+k+",1,"+S+","+C)+" L"+N+","+y,l>0&&(f?T||(r+=" B"+(i-l)+","+(a-v)+","+(i+l)+","+(a+v)+","+N+","+y+","+b+","+x):r+=" A"+l+","+v+",0,"+k+",0,"+b+","+x),t.handDrawn&&(l=e.line(t,[b,w],[x,L],d.stroke,d.thickness*Math.random()*t.handDrawThickness,d["stroke-opacity"]),s.push(l)),t=t.path(r+" Z",void 0,void 0,"1000,1000").attr(d),h){for(l=[],v=0;v<h.length;v++)l.push(e.adjustLuminosity(d.fill,h[v]));"radial"!=m||e.isModern||(l=[]),0<l.length&&t.gradient(m+"Gradient",l)}return e.isModern&&"radial"==m&&t.grad&&(t.grad.setAttribute("gradientUnits","userSpaceOnUse"),t.grad.setAttribute("r",n),t.grad.setAttribute("cx",i),t.grad.setAttribute("cy",a)),t.pattern(u,NaN,p),s.wedge=t,s.push(t),s},e.rgb2hex=function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},e.adjustLuminosity=function(t,i){t&&-1!=t.indexOf("rgb")&&(t=e.rgb2hex(t)),t=String(t).replace(/[^0-9a-f]/gi,""),6>t.length&&(t=String(t[0])+String(t[0])+String(t[1])+String(t[1])+String(t[2])+String(t[2])),i=i||0;var a,s,o="#";for(s=0;3>s;s++)a=parseInt(t.substr(2*s,2),16),a=Math.round(Math.min(Math.max(0,a+a*i),255)).toString(16),o+=("00"+a).substr(a.length);return o}}(),function(){var e=window.AmCharts;e.AmLegend=e.Class({construct:function(t){this.enabled=!0,this.cname="AmLegend",this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderThickness=this.markerBorderAlpha=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.accessibleLabel="[[title]]",this.useMarkerColorForLabels=!1,this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.useGraphSettings=!1,this.showEntries=!0,this.labelDx=0,e.applyTheme(this,t,this.cname)},setData:function(e){this.legendData=e,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[];var t=this.legendData;this.enabled&&(e.ifArray(t)||e.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var t=this.chart,i=this.position,a=this.width,s=t.divRealWidth,o=t.divRealHeight,n=this.div,r=this.legendData;if(this.data&&(r=this.combineLegend?this.legendData.concat(this.data):this.data),isNaN(this.fontSize)&&(this.fontSize=t.fontSize),this.maxColumnsReal=this.maxColumns,"right"==i||"left"==i)this.maxColumnsReal=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=t.marginRight,this.marginLeft=t.marginLeft;var l=t.autoMarginOffset;"bottom"==i?(this.marginBottom=l,this.marginTop=0):(this.marginTop=l,this.marginBottom=0)}if(a=void 0!==a?e.toCoordinate(a,s):"right"!=i&&"left"!=i?t.realWidth:0<this.ieW?this.ieW:t.realWidth,"outside"==i?(a=n.offsetWidth,o=n.offsetHeight,n.clientHeight&&(a=n.clientWidth,o=n.clientHeight)):(isNaN(a)||(n.style.width=a+"px"),n.className="amChartsLegend "+t.classNamePrefix+"-legend-div"),this.divWidth=a,(i=this.container)?(i.container.innerHTML="",n.appendChild(i.container),i.width=a,i.height=o,i.setSize(a,o),i.addDefs(t)):i=new e.AmDraw(n,a,o,t),this.container=i,this.lx=0,this.ly=8,o=this.markerSize,o>this.fontSize&&(this.ly=o/2-1),o>0&&(this.lx+=o+this.markerLabelGap),this.titleWidth=0,(o=this.title)&&(o=e.text(this.container,o,this.color,t.fontFamily,this.fontSize,"start",!0),e.setCN(t,o,"legend-title"),o.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),t=o.getBBox(),this.titleWidth=t.width+15,this.titleHeight=t.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(t=0;t<r.length;t++)this.createEntry(r[t]);for(t=this.index=0;t<r.length;t++)this.createValue(r[t])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var t=this.position,i=this.marginLeft+this.titleWidth,a=this.marginRight,s=this.marginTop,o=this.marginBottom,n=this.horizontalGap,r=this.div,l=this.divWidth,c=this.maxColumnsReal,d=this.verticalGap,h=this.spacing,u=l-a-i,p=0,m=0,g=this.container;this.set&&this.set.remove();var v=g.set();this.set=v;var f=g.set();v.push(f);var b,y,x=this.entries;for(y=0;y<x.length;y++){b=x[y].getBBox();var w=b.width;w>p&&(p=w),b=b.height,b>m&&(m=b)}var w=m=0,L=n,S=0,C=0;for(y=0;y<x.length;y++){var N=x[y];this.reversedOrder&&(N=x[x.length-y-1]),b=N.getBBox();var A;this.equalWidths?A=w*(p+h+this.markerLabelGap):(A=L,L=L+b.width+n+h),A+b.width>u&&y>0&&0!==w&&(m++,A=w=0,L=A+b.width+n+h,S=S+C+d,C=0),b.height>C&&(C=b.height),N.translate(A,S),w++,!isNaN(c)&&w>=c&&(w=0,m++,S=S+C+d,L=n,C=0),f.push(N)}b=f.getBBox(),c=b.height+2*d-1,"left"==t||"right"==t?(h=b.width+2*n,l=h+i+a,r.style.width=l+"px",this.ieW=l):h=l-i-a-1,a=e.polygon(this.container,[0,h,h,0],[0,0,c,c],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),e.setCN(this.chart,a,"legend-bg"),v.push(a),v.translate(i,s),a.toBack(),i=n,("top"==t||"bottom"==t||"absolute"==t||"outside"==t)&&("center"==this.align?i=n+(h-b.width)/2:"right"==this.align&&(i=n+h-b.width)),f.translate(i,d+1),this.titleHeight>c&&(c=this.titleHeight),s=c+s+o+1,0>s&&(s=0),"absolute"!=t&&"outside"!=t&&s>this.chart.divRealHeight&&(r.style.top="0px"),r.style.height=Math.round(s)+"px",g.setSize(this.divWidth,s)},createEntry:function(t){if(!1!==t.visibleInLegend&&!t.hideFromLegend){var i=this,a=i.chart,s=i.useGraphSettings,o=t.markerType;o&&(s=!1),t.legendEntryWidth=i.markerSize,o||(o=i.markerType);var n=t.color,r=t.alpha;t.legendKeyColor&&(n=t.legendKeyColor()),t.legendKeyAlpha&&(r=t.legendKeyAlpha());var l;!0===t.hidden&&(l=n=i.markerDisabledColor);var c,d=t.pattern,h=t.customMarker;h||(h=i.customMarker);var u=i.container,p=i.markerSize,m=0,g=0,v=p/2;if(s)s=t.type,i.switchType=void 0,"line"==s||"step"==s||"smoothedLine"==s||"ohlc"==s?(c=u.set(),t.hidden||(n=t.lineColorR,l=t.bulletBorderColorR),m=e.line(u,[0,2*p],[p/2,p/2],n,t.lineAlpha,t.lineThickness,t.dashLength),e.setCN(a,m,"graph-stroke"),c.push(m),t.bullet&&(t.hidden||(n=t.bulletColorR),m=e.bullet(u,t.bullet,t.bulletSize,n,t.bulletAlpha,t.bulletBorderThickness,l,t.bulletBorderAlpha))&&(e.setCN(a,m,"graph-bullet"),m.translate(p+1,p/2),c.push(m)),v=0,m=p,g=p/3):(t.getGradRotation&&(c=t.getGradRotation(),0===c&&(c=180)),m=t.fillColorsR,!0===t.hidden&&(m=n),(c=i.createMarker("rectangle",m,t.fillAlphas,t.lineThickness,n,t.lineAlpha,c,d,t.dashLength))&&(v=p,c.translate(v,p/2)),m=p),e.setCN(a,c,"graph-"+s),e.setCN(a,c,"graph-"+t.id);else if(h)c=u.image(h,0,0,p,p);else{var f;isNaN(i.gradientRotation)||(f=180+i.gradientRotation),(c=i.createMarker(o,n,r,void 0,void 0,void 0,f,d))&&c.translate(p/2,p/2)}e.setCN(a,c,"legend-marker"),i.addListeners(c,t),u=u.set([c]),i.switchable&&t.switchable&&u.setAttr("cursor","pointer"),void 0!==t.id&&e.setCN(a,u,"legend-item-"+t.id),e.setCN(a,u,t.className,!0),l=i.switchType;var b;l&&"none"!=l&&p>0&&("x"==l?(b=i.createX(),b.translate(p/2,p/2)):b=i.createV(),b.dItem=t,!0!==t.hidden?"x"==l?b.hide():b.show():"x"!=l&&b.hide(),i.switchable||b.hide(),i.addListeners(b,t),t.legendSwitch=b,u.push(b),e.setCN(a,b,"legend-switch")),l=i.color,t.showBalloon&&i.textClickEnabled&&void 0!==i.selectedColor&&(l=i.selectedColor),i.useMarkerColorForLabels&&!d&&(l=n),!0===t.hidden&&(l=i.markerDisabledColor),n=e.massReplace(i.labelText,{"[[title]]":t.title}),void 0!==i.tabIndex&&(u.setAttr("tabindex",i.tabIndex),u.setAttr("role","menuitem"),u.keyup(function(e){13==e.keyCode&&i.clickMarker(t,e)})),a.accessible&&i.accessibleLabel&&(d=e.massReplace(i.accessibleLabel,{"[[title]]":t.title}),a.makeAccessible(u,d)),d=i.fontSize,c&&(d>=p&&(p=p/2+i.ly-d/2+(d+2-p)/2-g,c.translate(v,p),b&&b.translate(b.x,p)),t.legendEntryWidth=c.getBBox().width);var y;n&&(n=e.fixBrakes(n),t.legendTextReal=n,y=i.labelWidth,y=isNaN(y)?e.text(i.container,n,l,a.fontFamily,d,"start"):e.wrappedText(i.container,n,l,a.fontFamily,d,"start",!1,y,0),e.setCN(a,y,"legend-label"),y.translate(i.lx+m,i.ly),u.push(y),i.labelDx=m,a=y.getBBox().width,i.maxLabelWidth<a&&(i.maxLabelWidth=a)),i.entries[i.index]=u,t.legendEntry=i.entries[i.index],t.legendMarker=c,t.legendLabel=y,i.index++}},addListeners:function(e,t){var i=this;e&&e.mouseover(function(e){i.rollOverMarker(t,e)}).mouseout(function(e){i.rollOutMarker(t,e)}).click(function(e){i.clickMarker(t,e)})},rollOverMarker:function(e,t){this.switchable&&this.dispatch("rollOverMarker",e,t),this.dispatch("rollOverItem",e,t)},rollOutMarker:function(e,t){this.switchable&&this.dispatch("rollOutMarker",e,t),this.dispatch("rollOutItem",e,t)},clickMarker:function(e,t){this.switchable&&(!0===e.hidden?this.dispatch("showItem",e,t):this.dispatch("hideItem",e,t)),this.dispatch("clickMarker",e,t)},rollOverLabel:function(e,t){e.hidden||this.textClickEnabled&&e.legendLabel&&e.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",e,t)},rollOutLabel:function(e,t){if(!e.hidden&&this.textClickEnabled&&e.legendLabel){var i=this.color;void 0!==this.selectedColor&&e.showBalloon&&(i=this.selectedColor),this.useMarkerColorForLabels&&(i=e.lineColor,void 0===i&&(i=e.color)),e.legendLabel.attr({fill:i})}this.dispatch("rollOutItem",e,t)},clickLabel:function(e,t){this.textClickEnabled?e.hidden||this.dispatch("clickLabel",e,t):this.switchable&&(!0===e.hidden?this.dispatch("showItem",e,t):this.dispatch("hideItem",e,t))},dispatch:function(e,t,i){e={type:e,dataItem:t,target:this,event:i,chart:this.chart},this.chart&&this.chart.handleLegendEvent(e),this.fire(e)},createValue:function(t){var i=this,a=i.fontSize,s=i.chart;if(!1!==t.visibleInLegend&&!t.hideFromLegend){var o=i.maxLabelWidth;i.forceWidth&&(o=i.labelWidth),i.equalWidths||(i.valueAlign="left"),"left"==i.valueAlign&&t.legendLabel&&(o=t.legendLabel.getBBox().width);var n=o;if(i.valueText&&0<i.valueWidth){var r=i.color;i.useMarkerColorForValues&&(r=t.color,t.legendKeyColor&&(r=t.legendKeyColor())),!0===t.hidden&&(r=i.markerDisabledColor);var l=i.valueText,o=o+i.lx+i.labelDx+i.markerLabelGap+i.valueWidth,c="end";"left"==i.valueAlign&&(o-=i.valueWidth,c="start"),r=e.text(i.container,l,r,i.chart.fontFamily,a,c),e.setCN(s,r,"legend-value"),r.translate(o,i.ly),i.entries[i.index].push(r),n+=i.valueWidth+2*i.markerLabelGap,r.dItem=t,i.valueLabels.push(r)}i.index++,s=i.markerSize,a+7>s&&(s=a+7,e.VML&&(s+=3)),a=i.container.rect(t.legendEntryWidth,0,n,s,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005}),a.dItem=t,i.entries[i.index-1].push(a),a.mouseover(function(e){i.rollOverLabel(t,e)}).mouseout(function(e){i.rollOutLabel(t,e)}).click(function(e){i.clickLabel(t,e)})}},createV:function(){var t=this.markerSize;return e.polygon(this.container,[t/5,t/2,t-t/5,t/2],[t/3,t-t/5,t/5,t/1.7],this.switchColor)},createX:function(){var t=(this.markerSize-4)/2,i={stroke:this.switchColor,"stroke-width":3},a=this.container,s=e.line(a,[-t,t],[-t,t]).attr(i),t=e.line(a,[-t,t],[t,-t]).attr(i);return this.container.set([s,t])},createMarker:function(t,i,a,s,o,n,r,l,c){var d=this.markerSize,h=this.container;return o||(o=this.markerBorderColor),o||(o=i),isNaN(s)&&(s=this.markerBorderThickness),isNaN(n)&&(n=this.markerBorderAlpha),e.bullet(h,t,d,i,a,s,o,n,d,r,l,this.chart.path,c)},validateNow:function(){this.invalidateSize()},updateValues:function(){var t,i=this.valueLabels,a=this.chart,s=this.data;if(i)for(t=0;t<i.length;t++){var o=i[t],n=o.dItem;n.periodDataItem=void 0,n.periodPercentDataItem=void 0;var r=" ";if(s)n.value?o.text(n.value):o.text("");else{var l=null;if(void 0!==n.type){var l=n.currentDataItem,c=this.periodValueText;n.legendPeriodValueText&&(c=n.legendPeriodValueText),n.legendPeriodValueTextR&&(c=n.legendPeriodValueTextR),l?(r=this.valueText,n.legendValueText&&(r=n.legendValueText),r=a.formatString(r,l)):c&&a.formatPeriodString&&(c=e.massReplace(c,{"[[title]]":n.title}),r=a.formatPeriodString(c,n))}else r=a.formatString(this.valueText,n);c=n,l&&(c=l);var d=this.valueFunction;d&&(r=d(c,r,a.periodDataItem));var h;this.useMarkerColorForLabels&&!l&&n.lastDataItem&&(l=n.lastDataItem),l?h=a.getBalloonColor(n,l):n.legendKeyColor&&(h=n.legendKeyColor()),n.legendColorFunction&&(h=n.legendColorFunction(c,r,n.periodDataItem,n.periodPercentDataItem)),o.text(r),!n.pattern&&(this.useMarkerColorForValues&&o.setAttr("fill",h),this.useMarkerColorForLabels)&&((o=n.legendMarker)&&(o.setAttr("fill",h),o.setAttr("stroke",h)),(n=n.legendLabel)&&n.setAttr("fill",h))}}},renderFix:function(){if(!e.VML&&this.enabled){var t=this.container;t&&t.renderFix()}},destroy:function(){this.div.innerHTML="",e.remove(this.set)}})}(),function(){var e=window.AmCharts;e.AmMap=e.Class({inherits:e.AmChart,construct:function(t){this.cname="AmMap",this.type="map",this.theme=t,this.svgNotSupported="This browser doesn't support SVG. Use Chrome, Firefox, Internet Explorer 9 or later.",this.createEvents("rollOverMapObject","rollOutMapObject","clickMapObject","mouseDownMapObject","selectedObjectChanged","homeButtonClicked","zoomCompleted","dragCompleted","positionChanged","writeDevInfo","click","descriptionClosed"),this.zoomDuration=.6,this.zoomControl=new e.ZoomControl(t),this.fitMapToContainer=!0,this.mouseWheelZoomEnabled=this.backgroundZoomsToTop=!1,this.allowClickOnSelectedObject=this.useHandCursorOnClickableOjects=this.showBalloonOnSelectedObject=!0,this.showObjectsAfterZoom=this.wheelBusy=!1,this.zoomOnDoubleClick=this.useObjectColorForBalloon=!0,this.allowMultipleDescriptionWindows=!1,this.dragMap=this.centerMap=this.linesAboveImages=!0,this.colorSteps=5,this.forceNormalize=!1,this.showAreasInList=!0,this.showLinesInList=this.showImagesInList=!1,this.areasProcessor=new e.AreasProcessor(this),this.areasSettings=new e.AreasSettings(t),this.imagesProcessor=new e.ImagesProcessor(this),this.imagesSettings=new e.ImagesSettings(t),this.linesProcessor=new e.LinesProcessor(this),this.linesSettings=new e.LinesSettings(t),this.initialTouchZoom=1,this.showDescriptionOnHover=!1,e.AmMap.base.construct.call(this,t),this.creditsPosition="bottom-left",this.product="ammap",this.areasClasses={},this.updatableImages=[],e.applyTheme(this,t,this.cname)},initChart:function(){this.zoomInstantly=!0;var t=this.container;if(this.panRequired=!0,this.sizeChanged&&e.hasSVG&&this.chartCreated){this.updatableImages=[],this.freeLabelsSet&&this.freeLabelsSet.remove(),this.freeLabelsSet=t.set(),this.container.setSize(this.realWidth,this.realHeight),this.resizeMap(),this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.processObjects(!0),this.rescaleObjects(),this.zoomControl.init(this,t),this.drawBg();var i=this.smallMap;i&&i.init(this,t),(i=this.valueLegend)&&i.init(this,t),this.sizeChanged=!1,this.zoomToLongLat(this.zLevelTemp,this.zLongTemp,this.zLatTemp,!0),this.previousWidth=this.realWidth,this.previousHeight=this.realHeight,this.updateSmallMap(),this.linkSet.toFront(),this.zoomControl.update&&this.zoomControl.update()}else e.AmMap.base.initChart.call(this),e.hasSVG?(this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,t=this.legend)&&(t.position="absolute",t.invalidateSize()),this.createDescriptionsDiv(),this.svgAreas=[],this.svgAreasById={},this.drawChart()):(this.chartDiv.style.textAlign="",this.chartDiv.setAttribute("class","ammapAlert"),this.chartDiv.innerHTML=this.svgNotSupported,this.fire({type:"failed",chart:this}))},storeTemp:function(){if(e.hasSVG&&0<this.realWidth&&0<this.realHeight){var t=this.mapContainer.getBBox();0<t.width&&0<t.height&&(t=this.zoomLongitude(),isNaN(t)||(this.zLongTemp=t),t=this.zoomLatitude(),isNaN(t)||(this.zLatTemp=t),t=this.zoomLevel(),isNaN(t)||(this.zLevelTemp=t))}},invalidateSize:function(){this.storeTemp(),e.AmMap.base.invalidateSize.call(this)},validateSize:function(){this.storeTemp(),e.AmMap.base.validateSize.call(this)},handleWheelReal:function(t){if(!this.wheelBusy){this.stopAnimation();var i=this.zoomLevel(),a=this.zoomControl,s=a.zoomFactor;this.wheelBusy=!0,t=e.fitToBounds(t>0?i*s:i/s,a.minZoomLevel,a.maxZoomLevel),s=this.mouseX/this.mapWidth,a=this.mouseY/this.mapHeight,s=(this.zoomX()-s)*(t/i)+s,i=(this.zoomY()-a)*(t/i)+a,this.zoomTo(t,s,i)}},addLegend:function(t,i){return t.position="absolute",t.autoMargins=!1,t.valueWidth=0,t.switchable=!1,e.AmMap.base.addLegend.call(this,t,i),void 0===t.enabled&&(t.enabled=!0),t},handleLegendEvent:function(){},createDescriptionsDiv:function(){if(!this.descriptionsDiv){var e=document.createElement("div"),t=e.style;t.position="absolute",t.left="0px",t.top="0px",this.descriptionsDiv=e}this.containerDiv.appendChild(this.descriptionsDiv)},drawChart:function(){e.AmMap.base.drawChart.call(this);var t=this.dataProvider;this.dataProvider=t=e.extend(t,new e.MapData,!0),this.areasSettings=e.processObject(this.areasSettings,e.AreasSettings,this.theme),this.imagesSettings=e.processObject(this.imagesSettings,e.ImagesSettings,this.theme),this.linesSettings=e.processObject(this.linesSettings,e.LinesSettings,this.theme);var i=this.container;this.mapContainer&&this.mapContainer.remove(),this.mapContainer=i.set(),this.graphsSet.push(this.mapContainer);var a;t.map&&(a=e.maps[t.map]),t.mapVar&&(a=t.mapVar),a?(this.svgData=a.svg,this.getBounds(),this.buildEverything()):(t=t.mapURL)&&this.loadXml(t),this.balloonsSet.toFront()},drawBg:function(){var e=this;e.background.click(function(){e.handleBackgroundClick()}),e.background.mouseover(function(){e.rollOutMapObject(e.previouslyHovered)})},buildEverything:function(){if(0<this.realWidth&&0<this.realHeight){var t=this.container,i=this.dataProvider;this.projection||(this.projection=i.projection,this.projection||(this.projection="equirectangular")),this.updatableImages=[];var a=this.projection;a&&(this.projectionFunction=e[a]),this.projectionFunction||(this.projectionFunction=e.equirectangular),this.dpProjectionFunction=e[i.projection],this.dpProjectionFunction||(this.dpProjectionFunction=e.equirectangular),this.zoomControl=e.processObject(this.zoomControl,e.ZoomControl,this.theme),this.zoomControl.init(this,t),this.drawBg(),this.buildSVGMap(),this.projectionFunction&&a!=i.projection||this.forceNormalize?(this.normalizeMap(),this.changeProjection()):this.fixMapPosition(),(a=this.smallMap)&&(a=e.processObject(a,e.SmallMap,this.theme),a.init(this,t),this.smallMap=a),isNaN(i.zoomX)&&isNaN(i.zoomY)&&isNaN(i.zoomLatitude)&&isNaN(i.zoomLongitude)&&(this.centerMap?(a=this.xyToCoordinates(this.mapWidth/2,this.mapHeight/2),i.zoomLongitudeC=a.longitude,i.zoomLatitudeC=a.latitude):(i.zoomX=0,i.zoomY=0),this.zoomInstantly=!0),this.selectObject(this.dataProvider),this.processAreas(),(i=this.valueLegend)&&(this.valueLegend=i=e.processObject(i,e.ValueLegend,this.theme),i.init(this,t)),this.objectList&&(t=this.objectList=e.processObject(this.objectList,e.ObjectList))&&(this.clearObjectList(),t.init(this)),this.dispDUpd(),this.updateSmallMap(),this.linkSet.toFront()}else this.cleanChart()},hideGroup:function(e){this.showHideGroup(e,!1)},showGroup:function(e){this.showHideGroup(e,!0)},showHideGroup:function(e,t){this.showHideReal(this.imagesProcessor.allObjects,e,t),this.showHideReal(this.areasProcessor.allObjects,e,t),this.showHideReal(this.linesProcessor.allObjects,e,t)},showHideReal:function(e,t,i){var a;for(a=0;a<e.length;a++){var s=e[a];if(s.groupId==t){var o=s.displayObject;o&&(i?(s.hidden=!1,o.show()):(s.hidden=!0,o.hide()))}}},makeObjectAccessible:function(e){if(e.accessibleLabel){var t=this.formatString(e.accessibleLabel,e);e.displayObject&&this.makeAccessible(e.displayObject,t,"menuitem")}},update:function(){if(e.hasSVG){e.AmMap.base.update.call(this),this.zoomControl&&this.zoomControl.update&&this.zoomControl.update();for(var t=0,i=this.updatableImages.length;i>t;t++)this.updatableImages[t].update()}},animateMap:function(){var t=this;t.totalFrames=t.zoomDuration*e.updateRate,t.totalFrames+=1,t.frame=0,t.tweenPercent=0,t.balloon.hide(0),setTimeout(function(){t.updateSize.call(t)},1e3/e.updateRate)},updateSize:function(){var t=this,i=t.totalFrames;t.preventHover=!0,t.frame<=i?(t.frame++,i=e.easeOutSine(0,t.frame,0,1,i),i>=1?(i=1,t.preventHover=!1,t.wheelBusy=!1):window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateSize.call(t)}):setTimeout(function(){t.updateSize.call(t)},1e3/e.updateRate),i>.8&&(t.preventHover=!1)):(i=1,t.preventHover=!1,t.wheelBusy=!1),t.tweenPercent=i,t.rescaleMapAndObjects()},rescaleMapAndObjects:function(){var e=this.initialScale,t=this.initialX,i=this.initialY,a=this.tweenPercent,e=e+(this.finalScale-e)*a;if(this.mapContainer.translate(t+(this.finalX-t)*a,i+(this.finalY-i)*a,e,!0),this.areasSettings.adjustOutlineThickness){for(var t=this.svgAreas,s=0;s<t.length;s++)(i=t[s])&&i.setAttr("stroke-width",this.areasSettings.outlineThickness/e/this.mapScale);if(t=this.dataProvider.areas)for(s=0;s<t.length;s++){var i=t[s],o=i.displayObject;o&&o.setAttr("stroke-width",i.outlineThicknessReal/e/this.mapScale)}}this.rescaleObjects(),this.positionChanged(),this.updateSmallMap(),1==a&&this.fire({type:"zoomCompleted",chart:this})},updateSmallMap:function(){this.smallMap&&this.smallMap.update()},rescaleObjects:function(){var e,t=this.mapContainer.scale,i=this.imagesProcessor.objectsToResize;for(e=0;e<i.length;e++){var a=i[e].image,s=i[e].scale,o=i[e].mapImage;isNaN(o.selectedScaleReal)||o!=this.selectedObject||(o.tempScale=s,s*=o.selectedScaleReal),a.translate(a.x,a.y,s/t,!0)}for(i=this.imagesProcessor.labelsToReposition,e=0;e<i.length;e++)a=i[e],a.imageLabel&&this.imagesProcessor.positionLabel(a.imageLabel,a,a.labelPositionReal);if(i=this.linesProcessor,a=i.linesToResize)for(e=0;e<a.length;e++)s=a[e],s.line.setAttr("stroke-width",s.thickness/t);for(i=i.objectsToResize,e=0;e<i.length;e++)a=i[e],a.translate(a.x,a.y,1/t,!0)},handleTouchEnd:function(t){this.initialDistance=NaN,this.mouseIsDown=this.isDragging=!1,e.AmMap.base.handleTouchEnd.call(this,t)},handleMouseDown:function(t){if(e.resetMouseOver(),this.mouseIsDown=this.mouseIsOver=!0,this.balloon.hide(0),t&&this.mouseIsOver&&t.preventDefault&&this.panEventsEnabled&&t.preventDefault(),this.chartCreated&&!this.preventHover&&(this.initialTouchZoom=this.zoomLevel(),this.dragMap&&(this.stopAnimation(),this.mapContainerClickX=this.mapContainer.x,this.mapContainerClickY=this.mapContainer.y),t||(t=window.event),t.shiftKey&&!0===this.developerMode&&this.getDevInfo(),t&&t.touches)){var i=this.mouseX,a=this.mouseY,s=t.touches.item(1);s&&this.panEventsEnabled&&this.boundingRect&&(t=s.clientX-this.boundingRect.left,s=s.clientY-this.boundingRect.top,this.middleXP=(i+(t-i)/2)/this.realWidth,this.middleYP=(a+(s-a)/2)/this.realHeight,this.initialDistance=Math.sqrt(Math.pow(t-i,2)+Math.pow(s-a,2)))}},stopDrag:function(){this.isDragging=!1},handleReleaseOutside:function(){if(e.isModern){var t=this;if(e.AmMap.base.handleReleaseOutside.call(t),t.mouseIsDown=!1,setTimeout(function(){t.resetPinch.call(t)},100),!t.preventHover){t.stopDrag();var i=t.zoomControl;i&&i.draggerUp&&i.draggerUp(),t.mapWasDragged=!1;var i=t.mapContainer,a=t.mapContainerClickX,s=t.mapContainerClickY;isNaN(a)||isNaN(s)||!(3<Math.abs(i.x-a)||3<Math.abs(i.y-s))||(t.mapWasDragged=!0,i={type:"dragCompleted",zoomX:t.zoomX(),zoomY:t.zoomY(),zoomLevel:t.zoomLevel(),chart:t},t.fire(i)),(t.mouseIsOver&&!t.mapWasDragged&&!t.skipClick||t.wasTouched&&3>Math.abs(t.mouseX-t.tmx)&&3>Math.abs(t.mouseY-t.tmy))&&t.fire({type:"click",x:t.mouseX,y:t.mouseY,chart:t}),t.mapContainerClickX=NaN,t.mapContainerClickY=NaN,t.objectWasClicked=!1,t.zoomOnDoubleClick&&t.mouseIsOver&&(i=(new Date).getTime(),200>i-t.previousClickTime&&40<i-t.previousClickTime&&t.doDoubleClickZoom(),t.previousClickTime=i)}t.wasTouched=!1}},resetPinch:function(){this.mapWasPinched=!1},handleMouseMove:function(t){var i=this;if(e.AmMap.base.handleMouseMove.call(i,t),!t||!t.touches||!i.tapToActivate||i.tapped){i.panEventsEnabled&&i.mouseIsOver&&t&&t.preventDefault&&t.preventDefault();var a=i.previuosMouseX,s=i.previuosMouseY,o=i.mouseX,n=i.mouseY,r=i.zoomControl;if(isNaN(a)&&(a=o),isNaN(s)&&(s=n),i.mouse2X=NaN,i.mouse2Y=NaN,t&&t.touches&&(t=t.touches.item(1))&&i.panEventsEnabled&&i.boundingRect&&(i.mouse2X=t.clientX-i.boundingRect.left,i.mouse2Y=t.clientY-i.boundingRect.top),t=i.mapContainer){var l=i.mouse2X,c=i.mouse2Y;i.pinchTO&&clearTimeout(i.pinchTO),i.pinchTO=setTimeout(function(){i.resetPinch.call(i)},1e3);var d=i.realHeight,h=i.realWidth,u=i.mapWidth,p=i.mapHeight;if(i.mouseIsDown&&i.dragMap&&(3<Math.abs(i.previuosMouseX-i.mouseX)||3<Math.abs(i.previuosMouseY-i.mouseY))&&(i.isDragging=!0),!isNaN(l)){i.stopDrag();var m=Math.sqrt(Math.pow(l-o,2)+Math.pow(c-n,2)),g=i.initialDistance;if(isNaN(g)&&(g=Math.sqrt(Math.pow(l-o,2)+Math.pow(c-n,2))),!isNaN(g)){var l=i.initialTouchZoom*m/g,l=e.fitToBounds(l,r.minZoomLevel,r.maxZoomLevel),r=i.zoomLevel(),g=i.middleXP,c=i.middleYP,m=d/p,v=h/u,g=(i.zoomX()-g*v)*(l/r)+g*v,c=(i.zoomY()-c*m)*(l/r)+c*m;.1<Math.abs(l-r)&&(i.zoomTo(l,g,c,!0),i.mapWasPinched=!0,clearTimeout(i.pinchTO))}}l=t.scale,i.isDragging&&(i.balloon.hide(0),i.positionChanged(),a=t.x+(o-a),s=t.y+(n-s),i.preventDragOut&&(p=-p*l+d/2-i.diffY*i.mapScale*l,d=d/2-i.diffY*i.mapScale*l,a=e.fitToBounds(a,-u*l+h/2,h/2),s=e.fitToBounds(s,p,d)),isNaN(a)||isNaN(s)||(t.translate(a,s,l,!0),i.updateSmallMap())),i.previuosMouseX=o,i.previuosMouseY=n}}},selectObject:function(t,i){var a=this;t||(t=a.dataProvider),t.isOver=!1;var s=t.linkToObject;e.isString(s)&&(s=a.getObjectById(s)),t.useTargetsZoomValues&&s&&(t.zoomX=s.zoomX,t.zoomY=s.zoomY,t.zoomLatitude=s.zoomLatitude,t.zoomLongitude=s.zoomLongitude,t.zoomLevel=s.zoomLevel);var o=a.selectedObject;o&&a.returnInitialColor(o),a.selectedObject=t;var n,r,l=!1;if("MapArea"==t.objectType&&(t.autoZoomReal&&(l=!0),n=a.areasSettings.selectedOutlineColor,r=a.areasSettings.selectedOutlineThickness),s&&!l&&(e.isString(s)&&(s=a.getObjectById(s)),isNaN(t.zoomLevel)&&isNaN(t.zoomX)&&isNaN(t.zoomY))){if(a.extendMapData(s))return;return void a.selectObject(s)}if(a.allowMultipleDescriptionWindows||a.closeAllDescriptions(),clearTimeout(a.selectedObjectTimeOut),clearTimeout(a.processObjectsTimeOut),s=a.zoomDuration,!l&&isNaN(t.zoomLevel)&&isNaN(t.zoomX)&&isNaN(t.zoomY)?(a.showDescriptionAndGetUrl(),i||a.processObjects()):(a.selectedObjectTimeOut=setTimeout(function(){
a.showDescriptionAndGetUrl.call(a)},1e3*s+200),a.showObjectsAfterZoom?i||(a.processObjectsTimeOut=setTimeout(function(){a.processObjects.call(a)},1e3*s+200)):i||a.processObjects()),s=t.displayObject,l=t.selectedColorReal,"MapImage"==t.objectType){n=a.imagesSettings.selectedOutlineColor,r=a.imagesSettings.selectedOutlineThickness;var s=t.image,c=t.selectedScaleReal;if(!isNaN(c)&&1!=c){var d=t.scale;isNaN(t.tempScale)||(d=t.tempScale),isNaN(d)&&(d=1),t.tempScale=d;var h=t.displayObject;h.translate(h.x,h.y,d*c,!0)}}if(s?(e.removeCN(a,s,"selected-object"),e.setCN(a,s,"selected-object"),t.bringForwardOnHover&&t.displayObject.toFront(),a.outlinesToFront(),t.preserveOriginalAttributes||(s.setAttr("stroke",t.outlineColorReal),void 0!==l&&s.setAttr("fill",l),void 0!==n&&s.setAttr("stroke",n),void 0!==r&&s.setAttr("stroke-width",r),"MapLine"==t.objectType&&((c=t.lineSvg)&&c.setAttr("stroke",l),c=t.arrowSvg)&&(c.setAttr("fill",l),c.setAttr("stroke",l)),(c=t.imageLabel)&&(d=t.selectedLabelColorReal,void 0!==d&&c.setAttr("fill",d)),t.selectable||(s.setAttr("cursor","default"),c&&c.setAttr("cursor","default")))):a.returnInitialColorReal(t),s=t.groupId)for(c=t.groupArray,c||(c=a.getGroupById(s),t.groupArray=c),d=0;d<c.length;d++)if(h=c[d],h.isOver=!1,s=h.displayObject,"MapImage"==h.objectType&&(s=h.image),s){var u=h.selectedColorReal;void 0!==u&&s.setAttr("fill",u),void 0!==n&&s.setAttr("stroke",n),void 0!==r&&s.setAttr("stroke-width",r),"MapLine"==h.objectType&&((s=h.lineSvg)&&s.setAttr("stroke",l),s=h.arrowSvg)&&(s.setAttr("fill",l),s.setAttr("stroke",l))}a.rescaleObjects(),a.zoomToSelectedObject(),o!=t&&a.fire({type:"selectedObjectChanged",chart:a})},returnInitialColor:function(e,t){if(this.returnInitialColorReal(e),t&&(e.isFirst=!1),this.selectedObject.bringForwardOnHover){var i=this.selectedObject.displayObject;i&&i.toFront()}if(i=e.groupId){var a,i=this.getGroupById(i);for(a=0;a<i.length;a++)this.returnInitialColorReal(i[a]),t&&(i[a].isFirst=!1)}this.outlinesToFront()},outlinesToFront:function(){if(this.outlines)for(var e=0;e<this.outlines.length;e++)this.outlines[e].toFront()},closeAllDescriptions:function(){this.descriptionsDiv.innerHTML=""},fireClosed:function(){this.fire({type:"descriptionClosed",chart:this})},returnInitialColorReal:function(t){t.isOver=!1;var i=t.displayObject;if(i){if(e.removeCN(this,i,"selected-object"),i.toPrevious(),"MapImage"==t.objectType){var a=t.tempScale;isNaN(a)||i.translate(i.x,i.y,a,!0),t.tempScale=NaN,i=t.image}if(a=t.colorReal,"MapLine"==t.objectType){var s=t.lineSvg;if(s&&s.setAttr("stroke",a),s=t.arrowSvg){var o=t.arrowColor;void 0===o&&(o=a),s.setAttr("fill",o),s.setAttr("stroke",o)}}var s=t.alphaReal,o=t.outlineAlphaReal,n=t.outlineThicknessReal,r=t.outlineColorReal;if(t.showAsSelected){var l,c,a=t.selectedColorReal;"MapImage"==t.objectType&&(l=this.imagesSettings.selectedOutlineColor,c=this.imagesSettings.selectedOutlineThickness),"MapArea"==t.objectType&&(l=this.areasSettings.selectedOutlineColor,c=this.areasSettings.selectedOutlineThickness),void 0!==l&&(r=l),void 0!==c&&(n=c)}"bubble"==t.type&&(a=void 0),void 0!==a&&i.setAttr("fill",a),(l=t.image)&&(l.setAttr("fill",a),l.setAttr("stroke",r),l.setAttr("stroke-width",n),l.setAttr("fill-opacity",s),l.setAttr("stroke-opacity",o)),"MapArea"==t.objectType&&(a=1,this.areasSettings.adjustOutlineThickness&&(a=this.zoomLevel()*this.mapScale),i.setAttr("stroke",r),i.setAttr("stroke-width",n/a),i.setAttr("fill-opacity",s),i.setAttr("stroke-opacity",o)),(a=t.pattern)&&i.pattern(a,this.mapScale,this.path),(i=t.imageLabel)&&!t.labelInactive&&(t.showAsSelected&&void 0!==t.selectedLabelColor?i.setAttr("fill",t.selectedLabelColor):i.setAttr("fill",t.labelColorReal))}},zoomToRectangle:function(t,i,a,s){var o=this.realWidth,n=this.realHeight,r=this.mapSet.scale,l=this.zoomControl,o=e.fitToBounds(a/o>s/n?.8*o/(a*r):.8*n/(s*r),l.minZoomLevel,l.maxZoomLevel);this.zoomToMapXY(o,(t+a/2)*r,(i+s/2)*r)},zoomToLatLongRectangle:function(t,i,a,s){var o=this.dataProvider,n=this.zoomControl,r=Math.abs(a-t),l=Math.abs(i-s),c=Math.abs(o.rightLongitude-o.leftLongitude),o=Math.abs(o.topLatitude-o.bottomLatitude),n=e.fitToBounds(r/c>l/o?.8*c/r:.8*o/l,n.minZoomLevel,n.maxZoomLevel);this.zoomToLongLat(n,t+(a-t)/2,s+(i-s)/2)},getGroupById:function(e){var t=[];return this.getGroup(this.imagesProcessor.allObjects,e,t),this.getGroup(this.linesProcessor.allObjects,e,t),this.getGroup(this.areasProcessor.allObjects,e,t),t},zoomToGroup:function(e){e="object"==typeof e?e:this.getGroupById(e);var t,i,a,s,o;for(o=0;o<e.length;o++){var n=e[o].displayObject;if(n){var r=n.getBBox(),n=r.y,l=r.y+r.height,c=r.x,r=r.x+r.width;(t>n||isNaN(t))&&(t=n),(l>s||isNaN(s))&&(s=l),(i>c||isNaN(i))&&(i=c),(r>a||isNaN(a))&&(a=r)}}i+=this.diffX,a+=this.diffX,s+=this.diffY,t+=this.diffY,this.zoomToRectangle(i,t,a-i,s-t)},getGroup:function(e,t,i){if(e){var a;for(a=0;a<e.length;a++){var s=e[a];s.groupId==t&&i.push(s)}}},zoomToStageXY:function(t,i,a,s){if(!this.objectWasClicked){var o=this.zoomControl;t=e.fitToBounds(t,o.minZoomLevel,o.maxZoomLevel);var o=this.zoomLevel(),n=this.mapSet.getBBox();i=this.xyToCoordinates((i-this.mapContainer.x)/o-n.x*this.mapScale,(a-this.mapContainer.y)/o-n.y*this.mapScale),this.zoomToLongLat(t,i.longitude,i.latitude,s)}},zoomToLongLat:function(e,t,i,a){t=this.coordinatesToXY(t,i),this.zoomToMapXY(e,t.x,t.y,a)},zoomToMapXY:function(e,t,i,a){var s=this.mapWidth,o=this.mapHeight;this.zoomTo(e,-(t/s)*e+this.realWidth/s/2,-(i/o)*e+this.realHeight/o/2,a)},zoomToObject:function(t){if(t){var i=t.zoomLatitude,a=t.zoomLongitude;isNaN(t.zoomLatitudeC)||(i=t.zoomLatitudeC),isNaN(t.zoomLongitudeC)||(a=t.zoomLongitudeC);var s=t.zoomLevel,o=this.zoomInstantly,n=t.zoomX,r=t.zoomY,l=this.realWidth,c=this.realHeight;isNaN(s)||(isNaN(i)||isNaN(a)?this.zoomTo(s,n,r,o):this.zoomToLongLat(s,a,i,o)),this.zoomInstantly=!1,"MapImage"==t.objectType&&isNaN(t.zoomX)&&isNaN(t.zoomY)&&isNaN(t.zoomLatitude)&&isNaN(t.zoomLongitude)&&!isNaN(t.latitude)&&!isNaN(t.longitude)&&this.zoomToLongLat(t.zoomLevel,t.longitude,t.latitude),"MapArea"==t.objectType&&(o=t.displayObject.getBBox(),n=this.mapScale,i=(o.x+this.diffX)*n,a=(o.y+this.diffY)*n,s=o.width*n,o=o.height*n,l=t.autoZoomReal&&isNaN(t.zoomLevel)?s/l>o/c?.8*l/s:.8*c/o:t.zoomLevel,c=this.zoomControl,l=e.fitToBounds(l,c.minZoomLevel,c.maxZoomLevel),isNaN(t.zoomX)&&isNaN(t.zoomY)&&isNaN(t.zoomLatitude)&&isNaN(t.zoomLongitude)&&this.zoomToMapXY(l,i+s/2,a+o/2)),this.zoomControl.update()}},zoomToSelectedObject:function(){this.zoomToObject(this.selectedObject)},zoomTo:function(t,i,a,s){var o=this.zoomControl;t=e.fitToBounds(t,o.minZoomLevel,o.maxZoomLevel),o=this.zoomLevel(),isNaN(i)&&(i=this.realWidth/this.mapWidth,i=(this.zoomX()-.5*i)*(t/o)+.5*i),isNaN(a)&&(a=this.realHeight/this.mapHeight,a=(this.zoomY()-.5*a)*(t/o)+.5*a),this.stopAnimation(),isNaN(t)||(o=this.mapContainer,this.initialX=o.x,this.initialY=o.y,this.initialScale=o.scale,this.finalX=this.mapWidth*i,this.finalY=this.mapHeight*a,this.finalScale=t,this.finalX!=this.initialX||this.finalY!=this.initialY||this.finalScale!=this.initialScale?s?(this.tweenPercent=1,this.rescaleMapAndObjects(),this.wheelBusy=!1):this.animateMap():this.wheelBusy=!1)},loadXml:function(e){var t;window.XMLHttpRequest&&(t=new XMLHttpRequest),t.overrideMimeType&&t.overrideMimeType("text/xml"),t.open("GET",e,!1),t.send(),this.parseXMLObject(t.responseXML),this.svgData&&this.buildEverything()},stopAnimation:function(){this.frame=this.totalFrames},processObjects:function(e){var t=this.selectedObject;if(0<t.images.length||0<t.areas.length||0<t.lines.length||t==this.dataProvider||e){e=this.container;var i=this.stageImagesContainer;i&&i.remove(),this.stageImagesContainer=i=e.set(),this.trendLinesSet.push(i);var a=this.stageLinesContainer;a&&a.remove(),this.stageLinesContainer=a=e.set(),this.trendLinesSet.push(a);var s=this.mapImagesContainer;s&&s.remove(),this.mapImagesContainer=s=e.set(),this.mapContainer.push(s);var o=this.mapLinesContainer;o&&o.remove(),this.mapLinesContainer=o=e.set(),this.mapContainer.push(o),this.linesAboveImages?(s.toFront(),i.toFront(),o.toFront(),a.toFront()):(o.toFront(),a.toFront(),s.toFront(),i.toFront()),t&&(this.imagesProcessor.reset(),this.linesProcessor.reset(),this.linesAboveImages?(this.imagesProcessor.process(t),this.linesProcessor.process(t)):(this.linesProcessor.process(t),this.imagesProcessor.process(t))),this.rescaleObjects()}},processAreas:function(){this.areasProcessor.process(this.dataProvider)},buildSVGMap:function(){e.remove(this.mapSet);var t=this.svgData.g.path,i=this.container,a=i.set();this.svgAreas=[],this.svgAreasById={},void 0===t.length&&(t=[t]);var s;for(s=0;s<t.length;s++){var o=t[s],n=o.d,r=o.title;o.titleTr&&(r=o.titleTr);var l=i.path(n);if(l.id=o.id,this.areasSettings.preserveOriginalAttributes){l.customAttr={};for(var c in o)"d"!=c&&"id"!=c&&"title"!=c&&(l.customAttr[c]=o[c])}o.outline&&(l.outline=!0),l.path=n,this.svgAreasById[o.id]={area:l,title:r,className:o["class"]},this.svgAreas.push(l),a.push(l)}this.mapSet=a,this.mapContainer.push(a),this.resizeMap()},centerAlign:function(){},setProjection:function(e){this.projection=e,this.chartCreated=!1,this.buildEverything()},addObjectEventListeners:function(e,t){var i=this;e.mousedown(function(e){i.mouseDownMapObject(t,e)}).mouseup(function(e){i.clickMapObject(t,e)}).mouseover(function(e){i.balloonX=NaN,i.rollOverMapObject(t,!0,e)}).mouseout(function(e){i.balloonX=NaN,i.rollOutMapObject(t,e)}).touchend(function(e){4>Math.abs(i.mouseX-i.tmx)&&4>Math.abs(i.mouseY-i.tmy)&&(i.tapped=!0),i.tapToActivate&&!i.tapped||i.mapWasDragged||i.mapWasPinched||(i.balloonX=NaN,i.rollOverMapObject(t,!0,e),i.clickMapObject(t,e))}).touchstart(function(e){i.tmx=i.mouseX,i.tmy=i.mouseY,i.mouseDownMapObject(t,e)}).keyup(function(e){13==e.keyCode&&i.clickMapObject(t,e)})},checkIfSelected:function(e){var t=this.selectedObject;if(t==e)return!0;if(t=t.groupId){var i,t=this.getGroupById(t);for(i=0;i<t.length;i++)if(t[i]==e)return!0}return!1},clearMap:function(){this.chartDiv.innerHTML="",this.clearObjectList()},clearObjectList:function(){var e=this.objectList;e&&e.div&&(e.div.innerHTML="")},checkIfLast:function(e){if(e){var t=e.parentNode;if(t&&t.lastChild==e)return!0}return!1},showAsRolledOver:function(t){var i=t.displayObject;if(!t.showAsSelected&&i&&!t.isOver){i.node.onmouseout=function(){},i.node.onmouseover=function(){},i.node.onclick=function(){},!t.isFirst&&t.bringForwardOnHover&&(i.toFront(),t.isFirst=!0);var a,s=t.rollOverColorReal;if(t.preserveOriginalAttributes&&(s=void 0),"bubble"==t.type&&(s=void 0),void 0==s&&(isNaN(t.rollOverBrightnessReal)||(s=e.adjustLuminosity(t.colorReal,t.rollOverBrightnessReal/100))),void 0!=s&&("MapImage"==t.objectType?(a=t.image)&&a.setAttr("fill",s):"MapLine"==t.objectType?((a=t.lineSvg)&&a.setAttr("stroke",s),(a=t.arrowSvg)&&(a.setAttr("fill",s),a.setAttr("stroke",s))):i.setAttr("fill",s)),(s=t.imageLabel)&&!t.labelInactive&&(a=t.labelRollOverColorReal,void 0!=a&&s.setAttr("fill",a)),s=t.rollOverOutlineColorReal,void 0!=s&&("MapImage"==t.objectType?(a=t.image)&&a.setAttr("stroke",s):i.setAttr("stroke",s)),"MapImage"==t.objectType?(s=this.imagesSettings.rollOverOutlineThickness,(a=t.image)&&(isNaN(s)||a.setAttr("stroke-width",s))):(s=this.areasSettings.rollOverOutlineThickness,isNaN(s)||i.setAttr("stroke-width",s)),"MapArea"==t.objectType){s=this.areasSettings,a=t.rollOverAlphaReal,isNaN(a)||i.setAttr("fill-opacity",a),a=s.rollOverOutlineAlpha,isNaN(a)||i.setAttr("stroke-opacity",a),a=1,this.areasSettings.adjustOutlineThickness&&(a=this.zoomLevel()*this.mapScale);var o=s.rollOverOutlineThickness;isNaN(o)||i.setAttr("stroke-width",o/a),(s=s.rollOverPattern)&&i.pattern(s,this.mapScale,this.path)}"MapImage"==t.objectType&&(s=t.rollOverScaleReal,isNaN(s)||1==s||(a=i.scale,isNaN(a)&&(a=1),t.tempScale=a,i.translate(i.x,i.y,a*s,!0))),this.useHandCursorOnClickableOjects&&this.checkIfClickable(t)&&i.setAttr("cursor","pointer"),t.mouseEnabled&&this.addObjectEventListeners(i,t),t.isOver=!0}this.outlinesToFront()},rollOverMapObject:function(e,t,i){if(this.chartCreated){this.handleMouseMove();var a=this.previouslyHovered;if(a&&a!=e?(!1===this.checkIfSelected(a)&&(this.returnInitialColor(a,!0),this.previouslyHovered=null),this.balloon.hide(0)):clearTimeout(this.hoverInt),!this.preventHover){if(!1===this.checkIfSelected(e)){if(a=e.groupId){var s,a=this.getGroupById(a);for(s=0;s<a.length;s++)a[s]!=e&&this.showAsRolledOver(a[s])}this.showAsRolledOver(e)}else(a=e.displayObject)&&(this.allowClickOnSelectedObject?a.setAttr("cursor","pointer"):a.setAttr("cursor","default"));this.showDescriptionOnHover?this.showDescription(e):!this.showBalloonOnSelectedObject&&this.checkIfSelected(e)||!1===t||(s=this.balloon,this.balloon.fixedPosition=!1,t=e.colorReal,a="",void 0!==t&&this.useObjectColorForBalloon||(t=s.fillColor),(s=e.balloonTextReal)&&(a=this.formatString(s,e)),this.balloonLabelFunction&&(a=this.balloonLabelFunction(e,this)),a&&""!==a&&this.showBalloon(a,t,!1,this.balloonX,this.balloonY)),this.fire({type:"rollOverMapObject",mapObject:e,chart:this,event:i}),this.previouslyHovered=e}}},longitudeToX:function(e){return(this.longitudeToCoordinate(e)+this.diffX*this.mapScale)*this.zoomLevel()+this.mapContainer.x},latitudeToY:function(e){return(this.latitudeToCoordinate(e)+this.diffY*this.mapScale)*this.zoomLevel()+this.mapContainer.y},latitudeToStageY:function(e){return this.latitudeToCoordinate(e)*this.zoomLevel()+this.mapContainer.y+this.diffY*this.mapScale},longitudeToStageX:function(e){return this.longitudeToCoordinate(e)*this.zoomLevel()+this.mapContainer.x+this.diffX*this.mapScale},stageXToLongitude:function(e){return e=(e-this.mapContainer.x)/this.zoomLevel(),this.coordinateToLongitude(e)},stageYToLatitude:function(e){return e=(e-this.mapContainer.y)/this.zoomLevel(),this.coordinateToLatitude(e)},rollOutMapObject:function(e,t){this.hideBalloon(),e&&this.chartCreated&&e.isOver&&(this.checkIfSelected(e)||this.returnInitialColor(e),this.fire({type:"rollOutMapObject",mapObject:e,chart:this,event:t}))},formatString:function(t,i){var a=this.nf,s=this.pf,o=i.title;i.titleTr&&(o=i.titleTr),void 0==o&&(o="");var n=i.value,n=isNaN(n)?"":e.formatNumber(n,a),a=i.percents,a=isNaN(a)?"":e.formatNumber(a,s),s=i.description;void 0==s&&(s="");var r=i.customData;return void 0==r&&(r=""),t=e.massReplace(t,{"[[title]]":o,"[[value]]":n,"[[percent]]":a,"[[description]]":s,"[[customData]]":r})},mouseDownMapObject:function(e,t){this.fire({type:"mouseDownMapObject",mapObject:e,chart:this,event:t})},clickMapObject:function(e,t){var i=this;if(t&&(t.touches||isNaN(e.zoomLevel)&&isNaN(e.zoomX)&&isNaN(e.zoomY)||i.hideBalloon()),i.chartCreated&&!i.preventHover&&i.checkTouchDuration(t)&&!i.mapWasDragged&&i.checkIfClickable(e)&&!i.mapWasPinched){i.selectObject(e);var a=i.zoomLevel(),s=i.mapSet.getBBox(),a=i.xyToCoordinates((i.mouseX-i.mapContainer.x)/a-s.x*i.mapScale,(i.mouseY-i.mapContainer.y)/a-s.y*i.mapScale);i.clickLatitude=a.latitude,i.clickLongitude=a.longitude,t&&t.touches&&setTimeout(function(){i.showBalloonAfterZoom.call(i)},1e3*i.zoomDuration),i.fire({type:"clickMapObject",mapObject:e,chart:i,event:t}),i.objectWasClicked=!0}},showBalloonAfterZoom:function(){var e=this.clickLongitude,t=this.clickLatitude,i=this.selectedObject;"MapImage"!=i.objectType||isNaN(i.longitude)||(e=i.longitude,t=i.latitude),e=this.coordinatesToStageXY(e,t),this.balloonX=e.x,this.balloonY=e.y,this.rollOverMapObject(this.selectedObject,!0)},checkIfClickable:function(e){var t=this.allowClickOnSelectedObject;return this.selectedObject==e&&t?!0:(this.selectedObject!=e||t)&&(!0===e.selectable||"MapArea"==e.objectType&&e.autoZoomReal||e.url||e.linkToObject||0<e.images.length||0<e.lines.length||!isNaN(e.zoomLevel)||!isNaN(e.zoomX)||!isNaN(e.zoomY)||e.description)?!0:!1},resizeMap:function(){var e=this.mapSet;if(e){var t=1,i=e.getBBox(),a=this.realWidth,s=this.realHeight,o=i.width,i=i.height;o>0&&i>0&&(this.fitMapToContainer&&(t=o/a>i/s?a/o:s/i),e.translate(0,0,t,!0),this.mapScale=t,this.mapHeight=i*t,this.mapWidth=o*t)}},zoomIn:function(){var e=this.zoomLevel()*this.zoomControl.zoomFactor;this.zoomTo(e)},zoomOut:function(){var e=this.zoomLevel()/this.zoomControl.zoomFactor;this.zoomTo(e)},moveLeft:function(){var e=this.zoomX()+this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),e,this.zoomY())},moveRight:function(){var e=this.zoomX()-this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),e,this.zoomY())},moveUp:function(){var e=this.zoomY()+this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),this.zoomX(),e)},moveDown:function(){var e=this.zoomY()-this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),this.zoomX(),e)},zoomX:function(){return this.mapSet?Math.round(1e4*this.mapContainer.x/this.mapWidth)/1e4:NaN},zoomY:function(){return this.mapSet?Math.round(1e4*this.mapContainer.y/this.mapHeight)/1e4:NaN},goHome:function(){this.selectObject(this.dataProvider),this.fire({type:"homeButtonClicked",chart:this})},zoomLevel:function(){return Math.round(1e5*this.mapContainer.scale)/1e5},showDescriptionAndGetUrl:function(){var t=this.selectedObject;if(t){this.showDescription();var i=t.url;if(i)e.getURL(i,t.urlTarget);else if(i=t.linkToObject){if(e.isString(i)){var a=this.getObjectById(i);if(a)return void this.selectObject(a)}i&&t.passZoomValuesToTarget&&(i.zoomLatitude=this.zoomLatitude(),i.zoomLongitude=this.zoomLongitude(),i.zoomLevel=this.zoomLevel()),this.extendMapData(i)||this.selectObject(i)}}},extendMapData:function(t){var i=t.objectType;return"MapImage"!=i&&"MapArea"!=i&&"MapLine"!=i?(e.extend(t,new e.MapData,!0),this.dataProvider=t,this.zoomInstantly=!0,this.validateData(),!0):void 0},showDescription:function(t){if(t||(t=this.selectedObject),this.allowMultipleDescriptionWindows||this.closeAllDescriptions(),t.description){var i=t.descriptionWindow;i&&i.close(),i=new e.DescriptionWindow,t.descriptionWindow=i;var a=t.descriptionWindowWidth,s=t.descriptionWindowHeight,o=t.descriptionWindowLeft,n=t.descriptionWindowTop,r=t.descriptionWindowRight,l=t.descriptionWindowBottom;isNaN(r)||(o=this.realWidth-r),isNaN(l)||(n=this.realHeight-l);var c=t.descriptionWindowX;isNaN(c)||(o=c),c=t.descriptionWindowY,isNaN(c)||(n=c),isNaN(o)&&(o=this.mouseX,o=o>this.realWidth/2?o-a-20:o+20),isNaN(n)&&(n=this.mouseY),i.maxHeight=s,c=t.title,t.titleTr&&(c=t.titleTr),i.show(this,this.descriptionsDiv,t.description,c),t=i.div.style,t.position="absolute",t.width=a+"px",t.maxHeight=s+"px",isNaN(l)||(n-=i.div.offsetHeight),isNaN(r)||(o-=i.div.offsetWidth),t.left=o+"px",t.top=n+"px"}},parseXMLObject:function(e){var t={root:{}};this.parseXMLNode(t,"root",e),this.svgData=t.root.svg,this.getBounds()},getBounds:function(){var e=this.dataProvider;try{var t=this.svgData.defs["amcharts:ammap"];e.leftLongitude=Number(t.leftLongitude),e.rightLongitude=Number(t.rightLongitude),e.topLatitude=Number(t.topLatitude),e.bottomLatitude=Number(t.bottomLatitude),e.projection=t.projection;var i=t.wrappedLongitudes;i&&(e.rightLongitude+=360),e.wrappedLongitudes=i}catch(a){}},recalcLongitude:function(e){return this.dataProvider.wrappedLongitudes&&e<this.dataProvider.leftLongitude?Number(e)+360:e},latitudeToCoordinate:function(e){var t,i=this.dataProvider;if(this.mapSet){t=i.topLatitude;var a=i.bottomLatitude;"mercator"==i.projection&&(e=this.mercatorLatitudeToCoordinate(e),t=this.mercatorLatitudeToCoordinate(t),a=this.mercatorLatitudeToCoordinate(a)),t=(e-t)/(a-t)*this.mapHeight}return t},longitudeToCoordinate:function(e){e=this.recalcLongitude(e);var t,i=this.dataProvider;return this.mapSet&&(t=i.leftLongitude,t=(e-t)/(i.rightLongitude-t)*this.mapWidth),t},mercatorLatitudeToCoordinate:function(t){return t>89.5&&(t=89.5),-89.5>t&&(t=-89.5),t=e.degreesToRadians(t),e.radiansToDegrees(.5*Math.log((1+Math.sin(t))/(1-Math.sin(t)))/2)},zoomLatitude:function(){if(this.mapContainer){var e=this.mapSet.getBBox(),t=(-this.mapContainer.x+this.previousWidth/2)/this.zoomLevel()-e.x*this.mapScale,e=(-this.mapContainer.y+this.previousHeight/2)/this.zoomLevel()-e.y*this.mapScale;return this.xyToCoordinates(t,e).latitude}},zoomLongitude:function(){if(this.mapContainer){var e=this.mapSet.getBBox(),t=(-this.mapContainer.x+this.previousWidth/2)/this.zoomLevel()-e.x*this.mapScale,e=(-this.mapContainer.y+this.previousHeight/2)/this.zoomLevel()-e.y*this.mapScale;return this.xyToCoordinates(t,e).longitude}},getAreaCenterLatitude:function(e){e=e.displayObject.getBBox();var t=this.mapScale,i=this.mapSet.getBBox();return this.xyToCoordinates((e.x+e.width/2+this.diffX)*t-i.x*t,(e.y+e.height/2+this.diffY)*t-i.y*t).latitude},getAreaCenterLongitude:function(e){e=e.displayObject.getBBox();var t=this.mapScale,i=this.mapSet.getBBox();return this.xyToCoordinates((e.x+e.width/2+this.diffX)*t-i.x*t,(e.y+e.height/2+this.diffY)*t-i.y*t).longitude},milesToPixels:function(e){var t=this.dataProvider;return this.mapWidth/(t.rightLongitude-t.leftLongitude)*e/69.172},kilometersToPixels:function(e){var t=this.dataProvider;return this.mapWidth/(t.rightLongitude-t.leftLongitude)*e/111.325},handleBackgroundClick:function(){if(this.backgroundZoomsToTop&&!this.mapWasDragged){var e=this.dataProvider;if(this.checkIfClickable(e))this.clickMapObject(e);else{var t=e.zoomX,i=e.zoomY,a=e.zoomLongitude,s=e.zoomLatitude,e=e.zoomLevel;isNaN(t)||isNaN(i)||this.zoomTo(e,t,i),isNaN(a)||isNaN(s)||this.zoomToLongLat(e,a,s,!0)}}},parseXMLNode:function(e,t,i,a){void 0===a&&(a="");var s,o,n;if(i){var r=i.childNodes.length;for(s=0;r>s;s++){o=i.childNodes[s];var l=o.nodeName,c=o.nodeValue?this.trim(o.nodeValue):"",d=!1;if(o.attributes&&0<o.attributes.length&&(d=!0),0!==o.childNodes.length||""!==c||!1!==d)if(3==o.nodeType||4==o.nodeType){if(""!==c){o=0;for(n in e[t])e[t].hasOwnProperty(n)&&o++;o?e[t]["#text"]=c:e[t]=c}}else if(1==o.nodeType){var h;if(void 0!==e[t][l]?void 0===e[t][l].length?(h=e[t][l],e[t][l]=[],e[t][l].push(h),e[t][l].push({}),h=e[t][l][1]):"object"==typeof e[t][l]&&(e[t][l].push({}),h=e[t][l][e[t][l].length-1]):(e[t][l]={},h=e[t][l]),o.attributes&&o.attributes.length)for(c=0;c<o.attributes.length;c++)h[o.attributes[c].name]=o.attributes[c].value;void 0!==e[t][l].length?this.parseXMLNode(e[t][l],e[t][l].length-1,o,a+"  "):this.parseXMLNode(e[t],l,o,a+"  ")}}o=0,i="";for(n in e[t])"#text"==n?i=e[t][n]:o++;0===o&&void 0===e[t].length&&(e[t]=i)}},doDoubleClickZoom:function(){if(!this.mapWasDragged){var e=this.zoomLevel()*this.zoomControl.zoomFactor;this.zoomToStageXY(e,this.mouseX,this.mouseY)}},getDevInfo:function(){var e=this.zoomLevel(),t=this.mapSet.getBBox(),t=this.xyToCoordinates((this.mouseX-this.mapContainer.x)/e-t.x*this.mapScale,(this.mouseY-this.mapContainer.y)/e-t.y*this.mapScale),e={chart:this,type:"writeDevInfo",zoomLevel:e,zoomX:this.zoomX(),zoomY:this.zoomY(),zoomLatitude:this.zoomLatitude(),zoomLongitude:this.zoomLongitude(),latitude:t.latitude,longitude:t.longitude,left:this.mouseX,top:this.mouseY,right:this.realWidth-this.mouseX,bottom:this.realHeight-this.mouseY,percentLeft:Math.round(this.mouseX/this.realWidth*100)+"%",percentTop:Math.round(this.mouseY/this.realHeight*100)+"%",percentRight:Math.round((this.realWidth-this.mouseX)/this.realWidth*100)+"%",percentBottom:Math.round((this.realHeight-this.mouseY)/this.realHeight*100)+"%"},t="zoomLevel:"+e.zoomLevel+", zoomLongitude:"+e.zoomLongitude+", zoomLatitude:"+e.zoomLatitude+"\n",t=t+("zoomX:"+e.zoomX+", zoomY:"+e.zoomY+"\n"),t=t+("latitude:"+e.latitude+", longitude:"+e.longitude+"\n"),t=t+("left:"+e.left+", top:"+e.top+"\n"),t=t+("right:"+e.right+", bottom:"+e.bottom+"\n"),t=t+("left:"+e.percentLeft+", top:"+e.percentTop+"\n"),t=t+("right:"+e.percentRight+", bottom:"+e.percentBottom+"\n");return e.str=t,this.fire(e),e},getXY:function(e,t,i){return void 0!==e&&(-1!=String(e).indexOf("%")?(e=Number(e.split("%").join("")),i&&(e=100-e),e=Number(e)*t/100):i&&(e=t-e)),e},getObjectById:function(e){var t=this.dataProvider;if(t.areas){var i=this.getObject(e,t.areas);if(i)return i}return(i=this.getObject(e,t.images))?i:(e=this.getObject(e,t.lines))?e:void 0},getObject:function(e,t){if(t){var i;for(i=0;i<t.length;i++){var a=t[i];if(a.id==e)return a;if(a.areas){var s=this.getObject(e,a.areas);if(s)return s}if(s=this.getObject(e,a.images))return s;if(a=this.getObject(e,a.lines))return a}}},parseData:function(){var e=this.dataProvider;this.processObject(e.areas,e,"area"),this.processObject(e.images,e,"image"),this.processObject(e.lines,e,"line")},processObject:function(t,i,a){if(t){var s;for(s=0;s<t.length;s++){var o=t[s];o.parentObject=i,"area"==a&&e.extend(o,new e.MapArea(this.theme),!0),"image"==a&&(o=e.extend(o,new e.MapImage(this.theme),!0)),"line"==a&&(o=e.extend(o,new e.MapLine(this.theme),!0)),t[s]=o,o.areas&&this.processObject(o.areas,o,"area"),o.images&&this.processObject(o.images,o,"image"),o.lines&&this.processObject(o.lines,o,"line")}}},positionChanged:function(){var e={type:"positionChanged",zoomX:this.zoomX(),zoomY:this.zoomY(),zoomLevel:this.zoomLevel(),chart:this};this.fire(e)},getX:function(e,t){return this.getXY(e,this.realWidth,t)},getY:function(e,t){return this.getXY(e,this.realHeight,t)},trim:function(e){if(e){var t;for(t=0;t<e.length;t++)if(-1===" \n\r	\f\u2028\u2029".indexOf(e.charAt(t))){e=e.substring(t);break}for(t=e.length-1;t>=0;t--)if(-1===" \n\r	\f\u2028\u2029".indexOf(e.charAt(t))){e=e.substring(0,t+1);break}return-1===" \n\r	\f\u2028\u2029".indexOf(e.charAt(0))?e:""}},destroy:function(){e.AmMap.base.destroy.call(this)},x2c:function(e){var t=this.dataProvider.leftLongitude;return Math.round(this.unscaledMapWidth*(e-t)/(this.dataProvider.rightLongitude-t)*100)/100},y2c:function(e){var t=this.dataProvider.topLatitude;return Math.round(this.unscaledMapHeight*(e-t)/(this.dataProvider.bottomLatitude-t)*100)/100},normalize:function(t){if(!t.pathsArray){var i;if(t.normalized)i=t.normalized;else{var a=e.normalizePath(t.node);i=t.node.getAttribute("d"),t.normalized=i,a.maxX>this.maxMapX&&(this.maxMapX=a.maxX),a.minX<this.minMapX&&(this.minMapX=a.minX),a.maxY>this.maxMapY&&(this.maxMapY=a.maxY),a.minY<this.minMapY&&(this.minMapY=a.minY)}t.node.setAttribute("d",i)}},redraw:function(e){var t=e.normalized,t=t.split(" Z").join(""),t=t.split("M");e.pathsArray=[];for(var i=0;i<t.length;i++){var a=t[i];if(a){for(var a=a.split("L"),s=[],o=0;o<a.length;o++)if(a[o]){var n=a[o].split(" "),n=this.xyToCoordinates(Number(n[1]),Number(n[2]),this.dpProjectionFunction,this.sourceMapWidth,this.sourceMapHeight);s.push([n.longitude,n.latitude])}e.pathsArray.push(s)}}for(t="",i=0;i<e.pathsArray.length;i++)t+=this.redrawArea(e.pathsArray[i]);e.node.setAttribute("d",t),e.path=t},redrawArea:function(t){for(var i=!1,a="",s=0;s<t.length;s++){var o=t[s][0],n=t[s][1],r=e.degreesToRadians(t[s][0]),l=e.degreesToRadians(t[s][1]),l=this.projectionFunction(r,l),r=e.roundTo(this.x2c(e.radiansToDegrees(l[0])),3),l=e.roundTo(this.y2c(e.radiansToDegrees(l[1])),3);r<this.minMapXX&&(this.minMapXX=r,this.leftLongLat={longitude:o,latitude:n}),r>this.maxMapXX&&(this.maxMapXX=r,this.rightLongLat={longitude:o,latitude:n}),l<this.minMapYY&&(this.minMapYY=l,this.topLongLat={longitude:o,latitude:n}),l>this.maxMapYY&&(this.maxMapYY=l,this.bottomLongLat={longitude:o,latitude:n}),i?a+=" L ":(a+=" M ",i=!0),a+=r+" "+l}return a+" Z "},normalizeMap:function(){var t=e.degreesToRadians(this.dataProvider.leftLongitude),i=e.degreesToRadians(this.dataProvider.rightLongitude),a=e.degreesToRadians(this.dataProvider.topLatitude),s=e.degreesToRadians(this.dataProvider.bottomLatitude),o=t+(i-t)/2,n=a+(s-a)/2,r=this.dpProjectionFunction(o,a)[1],l=this.dpProjectionFunction(o,s)[1],c=this.dpProjectionFunction(t,n)[0],d=this.dpProjectionFunction(i,n)[0],a=e.equirectangular(o,a),s=e.equirectangular(o,s),r=(a[1]-s[1])/(r-l),t=e.equirectangular(t,n),i=e.equirectangular(i,n),c=(t[0]-i[0])/(c-d);for(this.minMapX=1/0,this.maxMapX=-(1/0),this.minMapY=1/0,this.maxMapY=-(1/0),d=0;d<this.svgAreas.length;d++)this.normalize(this.svgAreas[d]);if(this.dataProvider.wrappedLongitudes)for(d=0;d<this.svgAreas.length;d++)this.svgAreas[d].translate(-this.minMapX,-this.minMapY);this.sourceMapHeight=Math.abs(this.maxMapY-this.minMapY),this.sourceMapWidth=Math.abs(this.maxMapX-this.minMapX),this.unscaledMapWidth=this.sourceMapWidth*c,this.unscaledMapHeight=this.sourceMapHeight*r,this.diffY=this.diffX=0},fixMapPosition:function(){var t=e.degreesToRadians(this.dataProvider.leftLongitude),i=e.degreesToRadians(this.dataProvider.rightLongitude),a=e.degreesToRadians(this.dataProvider.topLatitude),s=e.degreesToRadians(this.dataProvider.bottomLatitude),o=t+(i-t)/2,n=a+(s-a)/2,r=this.dpProjectionFunction(o,a)[1],l=this.dpProjectionFunction(o,s)[1],c=this.dpProjectionFunction(t,n)[0],d=this.dpProjectionFunction(i,n)[0];for(this.sourceMapHeight=this.mapHeight/this.mapScale,this.sourceMapWidth=this.mapWidth/this.mapScale,this.unscaledMapWidth=(t-i)/(c-d)*this.sourceMapWidth,this.unscaledMapHeight=(a-s)/(r-l)*this.sourceMapHeight,i=this.coordinatesToXY(e.radiansToDegrees(o),e.radiansToDegrees(a)),t=this.coordinatesToXY(e.radiansToDegrees(t),e.radiansToDegrees(n)),a=n=1/0,s=0;s<this.svgAreas.length;s++)o=this.svgAreas[s].getBBox(),o.y<n&&(n=o.y),o.x<a&&(a=o.x);for(this.diffY=i.y/this.mapScale-n,this.diffX=t.x/this.mapScale-a,s=0;s<this.svgAreas.length;s++)this.svgAreas[s].translate(this.diffX,this.diffY)},changeProjection:function(){this.minMapXX=1/0,this.maxMapXX=-(1/0),this.minMapYY=1/0,this.maxMapYY=-(1/0),this.projectionChanged=!1;for(var e=0;e<this.svgAreas.length;e++)this.redraw(this.svgAreas[e]);this.projectionChanged=!0,this.resizeMap()},coordinatesToXY:function(t,i){var a,s;return a=!1,this.dataProvider&&(a=this.dataProvider.wrappedLongitudes)&&(t=this.recalcLongitude(t)),this.projectionFunction?(s=this.projectionFunction(e.degreesToRadians(t),e.degreesToRadians(i)),a=this.mapScale*e.roundTo(this.x2c(e.radiansToDegrees(s[0])),3),s=this.mapScale*e.roundTo(this.y2c(e.radiansToDegrees(s[1])),3)):(a=this.longitudeToCoordinate(t),s=this.latitudeToCoordinate(i)),{x:a,y:s}},coordinatesToStageXY:function(e,t){var i=this.coordinatesToXY(e,t),a=i.x*this.zoomLevel()+this.mapContainer.x,i=i.y*this.zoomLevel()+this.mapContainer.y;return{x:a,y:i}},stageXYToCoordinates:function(e,t){var i=this.mapSet.getBBox(),a=(e-this.mapContainer.x)/this.zoomLevel()-i.x*this.mapScale,i=(t-this.mapContainer.y)/this.zoomLevel()-i.y*this.mapScale;return this.xyToCoordinates(a,i)},xyToCoordinates:function(t,i,a,s,o){var n;if(isNaN(s)&&(s=this.mapWidth),isNaN(o)&&(o=this.mapHeight),a||(a=this.projectionFunction),n=a.invert){var r=this.dataProvider.leftLongitude,l=this.dataProvider.rightLongitude,c=this.dataProvider.topLatitude,d=this.dataProvider.bottomLatitude,h=r+(l-r)/2,u=c+(d-c)/2,c=e.radiansToDegrees(a(e.degreesToRadians(h),e.degreesToRadians(c))[1]),d=e.radiansToDegrees(a(e.degreesToRadians(h),e.degreesToRadians(d))[1]),r=e.radiansToDegrees(a(e.degreesToRadians(r),e.degreesToRadians(u))[0]),l=e.radiansToDegrees(a(e.degreesToRadians(l),e.degreesToRadians(u))[0]);this.projectionChanged&&(c=e.radiansToDegrees(a(e.degreesToRadians(this.topLongLat.longitude),e.degreesToRadians(this.topLongLat.latitude))[1]),d=e.radiansToDegrees(a(e.degreesToRadians(this.bottomLongLat.longitude),e.degreesToRadians(this.bottomLongLat.latitude))[1]),r=e.radiansToDegrees(a(e.degreesToRadians(this.leftLongLat.longitude),e.degreesToRadians(this.leftLongLat.latitude))[0]),l=e.radiansToDegrees(a(e.degreesToRadians(this.rightLongLat.longitude),e.degreesToRadians(this.rightLongLat.latitude))[0])),t=e.degreesToRadians(t/s*(l-r)+r),i=e.degreesToRadians(i/o*(d-c)+c),i=n(t,i),n=e.radiansToDegrees(i[0]),i=e.radiansToDegrees(i[1])}else n=this.coordinateToLongitude(t),i=this.coordinateToLatitude(i);return{longitude:e.roundTo(n,4),latitude:e.roundTo(i,4)}},coordinateToLatitude:function(t,i){var a;if(void 0===i&&(i=this.mapHeight),this.mapSet){var s=this.dataProvider,o=s.bottomLatitude;a=s.topLatitude,"mercator"==s.projection?(s=this.mercatorLatitudeToCoordinate(o),a=this.mercatorLatitudeToCoordinate(a),
a=2*e.degreesToRadians(t*(s-a)/i+a),a=e.radiansToDegrees(2*Math.atan(Math.exp(a))-.5*Math.PI)):a=t/i*(o-a)+a}return Math.round(1e6*a)/1e6},coordinateToLongitude:function(e,t){var i,a=this.dataProvider;return void 0===t&&(t=this.mapWidth),this.mapSet&&(i=e/t*(a.rightLongitude-a.leftLongitude)+a.leftLongitude),Math.round(1e6*i)/1e6}})}(),function(){var e=window.AmCharts;e.ZoomControl=e.Class({construct:function(t){this.cname="ZoomControl",this.panStepSize=.1,this.zoomFactor=2,this.maxZoomLevel=64,this.minZoomLevel=1,this.panControlEnabled=!1,this.zoomControlEnabled=!0,this.buttonRollOverColor="#DADADA",this.buttonFillColor="#FFFFFF",this.buttonFillAlpha=1,this.buttonBorderColor="#000000",this.buttonBorderAlpha=.1,this.buttonIconAlpha=this.buttonBorderThickness=1,this.gridColor=this.buttonIconColor="#000000",this.homeIconFile="homeIcon.gif",this.gridBackgroundColor="#000000",this.draggerAlpha=this.gridAlpha=this.gridBackgroundAlpha=0,this.draggerSize=this.buttonSize=31,this.iconSize=11,this.homeButtonEnabled=!0,this.buttonCornerRadius=2,this.gridHeight=5,this.roundButtons=!0,this.top=this.left=10,e.applyTheme(this,t,this.cname)},init:function(t,i){var a=this;a.chart=t,e.remove(a.set);var s=i.set();e.setCN(t,s,"zoom-control");var o=a.buttonSize,n=a.zoomControlEnabled,r=a.panControlEnabled,l=a.buttonFillColor,c=a.buttonFillAlpha,d=a.buttonBorderThickness,h=a.buttonBorderColor,u=a.buttonBorderAlpha,p=a.buttonCornerRadius,m=a.buttonRollOverColor,g=a.gridHeight,v=a.zoomFactor,f=a.minZoomLevel,b=a.maxZoomLevel,y=a.buttonIconAlpha,x=a.buttonIconColor,w=a.roundButtons,L=t.svgIcons,S=t.getX(a.left),C=t.getY(a.top);isNaN(a.right)||(S=t.getX(a.right,!0),S=r?S-3*o:S-o),isNaN(a.bottom)||(C=t.getY(a.bottom,!0),n&&(C-=g+3*o),C=r?C-3*o:a.homeButtonEnabled?C-.5*o:C+o),s.translate(S,C),a.previousDY=NaN;var N,S=o/4-1;if(n){N=i.set(),e.setCN(t,N,"zoom-control-zoom"),s.push(N),a.set=s,a.zoomSet=N,g>5&&(n=e.rect(i,o+6,g+2*o+6,a.gridBackgroundColor,a.gridBackgroundAlpha,0,"#000000",0,4),e.setCN(t,n,"zoom-bg"),n.translate(-3,-3),n.mouseup(function(){a.handleBgUp()}).touchend(function(){a.handleBgUp()}),N.push(n));var A=o;w&&(A=o/1.5),a.draggerSize=A;var k=Math.log(b/f)/Math.log(v)+1;k>1e3&&(k=1e3);var T,n=g/k,M=i.set();for(M.translate((o-A)/2+1,1,NaN,!0),N.push(M),T=1;k>T;T++)C=o+T*n,C=e.line(i,[1,A-2],[C,C],a.gridColor,a.gridAlpha,1),e.setCN(t,C,"zoom-grid"),M.push(C);C=new e.SimpleButton,C.setDownHandler(a.draggerDown,a),C.setClickHandler(a.draggerUp,a),C.init(i,A,n,l,c,d,h,u,p,m),e.setCN(t,C.set,"zoom-dragger"),N.push(C.set),C.set.setAttr("opacity",a.draggerAlpha),a.dragger=C.set,a.previousY=NaN,C=new e.SimpleButton,L?(A=i.set(),k=e.line(i,[-S,S],[0,0],x,y,1),T=e.line(i,[0,0],[-S,S],x,y,1),A.push(k),A.push(T),C.svgIcon=A):C.setIcon(t.pathToImages+"plus.gif",a.iconSize),C.setClickHandler(t.zoomIn,t),C.init(i,o,o,l,c,d,h,u,p,m,y,x,w),e.setCN(t,C.set,"zoom-in"),N.push(C.set),C=new e.SimpleButton,L?C.svgIcon=e.line(i,[-S,S],[0,0],x,y,1):C.setIcon(t.pathToImages+"minus.gif",a.iconSize),C.setClickHandler(t.zoomOut,t),C.init(i,o,o,l,c,d,h,u,p,m,y,x,w),C.set.translate(0,g+o),e.setCN(t,C.set,"zoom-out"),N.push(C.set),g-=n,b=Math.log(b/100)/Math.log(v),a.realStepSize=g/(b-Math.log(f/100)/Math.log(v)),a.realGridHeight=g,a.stepMax=b}r&&(r=i.set(),e.setCN(t,r,"zoom-control-pan"),s.push(r),N&&N.translate(o,4*o),v=new e.SimpleButton,L?v.svgIcon=e.line(i,[S/5,-S+S/5,S/5],[-S,0,S],x,y,1):v.setIcon(t.pathToImages+"panLeft.gif",a.iconSize),v.setClickHandler(t.moveLeft,t),v.init(i,o,o,l,c,d,h,u,p,m,y,x,w),v.set.translate(0,o),e.setCN(t,v.set,"pan-left"),r.push(v.set),v=new e.SimpleButton,L?v.svgIcon=e.line(i,[-S/5,S-S/5,-S/5],[-S,0,S],x,y,1):v.setIcon(t.pathToImages+"panRight.gif",a.iconSize),v.setClickHandler(t.moveRight,t),v.init(i,o,o,l,c,d,h,u,p,m,y,x,w),v.set.translate(2*o,o),e.setCN(t,v.set,"pan-right"),r.push(v.set),v=new e.SimpleButton,L?v.svgIcon=e.line(i,[-S,0,S],[S/5,-S+S/5,S/5],x,y,1):v.setIcon(t.pathToImages+"panUp.gif",a.iconSize),v.setClickHandler(t.moveUp,t),v.init(i,o,o,l,c,d,h,u,p,m,y,x,w),v.set.translate(o,0),e.setCN(t,v.set,"pan-up"),r.push(v.set),v=new e.SimpleButton,L?v.svgIcon=e.line(i,[-S,0,S],[-S/5,S-S/5,-S/5],x,y,1):v.setIcon(t.pathToImages+"panDown.gif",a.iconSize),v.setClickHandler(t.moveDown,t),v.init(i,o,o,l,c,d,h,u,p,m,y,x,w),v.set.translate(o,2*o),e.setCN(t,v.set,"pan-down"),r.push(v.set),s.push(r)),a.homeButtonEnabled&&(r=new e.SimpleButton,L?r.svgIcon=e.polygon(i,[-S,0,S,S-1,S-1,2,2,-2,-2,-S+1,-S+1],[0,-S,0,0,S-1,S-1,2,2,S-1,S-1,0],x,y,1,x,y):r.setIcon(t.pathToImages+a.homeIconFile,a.iconSize),r.setClickHandler(t.goHome,t),a.panControlEnabled&&(u=c=0),r.init(i,o,o,l,c,d,h,u,p,m,y,x,w),a.panControlEnabled?r.set.translate(o,o):N&&N.translate(0,1.5*o),e.setCN(t,r.set,"pan-home"),s.push(r.set)),a.update()},draggerDown:function(){this.chart.stopDrag(),this.isDragging=!0},draggerUp:function(){this.isDragging=!1},handleBgUp:function(){var e=this.chart;e.zoomTo(100*Math.pow(this.zoomFactor,this.stepMax-(e.mouseY-this.zoomSet.y-this.set.y-this.buttonSize-this.realStepSize/2)/this.realStepSize))},update:function(){var t;t=this.zoomFactor;var i,a=this.realStepSize,s=this.stepMax,o=this.dragger,n=this.buttonSize,r=this.chart;r&&(this.isDragging?(r.stopDrag(),i=o.y+(r.mouseY-this.previousY),i=e.fitToBounds(i,n,this.realGridHeight+n),r.zoomTo(100*Math.pow(t,s-(i-n)/a),NaN,NaN,!0)):(t=Math.log(r.zoomLevel()/100)/Math.log(t),i=(s-t)*a+n),this.previousY=r.mouseY,this.previousDY!=i&&o&&(o.translate((this.buttonSize-this.draggerSize)/2,i),this.previousDY=i))}})}(),function(){var e=window.AmCharts;e.SimpleButton=e.Class({construct:function(){},init:function(t,i,a,s,o,n,r,l,c,d,h,u,p){var m=this;m.rollOverColor=d,m.color=s,m.container=t,d=t.set(),m.set=d,p?(i/=2,s=e.circle(t,i,s,o,n,r,l),s.translate(i,i)):s=e.rect(t,i,a,s,o,n,r,l,c),d.push(s),o=m.iconPath;var g;o&&(g=m.iconSize,n=(i-g)/2,p&&(n=(2*i-g)/2),g=t.image(o,n,(a-g)/2,g,g)),m.svgIcon&&(g=m.svgIcon,p?g.translate(i,i):g.translate(i/2,i/2)),d.setAttr("cursor","pointer"),g&&(d.push(g),g.setAttr("opacity",h),g.node.style.pointerEvents="none"),s.mousedown(function(){m.handleDown()}).touchstart(function(){m.handleDown()}).mouseup(function(){m.handleUp()}).touchend(function(){m.handleUp()}).mouseover(function(){m.handleOver()}).mouseout(function(){m.handleOut()}),m.bg=s},setIcon:function(e,t){this.iconPath=e,this.iconSize=t},setClickHandler:function(e,t){this.clickHandler=e,this.scope=t},setDownHandler:function(e,t){this.downHandler=e,this.scope=t},handleUp:function(){var e=this.clickHandler;e&&e.call(this.scope)},handleDown:function(){var e=this.downHandler;e&&e.call(this.scope)},handleOver:function(){this.container.chart.skipClick=!0,this.bg.setAttr("fill",this.rollOverColor)},handleOut:function(){this.container.chart.skipClick=!1,this.bg.setAttr("fill",this.color)}})}(),function(){var e=window.AmCharts;e.SmallMap=e.Class({construct:function(t){this.cname="SmallMap",this.mapColor="#e6e6e6",this.rectangleColor="#FFFFFF",this.top=this.right=10,this.minimizeButtonWidth=23,this.backgroundColor="#9A9A9A",this.backgroundAlpha=1,this.borderColor="#FFFFFF",this.iconColor="#000000",this.borderThickness=3,this.borderAlpha=1,this.size=.2,this.enabled=!0,e.applyTheme(this,t,this.cname)},init:function(t,i){var a=this;if(a.enabled){a.chart=t,a.container=i,a.width=t.realWidth*a.size,a.height=t.realHeight*a.size,e.remove(a.mapSet),e.remove(a.allSet),e.remove(a.set);var s=i.set();a.set=s,e.setCN(t,s,"small-map");var o=i.set();a.allSet=o,s.push(o),a.buildSVGMap();var n=a.borderThickness,r=a.borderColor,l=e.rect(i,a.width+n,a.height+n,a.backgroundColor,a.backgroundAlpha,n,r,a.borderAlpha);e.setCN(t,l,"small-map-bg"),l.translate(-n/2,-n/2),o.push(l),l.toBack();var c,d,l=a.minimizeButtonWidth,h=new e.SimpleButton,u=l/2;t.svgIcons?h.svgIcon=e.line(i,[-u/2,0,u/2],[-u/4,u/4,-u/4],a.iconColor,1,1):h.setIcon(t.pathToImages+"arrowDown.gif",l),h.setClickHandler(a.minimize,a),h.init(i,l,l,r,1,1,r,1),e.setCN(t,h.set,"small-map-down"),h=h.set,a.downButtonSet=h,s.push(h);var p=new e.SimpleButton;t.svgIcons?p.svgIcon=e.line(i,[-u/2,0,u/2],[u/4,-u/4,u/4],a.iconColor,1,1):p.setIcon(t.pathToImages+"arrowUp.gif",l),p.setClickHandler(a.maximize,a),p.init(i,l,l,r,1,1,r,1),e.setCN(t,p.set,"small-map-up"),r=p.set,a.upButtonSet=r,r.hide(),s.push(r);var m,g;isNaN(a.top)||(c=t.getY(a.top)+n,g=0),isNaN(a.bottom)||(c=t.getY(a.bottom,!0)-a.height-n,g=a.height-l+n/2),isNaN(a.left)||(d=t.getX(a.left)+n,m=-n/2),isNaN(a.right)||(d=t.getX(a.right,!0)-a.width-n,m=a.width-l+n/2),n=i.set(),n.clipRect(1,1,a.width,a.height),o.push(n),a.rectangleC=n,s.translate(d,c),h.translate(m,g),r.translate(m,g),o.mouseup(function(){a.handleMouseUp()}),a.drawRectangle()}else e.remove(a.allSet),e.remove(a.downButtonSet),e.remove(a.upButtonSet)},minimize:function(){this.downButtonSet.hide(),this.upButtonSet.show(),this.allSet.hide()},maximize:function(){this.downButtonSet.show(),this.upButtonSet.hide(),this.allSet.show()},buildSVGMap:function(){var t=this.chart,i={fill:this.mapColor,stroke:this.mapColor,"stroke-opacity":1},a=this.container,s=a.set();e.setCN(t,s,"small-map-image");var o;for(o=0;o<t.svgAreas.length;o++){var n=a.path(t.svgAreas[o].path).attr(i);s.push(n)}this.allSet.push(s),i=s.getBBox(),a=this.size*t.mapScale,o=-i.x*a;var n=-i.y*a,r=0,l=0;t.centerMap&&(r=(this.width-i.width*a)/2,l=(this.height-i.height*a)/2),this.mapWidth=i.width*a,this.mapHeight=i.height*a,o+=r,n+=l,this.dx=r,this.dy=l,s.translate(o,n,a),this.mapSet=s,this.mapX=o,this.mapY=n},update:function(){var e=this.chart;if(e){var t=e.zoomLevel(),i=this.width,a=this.height,s=i/(e.realWidth*t),o=e.mapContainer.getBBox(),i=i/t,a=a/t,n=this.rectangle;n.translate(-(e.mapContainer.x+o.x*t)*s+this.dx,-(e.mapContainer.y+o.y*t)*s+this.dy),i>0&&a>0&&(n.setAttr("width",Math.ceil(i+1)),n.setAttr("height",Math.ceil(a+1))),this.rWidth=i,this.rHeight=a}},drawRectangle:function(){var t=this.rectangle;e.remove(t),t=e.rect(this.container,10,10,"#000",0,1,this.rectangleColor,1),e.setCN(this.chart,t,"small-map-rectangle"),this.rectangleC.push(t),this.rectangle=t},handleMouseUp:function(){var e=this.chart,t=e.zoomLevel();e.zoomToMapXY(t,(e.mouseX-this.set.x-this.mapX)/this.size+e.diffX*e.mapScale,(e.mouseY-this.set.y-this.mapY)/this.size+e.diffY*e.mapScale)}})}(),function(){var e=window.AmCharts;e.AreasProcessor=e.Class({construct:function(e){this.chart=e},process:function(e){this.updateAllAreas(),this.allObjects=[],e=e.areas;var t=this.chart;t.outlines=[];var i,a,s=e.length,o=0,n=!1,r=!1,l=0;for(i=0;s>i;i++)a=e[i],a=a.value,isNaN(a)||((!1===n||a>n)&&(n=a),(!1===r||r>a)&&(r=a),o+=Math.abs(a),l++);for(this.minValue=r,this.maxValue=n,isNaN(t.minValue)||(this.minValue=t.minValue),isNaN(t.maxValue)||(this.maxValue=t.maxValue),t.maxValueReal=n,t.minValueReal=r,i=0;s>i;i++)a=e[i],isNaN(a.value)?a.percents=void 0:(a.percents=(a.value-r)/o*100,r==n&&(a.percents=100));for(i=0;s>i;i++)a=e[i],this.createArea(a);t.outlinesToFront()},updateAllAreas:function(){var t,i=this.chart,a=i.areasSettings,s=a.unlistedAreasColor,o=a.unlistedAreasAlpha,n=a.unlistedAreasOutlineColor,r=a.unlistedAreasOutlineAlpha,l=i.svgAreas,c=i.dataProvider,d=c.areas,h={};for(t=0;t<d.length;t++)h[d[t].id]=d[t];for(t=0;t<l.length;t++){if(d=l[t],a.preserveOriginalAttributes){if(d.customAttr)for(var u in d.customAttr)d.setAttr(u,d.customAttr[u])}else{void 0!=s&&d.setAttr("fill",s),isNaN(o)||d.setAttr("fill-opacity",o),void 0!=n&&d.setAttr("stroke",n),isNaN(r)||d.setAttr("stroke-opacity",r);var p=a.outlineThickness;a.adjustOutlineThickness&&(p=p/i.zoomLevel()/i.mapScale),d.setAttr("stroke-width",p)}e.setCN(i,d,"map-area-unlisted"),c.getAreasFromMap&&!h[d.id]&&(p=new e.MapArea(i.theme),p.parentObject=c,p.id=d.id,p.outline=d.outline,c.areas.push(p))}},createArea:function(t){var i=this.chart,a=i.svgAreasById[t.id],s=i.areasSettings;if(a&&a.className){var o=i.areasClasses[a.className];o&&(s=e.processObject(o,e.AreasSettings,i.theme))}var n=s.color,r=s.alpha,l=s.outlineThickness,c=s.rollOverColor,d=s.selectedColor,h=s.rollOverAlpha,u=s.rollOverBrightness,p=s.outlineColor,m=s.outlineAlpha,g=s.balloonText,v=s.selectable,f=s.pattern,b=s.rollOverOutlineColor,y=s.bringForwardOnHover,x=s.preserveOriginalAttributes;this.allObjects.push(t),t.chart=i,t.baseSettings=s,t.autoZoomReal=void 0==t.autoZoom?s.autoZoom:t.autoZoom,o=t.color,void 0==o&&(o=n);var w=t.alpha;if(isNaN(w)&&(w=r),r=t.rollOverAlpha,isNaN(r)&&(r=h),isNaN(r)&&(r=w),h=t.rollOverColor,void 0==h&&(h=c),c=t.pattern,void 0==c&&(c=f),f=t.selectedColor,void 0==f&&(f=d),d=t.balloonText,void 0===d&&(d=g),void 0==s.colorSolid||isNaN(t.value)||(g=Math.floor((t.value-this.minValue)/((this.maxValue-this.minValue)/i.colorSteps)),g==i.colorSteps&&g--,g*=1/(i.colorSteps-1),this.maxValue==this.minValue&&(g=1),t.colorReal=e.getColorFade(o,s.colorSolid,g)),void 0!=t.color&&(t.colorReal=t.color),void 0==t.selectable&&(t.selectable=v),void 0==t.colorReal&&(t.colorReal=n),n=t.outlineColor,void 0==n&&(n=p),p=t.outlineAlpha,isNaN(p)&&(p=m),m=t.outlineThickness,isNaN(m)&&(m=l),l=t.rollOverOutlineColor,void 0==l&&(l=b),b=t.rollOverBrightness,void 0==b&&(b=u),void 0==t.bringForwardOnHover&&(t.bringForwardOnHover=y),void 0==t.preserveOriginalAttributes&&(t.preserveOriginalAttributes=x),isNaN(s.selectedBrightness)||(f=e.adjustLuminosity(t.colorReal,s.selectedBrightness/100)),t.alphaReal=w,t.rollOverColorReal=h,t.rollOverAlphaReal=r,t.balloonTextReal=d,t.selectedColorReal=f,t.outlineColorReal=n,t.outlineAlphaReal=p,t.rollOverOutlineColorReal=l,t.outlineThicknessReal=m,t.patternReal=c,t.rollOverBrightnessReal=b,t.accessibleLabel||(t.accessibleLabel=s.accessibleLabel),e.processDescriptionWindow(s,t),a&&(u=a.area,y=a.title,t.enTitle=a.title,y&&!t.title&&(t.title=y),(a=i.language)?(y=e.mapTranslations)&&(a=y[a])&&a[t.enTitle]&&(t.titleTr=a[t.enTitle]):t.titleTr=void 0,u)){a=t.tabIndex,void 0===a&&(a=s.tabIndex),void 0!==a&&u.setAttr("tabindex",a),t.displayObject=u,t.outline&&(w=0,t.alphaReal=0,t.rollOverAlphaReal=0,t.mouseEnabled=!1,i.outlines.push(u),u.node.setAttribute("pointer-events","none")),t.mouseEnabled&&i.addObjectEventListeners(u,t);var L;void 0!=o&&(L=o),void 0!=t.colorReal&&(L=t.showAsSelected||i.selectedObject==t?t.selectedColorReal:t.colorReal),u.node.setAttribute("class",""),e.setCN(i,u,"map-area"),e.setCN(i,u,"map-area-"+u.id),s.adjustOutlineThickness&&(m=m/i.zoomLevel()/i.mapScale),t.preserveOriginalAttributes||(u.setAttr("fill",L),u.setAttr("stroke",n),u.setAttr("stroke-opacity",p),u.setAttr("stroke-width",m),u.setAttr("fill-opacity",w)),i.makeObjectAccessible(t),c&&u.pattern(c,i.mapScale,i.path),t.hidden&&u.hide()}}})}(),function(){var e=window.AmCharts;e.AreasSettings=e.Class({construct:function(t){this.cname="AreasSettings",this.alpha=1,this.autoZoom=!1,this.balloonText="[[title]]",this.color="#FFCC00",this.colorSolid="#990000",this.unlistedAreasAlpha=1,this.unlistedAreasColor="#DDDDDD",this.outlineColor="#FFFFFF",this.outlineThickness=this.outlineAlpha=1,this.selectedColor=this.rollOverOutlineColor="#CC0000",this.unlistedAreasOutlineColor="#FFFFFF",this.unlistedAreasOutlineAlpha=1,this.descriptionWindowWidth=250,this.bringForwardOnHover=this.adjustOutlineThickness=!0,this.accessibleLabel="[[title]] [[value]] [[description]]",e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.ImagesProcessor=e.Class({construct:function(e){this.chart=e,this.reset()},process:function(e){var t,i=e.images;for(t=0;t<i.length;t++){var a=i[t];this.createImage(a,t),a.parentArray=i}this.counter=t,e.parentObject&&e.remainVisible&&this.process(e.parentObject)},createImage:function(t,i){t=e.processObject(t,e.MapImage),t.arrays=[],isNaN(i)&&(this.counter++,i=this.counter);var a=this.chart,s=a.container,o=a.mapImagesContainer,n=a.stageImagesContainer,r=a.imagesSettings;t.remove&&t.remove();var l=r.color,c=r.alpha,d=r.rollOverColor,h=r.rollOverOutlineColor,u=r.selectedColor,p=r.balloonText,m=r.outlineColor,g=r.outlineAlpha,v=r.outlineThickness,f=r.selectedScale,b=r.rollOverScale,y=r.selectable,x=r.labelPosition,w=r.labelColor,L=r.labelFontSize,S=r.bringForwardOnHover,C=r.labelRollOverColor,N=r.rollOverBrightness,A=r.selectedLabelColor;t.index=i,t.chart=a,t.baseSettings=a.imagesSettings;var k=s.set();t.displayObject=k;var T=t.color;void 0==T&&(T=l),l=t.alpha,isNaN(l)&&(l=c),void 0==t.bringForwardOnHover&&(t.bringForwardOnHover=S),c=t.outlineAlpha,isNaN(c)&&(c=g),g=t.rollOverColor,void 0==g&&(g=d),d=t.selectedColor,void 0==d&&(d=u),u=t.balloonText,void 0===u&&(u=p),p=t.outlineColor,void 0==p&&(p=m),t.outlineColorReal=p,m=t.outlineThickness,isNaN(m)&&(m=v),(v=t.labelPosition)||(v=x),x=t.labelColor,void 0==x&&(x=w),w=t.labelRollOverColor,void 0==w&&(w=C),C=t.selectedLabelColor,void 0==C&&(C=A),A=t.labelFontSize,isNaN(A)&&(A=L),L=t.selectedScale,isNaN(L)&&(L=f),f=t.rollOverScale,isNaN(f)&&(f=b),b=t.rollOverBrightness,void 0==b&&(b=N),void 0==t.selectable&&(t.selectable=y),t.colorReal=T,isNaN(r.selectedBrightness)||(d=e.adjustLuminosity(t.colorReal,r.selectedBrightness/100)),t.alphaReal=l,t.rollOverColorReal=g,t.balloonTextReal=u,t.selectedColorReal=d,t.labelColorReal=x,t.labelRollOverColorReal=w,t.selectedLabelColorReal=C,t.labelFontSizeReal=A,t.labelPositionReal=v,t.selectedScaleReal=L,t.rollOverScaleReal=f,t.rollOverOutlineColorReal=h,t.rollOverBrightnessReal=b,t.accessibleLabel||(t.accessibleLabel=r.accessibleLabel),e.processDescriptionWindow(r,t),t.centeredReal=void 0==t.centered?r.centered:t.centered,h=t.type,b=t.imageURL,f=t.svgPath,L=t.width,A=t.height,y=t.scale,isNaN(t.percentWidth)||(L=t.percentWidth/100*a.realWidth),isNaN(t.percentHeight)||(A=t.percentHeight/100*a.realHeight);var M;return b||h||f||(h="circle",L=1,c=l=0),g=N=0,r=t.selectedColorReal,h?(isNaN(L)&&(L=10),isNaN(A)&&(A=10),"kilometers"==t.widthAndHeightUnits&&(L=a.kilometersToPixels(t.width),A=a.kilometersToPixels(t.height)),"miles"==t.widthAndHeightUnits&&(L=a.milesToPixels(t.width),A=a.milesToPixels(t.height)),("circle"==h||"bubble"==h)&&(A=L),M=this.createPredefinedImage(T,p,m,h,L,A),g=N=0,t.centeredReal?(isNaN(t.right)||(N=L*y),isNaN(t.bottom)||(g=A*y)):(N=L*y/2,g=A*y/2),M.translate(N,g,y,!0)):b?(isNaN(L)&&(L=10),isNaN(A)&&(A=10),M=s.image(b,0,0,L,A),M.node.setAttribute("preserveAspectRatio","none"),M.setAttr("opacity",l),t.centeredReal&&(N=isNaN(t.right)?-L/2:L/2,g=isNaN(t.bottom)?-A/2:A/2,M.translate(N,g,NaN,!0))):f&&(M=s.path(f),b=M.getBBox(),t.centeredReal?(N=-b.x*y-b.width*y/2,isNaN(t.right)||(N=-N),g=-b.y*y-b.height*y/2,isNaN(t.bottom)||(g=-g)):N=g=0,M.translate(N,g,y,!0),M.x=N,M.y=g),M&&(k.push(M),t.image=M,M.setAttr("stroke-opacity",c),M.setAttr("stroke-width",m),M.setAttr("stroke",p),M.setAttr("fill-opacity",l),"bubble"!=h&&M.setAttr("fill",T),e.setCN(a,M,"map-image"),void 0!=t.id&&e.setCN(a,M,"map-image-"+t.id)),T=t.labelColorReal,!t.showAsSelected&&a.selectedObject!=t||void 0==r||(M.setAttr("fill",r),T=t.selectedLabelColorReal),M=null,void 0!==t.label&&(M=e.text(s,t.label,T,a.fontFamily,t.labelFontSizeReal,t.labelAlign),e.setCN(a,M,"map-image-label"),void 0!==t.id&&e.setCN(a,M,"map-image-label-"+t.id),T=t.labelBackgroundAlpha,(l=t.labelBackgroundColor)&&T>0&&(c=M.getBBox(),s=e.rect(s,c.width+16,c.height+10,l,T),e.setCN(a,s,"map-image-label-background"),void 0!=t.id&&e.setCN(a,s,"map-image-label-background-"+t.id),k.push(s),t.labelBG=s),t.imageLabel=M,k.push(M),e.setCN(a,k,"map-image-container"),void 0!=t.id&&e.setCN(a,k,"map-image-container-"+t.id),this.labelsToReposition.push(t),t.arrays.push({arr:this.labelsToReposition,el:t})),s=isNaN(t.latitude)||isNaN(t.longitude)?!0:!1,t.lineId&&(M=this.chart.getObjectById(t.lineId))&&0<M.longitudes.length&&(s=!1),s?n.push(k):o.push(k),k&&(k.rotation=t.rotation,isNaN(t.rotation)||k.rotate(t.rotation),t.arrays.push({arr:this.allSvgObjects,el:k}),this.allSvgObjects.push(k)),this.allObjects.push(t),a.makeObjectAccessible(t),o=t.tabIndex,void 0===o&&(o=a.imagesSettings.tabIndex),void 0!==o&&k.setAttr("tabindex",o),t.arrays.push({arr:this.allObjects,el:t}),isNaN(t.longitude)||isNaN(t.latitude)||!t.fixedSize||(t.objToResize={image:k,mapImage:t,scale:1},this.objectsToResize.push(t.objToResize),t.arrays.push({arr:this.objectsToResize,el:t.objToResize})),this.updateSizeAndPosition(t),t.mouseEnabled&&a.addObjectEventListeners(k,t),t.hidden&&k.hide(),e.removeFromArray(a.updatableImages,t),t.animateAlongLine&&(a.updatableImages.push(t),t.delayAnimateAlong()),t},updateSizeAndPosition:function(t){var i,a=this.chart,s=t.displayObject,o=a.getX(t.left),n=a.getY(t.top),r=t.image.getBBox();isNaN(t.right)||(o=a.getX(t.right,!0)-r.width*t.scale),isNaN(t.bottom)||(n=a.getY(t.bottom,!0)-r.height*t.scale);var l,c,d=t.longitude,h=t.latitude,u=t.positionOnLine,r=t.imageLabel,p=this.chart.zoomLevel();if(t.lineId&&(t.line=this.chart.getObjectById(t.lineId)),t.line&&t.line.getCoordinates){t.line.chart=a;var m=t.line.getCoordinates(u,t.lineSegment);m&&(d=a.coordinateToLongitude(m.x),h=a.coordinateToLatitude(m.y),l=m.x,c=m.y,t.animateAngle&&(i=e.radiansToDegrees(m.angle)))}isNaN(i)||s.rotate(i+t.extraAngle),isNaN(o)||isNaN(n)?isNaN(h)||isNaN(d)||(n=a.coordinatesToXY(d,h),o=n.x,n=n.y,isNaN(l)||(o=l),isNaN(c)||(n=c),t.fixedSize?(l=t.positionScale,isNaN(l)?l=0:(--l,l*=1-2*Math.abs(u-.5)),(u=t.objectToResize)&&(u.scale=1+l),s.translate(o,n,1/p+l,!0)):s.translate(o,n,NaN,!0)):s.translate(o,n,NaN,!0),this.positionLabel(r,t,t.labelPositionReal)},positionLabel:function(e,t,i){if(e){var a=t.image,s=0,o=0,n=0,r=0;a&&(r=a.getBBox(),o=a.y+r.y,s=a.x+r.x,n=r.width,r=r.height,t.svgPath&&(n*=t.scale,r*=t.scale));var a=e.getBBox(),l=a.width,c=a.height;"right"==i&&(s+=n+l/2+5,o+=r/2-2),"left"==i&&(s+=-l/2-5,o+=r/2-2),"top"==i&&(o-=c/2+3,s+=n/2),"bottom"==i&&(o+=r+c/2,s+=n/2),"middle"==i&&(s+=n/2,o+=r/2),e.translate(s+t.labelShiftX,o+t.labelShiftY,NaN,!0),e=t.labelFontSizeReal,t.labelBG&&t.labelBG.translate(s-a.width/2+t.labelShiftX-9,o-e/2+t.labelShiftY-4,NaN,!0)}},createPredefinedImage:function(t,i,a,s,o,n){var r,l=this.chart.container;switch(s){case"circle":r=e.circle(l,o/2,t,1,a,i,1);break;case"rectangle":r=e.polygon(l,[-o/2,o/2,o/2,-o/2],[n/2,n/2,-n/2,-n/2],t,1,a,i,1,0,!0);break;case"bubble":r=e.circle(l,o/2,t,1,a,i,1,!0);break;case"hexagon":o/=Math.sqrt(3),r=e.polygon(l,[.866*o,0*o,-.866*o,-.866*o,0*o,.866*o],[.5*o,1*o,.5*o,-.5*o,-1*o,-.5*o],t,1,a,i,1)}return r},reset:function(){this.objectsToResize=[],this.allSvgObjects=[],this.allObjects=[],this.allLabels=[],this.labelsToReposition=[]}})}(),function(){var e=window.AmCharts;e.ImagesSettings=e.Class({construct:function(t){this.cname="ImagesSettings",this.balloonText="[[title]]",this.alpha=1,this.borderAlpha=0,this.borderThickness=1,this.labelPosition="right",this.labelColor="#000000",this.labelFontSize=11,this.color="#000000",this.labelRollOverColor="#00CC00",this.centered=!0,this.rollOverScale=this.selectedScale=1,this.descriptionWindowWidth=250,this.bringForwardOnHover=!0,this.outlineColor="transparent",this.adjustAnimationSpeed=!1,this.baseAnimationDistance=500,this.pauseDuration=0,this.easingFunction=e.easeInOutQuad,this.animationDuration=3,this.positionScale=1,this.accessibleLabel="[[title]] [[description]]",e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.LinesProcessor=e.Class({construct:function(e){this.chart=e,this.reset()},process:function(e){var t,i=e.lines;for(t=0;t<i.length;t++){var a=i[t];this.createLine(a,t),a.parentArray=i}this.counter=t,e.parentObject&&e.remainVisible&&this.process(e.parentObject)},createLine:function(t,i){t=e.processObject(t,e.MapLine),isNaN(i)&&(this.counter++,i=this.counter),t.index=i,t.remove&&t.remove();var a=this.chart,s=a.linesSettings,o=this.objectsToResize,n=a.mapLinesContainer,r=a.stageLinesContainer,l=s.thickness,c=s.dashLength,d=s.arrow,h=s.arrowSize,u=s.arrowColor,p=s.arrowAlpha,m=s.color,g=s.alpha,v=s.rollOverColor,f=s.selectedColor,b=s.rollOverAlpha,y=s.balloonText,x=s.bringForwardOnHover,w=s.arc,L=s.rollOverBrightness,S=a.container;t.chart=a,t.baseSettings=s;var C=S.set();t.displayObject=C;var N=t.tabIndex;if(void 0===N&&(N=s.tabIndex),void 0!==N&&C.setAttr("tabindex",N),this.allSvgObjects.push(C),t.arrays.push({arr:this.allSvgObjects,el:C}),this.allObjects.push(t),t.arrays.push({arr:this.allObjects,el:t}),t.mouseEnabled&&a.addObjectEventListeners(C,t),t.remainVisible||a.selectedObject==t.parentObject){if(N=t.thickness,isNaN(N)&&(N=l),l=t.dashLength,isNaN(l)&&(l=c),c=t.color,void 0==c&&(c=m),m=t.alpha,isNaN(m)&&(m=g),g=t.rollOverAlpha,isNaN(g)&&(g=b),isNaN(g)&&(g=m),b=t.rollOverColor,void 0==b&&(b=v),v=t.selectedColor,void 0==v&&(v=f),f=t.balloonText,void 0===f&&(f=y),y=t.arc,isNaN(y)&&(y=w),w=t.arrow,(!w||"none"==w&&"none"!=d)&&(w=d),d=t.arrowColor,void 0==d&&(d=u),void 0==d&&(d=c),u=t.arrowAlpha,isNaN(u)&&(u=p),isNaN(u)&&(u=m),p=t.arrowSize,isNaN(p)&&(p=h),h=t.rollOverBrightness,void 0==h&&(h=L),t.colorReal=c,t.arrowColor=d,isNaN(s.selectedBrightness)||(v=e.adjustLuminosity(t.colorReal,s.selectedBrightness/100)),t.alphaReal=m,t.rollOverColorReal=b,t.rollOverAlphaReal=g,t.balloonTextReal=f,t.selectedColorReal=v,t.thicknessReal=N,t.rollOverBrightnessReal=h,t.accessibleLabel||(t.accessibleLabel=s.accessibleLabel),void 0===t.shiftArrow&&(t.shiftArrow=s.shiftArrow),void 0==t.bringForwardOnHover&&(t.bringForwardOnHover=x),e.processDescriptionWindow(s,t),x=this.processCoordinates(t.x,a.realWidth),L=this.processCoordinates(t.y,a.realHeight),h=t.longitudes,s=t.latitudes,g=h.length,g>0)for(x=[],L=[],b=0;g>b;b++)f=a.coordinatesToXY(h[b],s[b]),x.push(f.x),L.push(f.y);if(0<x.length){t.segments=x.length,e.dx=0,e.dy=0;var A,k,T,g=10*(1-Math.abs(y));if(g>=10&&(g=NaN),1>g&&(g=1),t.arcRadius=[],t.distances=[],h=a.mapContainer.scale,isNaN(g)){for(g=0;g<x.length-1;g++)k=Math.sqrt(Math.pow(x[g+1]-x[g],2)+Math.pow(L[g+1]-L[g],2)),t.distances[g]=k;g=e.line(S,x,L,c,1,N/h,l,!1,!1,!0),c=e.line(S,x,L,c,.001,5/h,l,!1,!1,!0),g.setAttr("stroke-linecap","round")}else{b=1,0>y&&(b=0),f={fill:"none",stroke:c,"stroke-opacity":1,"stroke-width":N/h,"fill-opacity":0,"stroke-linecap":"round"},void 0!==l&&l>0&&(f["stroke-dasharray"]=l);for(var l="",M=0;M<x.length-1;M++){var O=x[M],D=x[M+1],z=L[M],I=L[M+1];if(k=Math.sqrt(Math.pow(D-O,2)+Math.pow(I-z,2)),T=k/2*g,A=270+180*Math.acos(k/2/T)/Math.PI,isNaN(A)&&(A=270),D>O){var P=O,O=D,D=P,P=z,z=I,I=P;A=-A}y>0&&(A=-A),l+="M"+O+","+z+"A"+T+","+T+",0,0,"+b+","+D+","+I,t.arcRadius[M]=T,t.distances[M]=k}g=S.path(l).attr(f),c=S.path(l).attr({"fill-opacity":0,stroke:c,"stroke-width":5/h,"stroke-opacity":.001,fill:"none"})}if(e.setCN(a,g,"map-line"),void 0!=t.id&&e.setCN(a,g,"map-line-"+t.id),e.dx=.5,e.dy=.5,C.push(g),C.push(c),g.setAttr("opacity",m),"none"!=w){var R,B,F;("end"==w||"both"==w)&&(b=x[x.length-1],M=L[L.length-1],1<x.length?(f=x[x.length-2],R=L[L.length-2]):(f=b,R=M),R=180*Math.atan((M-R)/(b-f))/Math.PI,isNaN(A)||(R+=A),B=b,F=M,R=0>b-f?R-90:R+90),m=[-p/2-.5,-.5,p/2-.5],l=[p,-.5,p],t.shiftArrow&&"middle"!=w&&(l=[0,1.2*-p,0]),"both"==w&&(p=e.polygon(S,m,l,d,u,1,d,u,void 0,!0),C.push(p),p.translate(B,F,1/h,!0),isNaN(R)||p.rotate(R),e.setCN(a,g,"map-line-arrow"),void 0!=t.id&&e.setCN(a,g,"map-line-arrow-"+t.id),t.fixedSize&&o.push(p)),("start"==w||"both"==w)&&(p=x[0],F=L[0],1<x.length?(b=x[1],B=L[1]):(b=p,B=F),R=180*Math.atan((F-B)/(p-b))/Math.PI,isNaN(A)||(R-=A),B=p,R=0>p-b?R-90:R+90),"middle"==w&&(b=x[x.length-1],M=L[L.length-1],1<x.length?(f=x[x.length-2],R=L[L.length-2]):(f=b,R=M),B=f+(b-f)/2,F=R+(M-R)/2,R=180*Math.atan((M-R)/(b-f))/Math.PI,isNaN(A)||(A=k/2,T-=Math.sqrt(T*T-A*A),0>y&&(T=-T),A=Math.sin(R/180*Math.PI),-1==A&&(A=1),B-=A*T,F+=Math.cos(R/180*Math.PI)*T),R=0>b-f?R-90:R+90),p=e.polygon(S,m,l,d,u,1,d,u,void 0,!0),e.setCN(a,g,"map-line-arrow"),void 0!=t.id&&e.setCN(a,g,"map-line-arrow-"+t.id),C.push(p),p.translate(B,F,1/h,!0),isNaN(R)||p.rotate(R),t.fixedSize&&(o.push(p),t.arrays.push({arr:o,el:p})),t.arrowSvg=p}t.fixedSize&&g&&(o={line:g,thickness:N},this.linesToResize.push(o),t.arrays.push({arr:this.linesToResize,el:o}),o={line:c,thickness:5},this.linesToResize.push(o),t.arrays.push({arr:this.linesToResize,el:o})),t.lineSvg=g,t.showAsSelected&&!isNaN(v)&&g.setAttr("stroke",v),0<s.length?n.push(C):r.push(C),t.hidden&&C.hide(),a.makeObjectAccessible(t)}}},processCoordinates:function(e,t){var i,a=[];for(i=0;i<e.length;i++){var s=e[i],o=Number(s);isNaN(o)&&(o=Number(s.replace("%",""))*t/100),isNaN(o)||a.push(o)}return a},reset:function(){this.objectsToResize=[],this.allSvgObjects=[],this.allObjects=[],this.linesToResize=[]}})}(),function(){var e=window.AmCharts;e.LinesSettings=e.Class({construct:function(t){this.cname="LinesSettings",this.balloonText="[[title]]",this.thickness=1,this.dashLength=0,this.arrowSize=10,this.arrowAlpha=1,this.arrow="none",this.color="#990000",this.descriptionWindowWidth=250,this.bringForwardOnHover=!0,e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.MapObject=e.Class({construct:function(t){this.fixedSize=this.mouseEnabled=!0,this.images=[],this.lines=[],this.areas=[],this.remainVisible=!0,this.passZoomValuesToTarget=!1,this.objectType=this.cname,e.applyTheme(this,t,"MapObject"),this.arrays=[]},deleteObject:function(){if(this.remove(),this.parentArray&&e.removeFromArray(this.parentArray,this),this.arrays)for(var t=0;t<this.arrays.length;t++)e.removeFromArray(this.arrays[t].arr,this.arrays[t].el);this.arrays=[]}})}(),function(){var e=window.AmCharts;e.MapArea=e.Class({inherits:e.MapObject,construct:function(t){this.cname="MapArea",e.MapArea.base.construct.call(this,t),e.applyTheme(this,t,this.cname)},validate:function(){this.chart.areasProcessor.createArea(this)}})}(),function(){var e=window.AmCharts;e.MapLine=e.Class({inherits:e.MapObject,construct:function(t){this.cname="MapLine",this.longitudes=[],this.latitudes=[],this.x=[],this.y=[],this.segments=0,this.arrow="none",e.MapLine.base.construct.call(this,t),e.applyTheme(this,t,this.cname)},validate:function(){this.chart.linesProcessor.createLine(this)},remove:function(){var e=this.displayObject;e&&e.remove()},getCoordinates:function(t,i){if(isNaN(i)&&(i=0),isNaN(this.arc)||this.isValid||(this.isValid=!0,this.validate()),!isNaN(t)){var a,s,o,n,r,l;if(1<this.longitudes.length){s=this.chart.coordinatesToXY(this.longitudes[i],this.latitudes[i]);var c=this.chart.coordinatesToXY(this.longitudes[i+1],this.latitudes[i+1]);a=s.x,o=c.x,s=s.y,n=c.y}else 1<this.x.length&&(a=this.x[i],o=this.x[i+1],s=this.y[i],n=this.y[i+1]);c=Math.sqrt(Math.pow(o-a,2)+Math.pow(n-s,2)),o>a&&!isNaN(this.arc)&&0!==this.arc&&(t=1-t),r=a+(o-a)*t,l=s+(n-s)*t;var d=Math.atan2(n-s,o-a);if(!isNaN(this.arc)&&0!==this.arc&&this.arcRadius){var h=0;o>a&&(h=a,a=o,o=h,h=s,s=n,n=h,h=Math.PI),l=this.arcRadius[i],0>this.arc&&(c=-c),r=a+(o-a)/2+Math.sqrt(l*l-c/2*(c/2))*(s-n)/c;var u=s+(n-s)/2+Math.sqrt(l*l-c/2*(c/2))*(o-a)/c;a=180*Math.atan2(s-u,a-r)/Math.PI,o=180*Math.atan2(n-u,o-r)/Math.PI,o-a>180&&(o-=360),d=e.degreesToRadians(a+(o-a)*t),r+=l*Math.cos(d),l=u+l*Math.sin(d),d=0<this.arc?d+Math.PI/2:d-Math.PI/2,d+=h}return this.distance=c,{x:r,y:l,angle:d}}},fixToStage:function(){if(0<this.latitudes.length){this.y=[];for(var e=0;e<this.latitudes.length;e++){var t=this.chart.coordinatesToStageXY(this.longitudes[e],this.latitudes[e]);this.y.push(t.y),this.x.push(t.x)}this.latitudes=[],this.longitudes=[]}this.validate()},fixToMap:function(){if(0<this.y.length){this.latitudes=[];for(var e=0;e<this.y.length;e++){var t=this.chart.stageXYToCoordinates(this.x[e],this.y[e]);this.latitudes.push(t.latitude),this.longitudes.push(t.longitude)}this.y=[],this.x=[]}this.validate()}})}(),function(){var e=window.AmCharts;e.MapImage=e.Class({inherits:e.MapObject,construct:function(t){this.cname="MapImage",this.scale=1,this.widthAndHeightUnits="pixels",this.labelShiftY=this.labelShiftX=0,this.positionOnLine=.5,this.direction=1,this.lineSegment=this.extraAngle=0,this.animateAngle=!0,this.createEvents("animationStart","animationEnd"),e.MapImage.base.construct.call(this,t),e.applyTheme(this,t,this.cname),this.delayCounter=0},validate:function(){this.chart.imagesProcessor.createImage(this)},updatePosition:function(){this.chart.imagesProcessor.updateSizeAndPosition(this);
},remove:function(){var e=this.displayObject;e&&e.remove(),(e=this.imageLabel)&&e.remove()},animateTo:function(e,t,i,a){isNaN(i)||(this.animationDuration=i),a&&(this.easingFunction=a),this.finalX=e,this.finalY=t,isNaN(this.longitude)||(this.initialX=this.longitude),isNaN(this.left)||(this.initialX=this.left),isNaN(this.right)||(this.initialX=this.right),isNaN(this.latitude)||(this.initialY=this.latitude),isNaN(this.top)||(this.initialY=this.top),isNaN(this.bottom)||(this.initialY=this.bottom),this.animatingAlong=!1,this.animate()},animateAlong:function(e,t,i){1==this.positionOnLine&&this.flipDirection&&(this.direction=-1,this.extraAngle=180),isNaN(t)||(this.animationDuration=t),i&&(this.easingFunction=i),e&&(this.line=this.chart.getObjectById(e)),this.animateAlongLine=this.line,this.animatingAlong=!0,this.animate()},animate:function(){var t=this.chart.imagesSettings,i=this.animationDuration;isNaN(i)&&(i=t.animationDuration),this.totalFrames=i*e.updateRate,i=1,this.line&&t.adjustAnimationSpeed&&(this.line.distances&&(i=this.line.distances[this.lineSegment]*this.chart.zoomLevel(),i=Math.abs(i/t.baseAnimationDistance)),this.totalFrames=Math.round(i*this.totalFrames)),this.frame=0,this.fire({type:"animationStart",chart:this.chart,image:this,lineSegment:this.lineSegment,direction:this.direction})},update:function(){var e=this.totalFrames;if(this.frame++,this.delayCounter--,0===this.delayCounter&&this.animateAlong(),!(0<this.delayCounter))if(this.frame<=e){this.updatePosition();var t=this.chart.imagesSettings,i=this.easingFunction;i||(i=t.easingFunction),e=i(0,this.frame,0,1,e),-1==this.direction&&(e=1-e),this.animatingAlong?this.positionOnLine=e:(t=this.initialX+(this.finalX-this.initialX)*e,isNaN(this.longitude)||(this.longitude=t),isNaN(this.left)||(this.left=t),isNaN(this.right)||(this.right=t),e=this.initialY+(this.finalY-this.initialY)*e,isNaN(this.latitude)||(this.latitude=e),isNaN(this.top)||(this.top=e),isNaN(this.bottom)||(this.bottom=e))}else this.frame==e+1&&(this.fire({type:"animationEnd",chart:this.chart,image:this,lineSegment:this.lineSegment,direction:this.direction}),this.line&&this.animatingAlong&&(1==this.direction?this.lineSegment<this.line.segments-2?(this.lineSegment++,this.delayAnimateAlong(),this.positionOnLine=0):this.flipDirection?(this.direction=-1,this.extraAngle=180,this.delayAnimateAlong()):this.loop&&(this.delayAnimateAlong(),this.lineSegment=0):0<this.lineSegment?(this.lineSegment--,this.delayAnimateAlong(),this.positionOnLine=0):this.loop&&this.flipDirection?(this.direction=1,this.extraAngle=0,this.delayAnimateAlong()):this.loop&&this.delayAnimateAlong()))},delayAnimateAlong:function(){this.animateAlongLine&&(this.delayCounter=this.chart.imagesSettings.pauseDuration*e.updateRate)},fixToStage:function(){if(!isNaN(this.longitude)){var e=this.chart.coordinatesToStageXY(this.longitude,this.latitude);this.left=e.x,this.top=e.y,this.latitude=this.longitude=void 0}this.validate()},fixToMap:function(){if(!isNaN(this.left)){var e=this.chart.stageXYToCoordinates(this.left,this.top);this.longitude=e.longitude,this.latitude=e.latitude,this.top=this.left=void 0}this.validate()}})}(),function(){var e=window.AmCharts;e.degreesToRadians=function(e){return e/180*Math.PI},e.radiansToDegrees=function(e){return e/Math.PI*180},e.getColorFade=function(t,i,a){var s=e.hex2RGB(i);i=s[0];var o=s[1],s=s[2],n=e.hex2RGB(t);t=n[0];var r=n[1],n=n[2];return t+=Math.round((i-t)*a),r+=Math.round((o-r)*a),n+=Math.round((s-n)*a),"rgb("+t+","+r+","+n+")"},e.hex2RGB=function(e){return[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)]},e.processDescriptionWindow=function(e,t){isNaN(t.descriptionWindowX)&&(t.descriptionWindowX=e.descriptionWindowX),isNaN(t.descriptionWindowY)&&(t.descriptionWindowY=e.descriptionWindowY),isNaN(t.descriptionWindowLeft)&&(t.descriptionWindowLeft=e.descriptionWindowLeft),isNaN(t.descriptionWindowRight)&&(t.descriptionWindowRight=e.descriptionWindowRight),isNaN(t.descriptionWindowTop)&&(t.descriptionWindowTop=e.descriptionWindowTop),isNaN(t.descriptionWindowBottom)&&(t.descriptionWindowBottom=e.descriptionWindowBottom),isNaN(t.descriptionWindowWidth)&&(t.descriptionWindowWidth=e.descriptionWindowWidth),isNaN(t.descriptionWindowHeight)&&(t.descriptionWindowHeight=e.descriptionWindowHeight)},e.normalizePath=function(t){for(var i,a,s="",o=e.parsePath(t.getAttribute("d")),n=1/0,r=-(1/0),l=1/0,c=-(1/0),d=0;d<o.length;d++){var h=o[d],u=h.letter,p=h.x,h=h.y;"h"==u&&(u="L",p+=i,h=a),"H"==u&&(u="L",h=a),"v"==u&&(u="L",p=i,h+=a),"V"==u&&(u="L",p=i),("m"===u||"l"===u)&&(u=u.toUpperCase(),p+=i,h+=a),p=e.roundTo(p,3),h=e.roundTo(h,3),i=p,a=h,p>r&&(r=p),n>p&&(n=p),h>c&&(c=h),l>h&&(l=h),s="z"==u.toLowerCase()?s+"Z ":s+(u+" "+p+" "+h+" ")}return t.setAttribute("d",s),{minX:n,maxX:r,minY:l,maxY:c}},e.mercatorLatitudeToRadians=function(t){return Math.log(Math.tan(Math.PI/4+e.degreesToRadians(t)/2))},e.parsePath=function(e){e=e.match(/([MmLlHhVvZz]{1}[0-9.,\-\s]*)/g);for(var t=[],i=0;i<e.length;i++){var a=e[i].match(/([MmLlHhVvZz]{1})|([0-9.\-]+)/g),s={letter:a[0]};switch(a[0]){case"Z":case"Z":case"z":break;case"V":case"v":s.y=Number(a[1]);break;case"H":case"h":s.x=Number(a[1]);break;default:s.x=Number(a[1]),s.y=Number(a[2])}t.push(s)}return t},e.acos=function(e){return e>1?0:-1>e?Math.PI:Math.acos(e)},e.asin=function(e){return e>1?Math.PI/2:-1>e?-Math.PI/2:Math.asin(e)},e.sinci=function(e){return e?e/Math.sin(e):1},e.asqrt=function(e){return e>0?Math.sqrt(e):0},e.winkel3=function(t,i){var a=e.aitoff(t,i);return[(a[0]+t/Math.PI*2)/2,(a[1]+i)/2]},e.winkel3.invert=function(t,i){var a=t,s=i,o=25,n=Math.PI/2;do var r,l=Math.cos(s),c=Math.sin(s),d=Math.sin(2*s),h=c*c,u=l*l,p=Math.sin(a),m=Math.cos(a/2),g=Math.sin(a/2),v=g*g,f=1-u*m*m,b=f?e.acos(l*m)*Math.sqrt(r=1/f):r=0,f=.5*(2*b*l*g+a/n)-t,y=.5*(b*c+s)-i,x=.5*r*(u*v+b*l*m*h)+.5/n,w=r*(p*d/4-b*c*g),c=.125*r*(d*g-b*c*u*p),h=.5*r*(h*m+b*v*l)+.5,l=w*c-h*x,w=(y*w-f*h)/l,f=(f*c-y*x)/l,a=a-w,s=s-f;while((1e-6<Math.abs(w)||1e-6<Math.abs(f))&&0<--o);return[a,s]},e.aitoff=function(t,i){var a=Math.cos(i),s=e.sinci(e.acos(a*Math.cos(t/=2)));return[2*a*Math.sin(t)*s,Math.sin(i)*s]},e.orthographic=function(e,t){return[Math.cos(t)*Math.sin(e),Math.sin(t)]},e.equirectangular=function(e,t){return[e,t]},e.equirectangular.invert=function(e,t){return[e,t]},e.eckert5=function(e,t){var i=Math.PI;return[e*(1+Math.cos(t))/Math.sqrt(2+i),2*t/Math.sqrt(2+i)]},e.eckert5.invert=function(e,t){var i=Math.sqrt(2+Math.PI),a=t*i/2;return[i*e/(1+Math.cos(a)),a]},e.eckert6=function(e,t){for(var i=Math.PI,a=(1+i/2)*Math.sin(t),s=0,o=1/0;10>s&&1e-5<Math.abs(o);s++)t-=o=(t+Math.sin(t)-a)/(1+Math.cos(t));return a=Math.sqrt(2+i),[e*(1+Math.cos(t))/a,2*t/a]},e.eckert6.invert=function(t,i){var a=1+Math.PI/2,s=Math.sqrt(a/2);return[2*t*s/(1+Math.cos(i*=s)),e.asin((i+Math.sin(i))/a)]},e.mercator=function(e,t){return t>=Math.PI/2-.02&&(t=Math.PI/2-.02),t<=-Math.PI/2+.02&&(t=-Math.PI/2+.02),[e,Math.log(Math.tan(Math.PI/4+t/2))]},e.mercator.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Math.PI/2]},e.miller=function(e,t){return[e,1.25*Math.log(Math.tan(Math.PI/4+.4*t))]},e.miller.invert=function(e,t){return[e,2.5*Math.atan(Math.exp(.8*t))-.625*Math.PI]},e.eckert3=function(e,t){var i=Math.PI,a=Math.sqrt(i*(4+i));return[2/a*e*(1+Math.sqrt(1-4*t*t/(i*i))),4/a*t]},e.eckert3.invert=function(t,i){var a=Math.PI,s=Math.sqrt(a*(4+a))/2;return[t*s/(1+e.asqrt(1-i*i*(4+a)/(4*a))),i*s/2]}}(),function(){var e=window.AmCharts;e.MapData=e.Class({inherits:e.MapObject,construct:function(){this.cname="MapData",e.MapData.base.construct.call(this),this.projection="mercator",this.topLatitude=90,this.bottomLatitude=-90,this.leftLongitude=-180,this.rightLongitude=180,this.zoomLevel=1,this.getAreasFromMap=!1}})}(),function(){var e=window.AmCharts;e.DescriptionWindow=e.Class({construct:function(){},show:function(e,t,i,a){var s=this;s.chart=e;var o=document.createElement("div");o.style.position="absolute";var n=e.classNamePrefix+"-description-";o.className="ammapDescriptionWindow "+n+"div",s.div=o,t.appendChild(o);var r=".gif";e.svgIcons&&(r=".svg");var l=document.createElement("img");l.className="ammapDescriptionWindowCloseButton "+n+"close-img",l.src=e.pathToImages+"xIcon"+r,l.style.cssFloat="right",l.style.cursor="pointer",l.onclick=function(){s.close()},l.onmouseover=function(){l.src=e.pathToImages+"xIconH"+r},l.onmouseout=function(){l.src=e.pathToImages+"xIcon"+r},o.appendChild(l),t=document.createElement("div"),t.className="ammapDescriptionTitle "+n+"title-div",t.onmousedown=function(){s.div.style.zIndex=1e3},o.appendChild(t),t.innerHTML=a,a=t.offsetHeight,t=document.createElement("div"),t.className="ammapDescriptionText "+n+"text-div",t.style.maxHeight=s.maxHeight-a-20+"px",o.appendChild(t),t.innerHTML=i},close:function(){try{this.div.parentNode.removeChild(this.div),this.chart.fireClosed()}catch(e){}}})}(),function(){var e=window.AmCharts;e.ValueLegend=e.Class({construct:function(t){this.cname="ValueLegend",this.enabled=!0,this.showAsGradient=!1,this.minValue=0,this.height=12,this.width=200,this.bottom=this.left=10,this.borderColor="#FFFFFF",this.borderAlpha=this.borderThickness=1,this.color="#000000",this.fontSize=11,e.applyTheme(this,t,this.cname)},init:function(t,i){if(this.enabled){var a=t.areasSettings.color,s=t.areasSettings.colorSolid,o=t.colorSteps;e.remove(this.set);var n=i.set();this.set=n,e.setCN(t,n,"value-legend");var r=0,l=this.minValue,c=this.fontSize,d=t.fontFamily,h=this.color,u={precision:t.precision,decimalSeparator:t.decimalSeparator,thousandsSeparator:t.thousandsSeparator};if(void 0==l&&(l=e.formatNumber(t.minValueReal,u)),void 0!==l&&(r=e.text(i,l,h,d,c,"left"),r.translate(0,c/2-1),e.setCN(t,r,"value-legend-min-label"),n.push(r),r=r.getBBox().height),l=this.maxValue,void 0===l&&(l=e.formatNumber(t.maxValueReal,u)),void 0!==l&&(r=e.text(i,l,h,d,c,"right"),r.translate(this.width,c/2-1),e.setCN(t,r,"value-legend-max-label"),n.push(r),r=r.getBBox().height),this.showAsGradient)a=e.rect(i,this.width,this.height,[a,s],1,this.borderThickness,this.borderColor,1,0,0),e.setCN(t,a,"value-legend-gradient"),a.translate(0,r),n.push(a);else for(c=this.width/o,d=0;o>d;d++)h=e.getColorFade(a,s,1*d/(o-1)),h=e.rect(i,c,this.height,h,1,this.borderThickness,this.borderColor,1),e.setCN(t,h,"value-legend-color"),e.setCN(t,h,"value-legend-color-"+d),h.translate(c*d,r),n.push(h);s=a=0,o=n.getBBox(),r=t.getY(this.bottom,!0),c=t.getY(this.top),d=t.getX(this.right,!0),h=t.getX(this.left),isNaN(c)||(a=c),isNaN(r)||(a=r-o.height),isNaN(h)||(s=h),isNaN(d)||(s=d-o.width),n.translate(s,a)}else e.remove(this.set)}})}(),function(){var e=window.AmCharts;e.ObjectList=e.Class({construct:function(e){this.divId=e},init:function(e){this.chart=e;var t=this.divId;this.container&&(t=this.container),this.div="object"!=typeof t?document.getElementById(t):t,t=document.createElement("div"),t.className="ammapObjectList "+e.classNamePrefix+"-object-list-div",this.div.appendChild(t),this.addObjects(e.dataProvider,t)},addObjects:function(e,t){var i=this.chart,a=document.createElement("ul");a.className=i.classNamePrefix+"-object-list-ul";var s;if(e.areas)for(s=0;s<e.areas.length;s++){var o=e.areas[s];void 0===o.showInList&&(o.showInList=i.showAreasInList),this.addObject(o,a)}if(e.images)for(s=0;s<e.images.length;s++)o=e.images[s],void 0===o.showInList&&(o.showInList=i.showImagesInList),this.addObject(o,a);if(e.lines)for(s=0;s<e.lines.length;s++)o=e.lines[s],void 0===o.showInList&&(o.showInList=i.showLinesInList),this.addObject(o,a);0<a.childNodes.length&&t.appendChild(a)},addObject:function(e,t){var i=this;if(e.showInList&&void 0!==e.title){var a=i.chart,s=document.createElement("li");s.className=a.classNamePrefix+"-object-list-li";var o=e.titleTr;o||(o=e.title);var o=document.createTextNode(o),n=document.createElement("a");n.className=a.classNamePrefix+"-object-list-a",n.appendChild(o),s.appendChild(n),t.appendChild(s),this.addObjects(e,s),n.onmouseover=function(){i.chart.rollOverMapObject(e,!1)},n.onmouseout=function(){i.chart.rollOutMapObject(e)},n.onclick=function(){i.chart.clickMapObject(e)}}}})}(),function(){var e=window.AmCharts;e.AmSlicedChart=e.Class({inherits:e.AmChart,construct:function(t){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice"),e.AmSlicedChart.base.construct.call(this,t),this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" "),this.alpha=1,this.groupPercent=0,this.groupedTitle="Other",this.groupedPulled=!1,this.groupedAlpha=1,this.marginLeft=0,this.marginBottom=this.marginTop=10,this.marginRight=0,this.hoverAlpha=1,this.outlineColor="#FFFFFF",this.outlineAlpha=0,this.outlineThickness=1,this.startAlpha=0,this.startDuration=1,this.startEffect="bounce",this.sequencedAnimation=!0,this.pullOutDuration=1,this.pullOutEffect="bounce",this.pullOnHover=this.pullOutOnlyOne=!1,this.labelsEnabled=!0,this.labelTickColor="#000000",this.labelTickAlpha=.2,this.hideLabelsPercent=0,this.urlTarget="_self",this.autoMarginOffset=10,this.gradientRatio=[],this.maxLabelWidth=200,this.accessibleLabel="[[title]]: [[percents]]% [[value]] [[description]]",e.applyTheme(this,t,"AmSlicedChart")},initChart:function(){e.AmSlicedChart.base.initChart.call(this),this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData)),this.drawChart()},handleLegendEvent:function(e){var t=e.type,i=e.dataItem,a=this.legend;if(i.wedge&&i){var s=i.hidden;switch(e=e.event,t){case"clickMarker":s||a.switchable||this.clickSlice(i,e);break;case"clickLabel":s||this.clickSlice(i,e,!1);break;case"rollOverItem":s||this.rollOverSlice(i,!1,e);break;case"rollOutItem":s||this.rollOutSlice(i,e);break;case"hideItem":this.hideSlice(i,e);break;case"showItem":this.showSlice(i,e)}}},invalidateVisibility:function(){this.recalculatePercents(),this.initChart();var e=this.legend;e&&e.invalidateSize()},addEventListeners:function(e,t){var i=this;e.mouseover(function(e){i.rollOverSlice(t,!0,e)}).mouseout(function(e){i.rollOutSlice(t,e)}).touchend(function(e){i.rollOverSlice(t,e)}).mouseup(function(e){i.clickSlice(t,e)}).contextmenu(function(e){i.handleRightClick(t,e)})},formatString:function(t,i,a){t=e.formatValue(t,i,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);var s=this.pf.precision;return isNaN(this.tempPrec)||(this.pf.precision=this.tempPrec),t=e.formatValue(t,i,["percents"],this.pf),t=e.massReplace(t,{"[[title]]":i.title,"[[description]]":i.description}),this.pf.precision=s,-1!=t.indexOf("[[")&&(t=e.formatDataContextValue(t,i.dataContext)),t=a?e.fixNewLines(t):e.fixBrakes(t),t=e.cleanFromEmpty(t)},startSlices:function(){var e;for(e=0;e<this.chartData.length;e++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(e):this.startSlice(this.chartData[e])},setStartTO:function(e){var t=this;e=setTimeout(function(){t.startSequenced.call(t)},t.startDuration/t.chartData.length*500*e),t.timeOuts.push(e)},pullSlices:function(e){var t,i=this.chartData;for(t=0;t<i.length;t++){var a=i[t];a.pulled&&this.pullSlice(a,1,e)}},startSequenced:function(){var e,t=this.chartData;for(e=0;e<t.length;e++)if(!t[e].started){this.startSlice(this.chartData[e]);break}},startSlice:function(e){e.started=!0;var t=e.wedge,i=this.startDuration,a=e.labelSet;t&&i>0&&(0<e.alpha&&t.show(),t.translate(e.startX,e.startY),this.animatable.push(t),t.animate({opacity:1,translate:"0,0"},i,this.startEffect)),a&&i>0&&(0<e.alpha&&a.show(),a.translate(e.startX,e.startY),a.animate({opacity:1,translate:"0,0"},i,this.startEffect))},showLabels:function(){var e,t=this.chartData;for(e=0;e<t.length;e++){var i=t[e];if(0<i.alpha){var a=i.label;a&&a.show(),(i=i.tick)&&i.show()}}},showSlice:function(e){isNaN(e)?e.hidden=!1:this.chartData[e].hidden=!1,this.invalidateVisibility()},hideSlice:function(e){isNaN(e)?e.hidden=!0:this.chartData[e].hidden=!0,this.hideBalloon(),this.invalidateVisibility()},rollOverSlice:function(t,i,a){if(isNaN(t)||(t=this.chartData[t]),clearTimeout(this.hoverInt),!t.hidden){this.pullOnHover&&this.pullSlice(t,1),1>this.hoverAlpha&&t.wedge&&t.wedge.attr({opacity:this.hoverAlpha});var s=t.balloonX,o=t.balloonY;t.pulled&&(s+=t.pullX,o+=t.pullY);var n=this.formatString(this.balloonText,t,!0),r=this.balloonFunction;r&&(n=r(t,n)),r=e.adjustLuminosity(t.color,-.15),n?this.showBalloon(n,r,i,s,o):this.hideBalloon(),0===t.value&&this.hideBalloon(),this.fire({type:"rollOverSlice",dataItem:t,chart:this,event:a})}},rollOutSlice:function(e,t){isNaN(e)||(e=this.chartData[e]),e.wedge&&e.wedge.attr({opacity:1}),this.hideBalloon(),this.fire({type:"rollOutSlice",dataItem:e,chart:this,event:t})},clickSlice:function(t,i,a){this.checkTouchDuration(i)&&(isNaN(t)||(t=this.chartData[t]),t.pulled?this.pullSlice(t,0):this.pullSlice(t,1),e.getURL(t.url,this.urlTarget),a||this.fire({type:"clickSlice",dataItem:t,chart:this,event:i}))},handleRightClick:function(e,t){isNaN(e)||(e=this.chartData[e]),this.fire({type:"rightClickSlice",dataItem:e,chart:this,event:t})},drawTicks:function(){var t,i=this.chartData;for(t=0;t<i.length;t++){var a=i[t];if(a.label&&!a.skipTick){var s=a.ty,s=e.line(this.container,[a.tx0,a.tx,a.tx2],[a.ty0,s,s],this.labelTickColor,this.labelTickAlpha);e.setCN(this,s,this.type+"-tick"),e.setCN(this,s,a.className,!0),a.tick=s,a.wedge.push(s),"AmFunnelChart"==this.cname&&s.toBack()}}},initialStart:function(){var e=this,t=e.startDuration,i=setTimeout(function(){e.showLabels.call(e)},1e3*t);e.timeOuts.push(i),e.chartCreated?e.pullSlices(!0):(e.startSlices(),t>0?(t=setTimeout(function(){e.pullSlices.call(e)},1200*t),e.timeOuts.push(t)):e.pullSlices(!0))},pullSlice:function(e,t,i){var a=this.pullOutDuration;!0===i&&(a=0),(i=e.wedge)&&(a>0?(i.animate({translate:t*e.pullX+","+t*e.pullY},a,this.pullOutEffect),e.labelSet&&e.labelSet.animate({translate:t*e.pullX+","+t*e.pullY},a,this.pullOutEffect)):(e.labelSet&&e.labelSet.translate(t*e.pullX,t*e.pullY),i.translate(t*e.pullX,t*e.pullY))),1==t?(e.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(e.index),e={type:"pullOutSlice",dataItem:e,chart:this}):(e.pulled=!1,e={type:"pullInSlice",dataItem:e,chart:this}),this.fire(e)},pullInAll:function(e){var t,i=this.chartData;for(t=0;t<this.chartData.length;t++)t!=e&&i[t].pulled&&this.pullSlice(i[t],0)},pullOutAll:function(){var e,t=this.chartData;for(e=0;e<t.length;e++)t[e].pulled||this.pullSlice(t[e],1)},parseData:function(){var t=[];this.chartData=t;var i=this.dataProvider;if(isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha),void 0!==i){var a,s,o,n=i.length,r=0;for(a=0;n>a;a++){s={};var l=i[a];s.dataContext=l,null!==l[this.valueField]&&(s.value=Number(l[this.valueField])),(o=l[this.titleField])||(o=""),s.title=o,s.pulled=e.toBoolean(l[this.pulledField],!1),(o=l[this.descriptionField])||(o=""),s.description=o,s.labelRadius=Number(l[this.labelRadiusField]),s.switchable=!0,s.className=l[this.classNameField],s.url=l[this.urlField],o=l[this.patternField],!o&&this.patterns&&(o=this.patterns[a]),s.pattern=o,s.visibleInLegend=e.toBoolean(l[this.visibleInLegendField],!0),o=l[this.alphaField],s.alpha=void 0!==o?Number(o):this.alpha,o=l[this.colorField],void 0!==o&&(s.color=o),s.labelColor=e.toColor(l[this.labelColorField]),r+=s.value,s.hidden=!1,t[a]=s}for(a=i=0;n>a;a++)s=t[a],s.percents=s.value/r*100,s.percents<this.groupPercent&&i++;for(i>1&&(this.groupValue=0,this.removeSmallSlices(),t.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/r*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}})),n=this.baseColor,n||(n=this.pieBaseColor),r=this.brightnessStep,r||(r=this.pieBrightnessStep),a=0;a<t.length;a++)n?o=e.adjustLuminosity(n,a*r/100):(o=this.colors[a],void 0===o&&(o=e.randomColor())),void 0===t[a].color&&(t[a].color=o);this.recalculatePercents()}},recalculatePercents:function(){var e,t,i=this.chartData,a=0;for(e=0;e<i.length;e++)t=i[e],!t.hidden&&0<t.value&&(a+=t.value);for(e=0;e<i.length;e++)t=this.chartData[e],t.percents=!t.hidden&&0<t.value?100*t.value/a:0},removeSmallSlices:function(){var e,t=this.chartData;for(e=t.length-1;e>=0;e--)t[e].percents<this.groupPercent&&(this.groupValue+=t[e].value,t.splice(e,1))},animateAgain:function(){var e=this;e.startSlices();for(var t=0;t<e.chartData.length;t++){var i=e.chartData[t];i.started=!1;var a=i.wedge;a&&(a.setAttr("opacity",e.startAlpha),a.translate(i.startX,i.startY)),(a=i.labelSet)&&(a.setAttr("opacity",e.startAlpha),a.translate(i.startX,i.startY))}t=e.startDuration,t>0?(t=setTimeout(function(){e.pullSlices.call(e)},1200*t),e.timeOuts.push(t)):e.pullSlices()},measureMaxLabel:function(){var t,i=this.chartData,a=0;for(t=0;t<i.length;t++){var s=i[t],o=this.formatString(this.labelText,s),n=this.labelFunction;n&&(o=n(s,o)),s=e.text(this.container,o,this.color,this.fontFamily,this.fontSize),o=s.getBBox().width,o>a&&(a=o),s.remove()}return a}})}(),function(){var e=window.AmCharts;e.AmPieChart=e.Class({inherits:e.AmSlicedChart,construct:function(t){this.type="pie",e.AmPieChart.base.construct.call(this,t),this.cname="AmPieChart",this.pieBrightnessStep=30,this.minRadius=10,this.depth3D=0,this.startAngle=90,this.angle=this.innerRadius=0,this.startRadius="500%",this.pullOutRadius="20%",this.labelRadius=20,this.labelText="[[title]]: [[percents]]%",this.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]",this.previousScale=1,this.adjustPrecision=!1,this.gradientType="radial",e.applyTheme(this,t,this.cname)},drawChart:function(){e.AmPieChart.base.drawChart.call(this);var t=this.chartData;if(e.ifArray(t)){if(0<this.realWidth&&0<this.realHeight){e.VML&&(this.startAlpha=1);var i=this.startDuration,a=this.container,s=this.updateWidth();this.realWidth=s;var o=this.updateHeight();this.realHeight=o;var n,r,l,c=e.toCoordinate,d=c(this.marginLeft,s),h=c(this.marginRight,s),u=c(this.marginTop,o)+this.getTitleHeight(),p=c(this.marginBottom,o)+this.depth3D,m=e.toNumber(this.labelRadius),g=this.measureMaxLabel();for(g>this.maxLabelWidth&&(g=this.maxLabelWidth),this.labelText&&this.labelsEnabled||(m=g=0),n=void 0===this.pieX?(s-d-h)/2+d:c(this.pieX,this.realWidth),r=void 0===this.pieY?(o-u-p)/2+u:c(this.pieY,o),l=c(this.radius,s,o),l||(s=m>=0?s-d-h-2*g:s-d-h,o=o-u-p,l=Math.min(s,o),s>o&&(l/=1-this.angle/90,l>s&&(l=s)),o=e.toCoordinate(this.pullOutRadius,l),l=(m>=0?l-1.8*(m+o):l-1.8*o)/2),l<this.minRadius&&(l=this.minRadius),o=c(this.pullOutRadius,l),u=e.toCoordinate(this.startRadius,l),c=c(this.innerRadius,l),c>=l&&(c=l-1),p=e.fitToBounds(this.startAngle,0,360),0<this.depth3D&&(p=p>=270?270:90),p-=90,p>360&&(p-=360),s=l-l*this.angle/90,d=g=0;d<t.length;d++)h=t[d],!0!==h.hidden&&(g+=e.roundTo(h.percents,this.pf.precision));g=e.roundTo(g,this.pf.precision),this.tempPrec=NaN,this.adjustPrecision&&100!=g&&(this.tempPrec=this.pf.precision+1);for(var v,d=0;d<t.length;d++)if(h=t[d],!0!==h.hidden&&(this.showZeroSlices||0!==h.percents)){var f=360*h.percents/100,g=Math.sin((p+f/2)/180*Math.PI),b=s/l*-Math.cos((p+f/2)/180*Math.PI),y=this.outlineColor;y||(y=h.color);var x=this.alpha;if(isNaN(h.alpha)||(x=h.alpha),y={fill:h.color,stroke:y,"stroke-width":this.outlineThickness,"stroke-opacity":this.outlineAlpha,"fill-opacity":x},h.url&&(y.cursor="pointer"),y=e.wedge(a,n,r,p,f,l,s,c,this.depth3D,y,this.gradientRatio,h.pattern,this.path,this.gradientType),e.setCN(this,y,"pie-item"),e.setCN(this,y.wedge,"pie-slice"),e.setCN(this,y,h.className,!0),this.addEventListeners(y,h),h.startAngle=p,t[d].wedge=y,i>0&&(this.chartCreated||y.setAttr("opacity",this.startAlpha)),h.ix=g,h.iy=b,h.wedge=y,h.index=d,h.label=null,x=a.set(),this.labelsEnabled&&this.labelText&&h.percents>=this.hideLabelsPercent){var w=p+f/2;0>w&&(w+=360),w>360&&(w-=360);var L=m;isNaN(h.labelRadius)||(L=h.labelRadius,0>L&&(h.skipTick=!0));var S,f=n+g*(l+L),C=r+b*(l+L),N=0;if(isNaN(v)&&w>350&&1<t.length-d&&(v=d-1+Math.floor((t.length-d)/2)),L>=0){var A;90>=w&&w>=0?(A=0,S="start",N=8):w>=90&&180>w?(A=1,S="start",N=8):w>=180&&270>w?(A=2,S="end",N=-8):w>=270&&354>=w?(A=3,S="end",N=-8):w>=354&&(d>v?(A=0,S="start",N=8):(A=3,S="end",N=-8)),h.labelQuarter=A}else S="middle";w=this.formatString(this.labelText,h),(L=this.labelFunction)&&(w=L(h,w)),L=h.labelColor,L||(L=this.color),""!==w&&(w=e.wrappedText(a,w,L,this.fontFamily,this.fontSize,S,!1,this.maxLabelWidth),e.setCN(this,w,"pie-label"),e.setCN(this,w,h.className,!0),w.translate(f+1.5*N,C),0>m&&(w.node.style.pointerEvents="none"),w.node.style.cursor="default",h.ty=C,h.textX=f+1.5*N,x.push(w),this.axesSet.push(x),h.labelSet=x,h.label=w,this.addEventListeners(x,h)),h.tx=f,h.tx2=f+N,h.tx0=n+g*l,h.ty0=r+b*l}f=c+(l-c)/2,h.pulled&&(f+=o),this.accessible&&this.accessibleLabel&&(C=this.formatString(this.accessibleLabel,h),this.makeAccessible(y,C)),void 0!==this.tabIndex&&y.setAttr("tabindex",this.tabIndex),h.balloonX=g*f+n,h.balloonY=b*f+r,h.startX=Math.round(g*u),h.startY=Math.round(b*u),h.pullX=Math.round(g*o),h.pullY=Math.round(b*o),this.graphsSet.push(y),(0===h.alpha||i>0&&!this.chartCreated)&&(y.hide(),x&&x.hide()),p+=360*h.percents/100,p>360&&(p-=360)}m>0&&this.arrangeLabels(),this.pieXReal=n,this.pieYReal=r,this.radiusReal=l,this.innerRadiusReal=c,m>0&&this.drawTicks(),this.initialStart(),this.setDepths()}(t=this.legend)&&t.invalidateSize()}else this.cleanChart();this.dispDUpd()},setDepths:function(){var e,t=this.chartData;for(e=0;e<t.length;e++){var i=t[e],a=i.wedge,i=i.startAngle;i>=0&&180>i?a.toFront():i>=180&&a.toBack()}},arrangeLabels:function(){var e,t,i=this.chartData,a=i.length;for(t=a-1;t>=0;t--)e=i[t],0!==e.labelQuarter||e.hidden||this.checkOverlapping(t,e,0,!0,0);for(t=0;a>t;t++)e=i[t],1!=e.labelQuarter||e.hidden||this.checkOverlapping(t,e,1,!1,0);for(t=a-1;t>=0;t--)e=i[t],2!=e.labelQuarter||e.hidden||this.checkOverlapping(t,e,2,!0,0);for(t=0;a>t;t++)e=i[t],3!=e.labelQuarter||e.hidden||this.checkOverlapping(t,e,3,!1,0)},checkOverlapping:function(e,t,i,a,s){var o,n,r=this.chartData,l=r.length,c=t.label;if(c){if(!0===a)for(n=e+1;l>n;n++)r[n].labelQuarter==i&&(o=this.checkOverlappingReal(t,r[n],i))&&(n=l);else for(n=e-1;n>=0;n--)r[n].labelQuarter==i&&(o=this.checkOverlappingReal(t,r[n],i))&&(n=0);!0===o&&200>s&&isNaN(t.labelRadius)&&(o=t.ty+3*t.iy,t.ty=o,c.translate(t.textX,o),this.checkOverlapping(e,t,i,a,s+1))}},checkOverlappingReal:function(t,i,a){var s=!1,o=t.label,n=i.label;return t.labelQuarter!=a||t.hidden||i.hidden||!n||(o=o.getBBox(),a={},a.width=o.width,a.height=o.height,a.y=t.ty,a.x=t.tx,t=n.getBBox(),n={},n.width=t.width,n.height=t.height,n.y=i.ty,n.x=i.tx,e.hitTest(a,n)&&(s=!0)),s}})}(),function(){var e=window.AmCharts;e.AmMap=e.Class({inherits:e.AmChart,construct:function(t){this.cname="AmMap",this.type="map",this.theme=t,this.svgNotSupported="This browser doesn't support SVG. Use Chrome, Firefox, Internet Explorer 9 or later.",this.createEvents("rollOverMapObject","rollOutMapObject","clickMapObject","mouseDownMapObject","selectedObjectChanged","homeButtonClicked","zoomCompleted","dragCompleted","positionChanged","writeDevInfo","click","descriptionClosed"),this.zoomDuration=.6,this.zoomControl=new e.ZoomControl(t),this.fitMapToContainer=!0,this.mouseWheelZoomEnabled=this.backgroundZoomsToTop=!1,this.allowClickOnSelectedObject=this.useHandCursorOnClickableOjects=this.showBalloonOnSelectedObject=!0,this.showObjectsAfterZoom=this.wheelBusy=!1,this.zoomOnDoubleClick=this.useObjectColorForBalloon=!0,this.allowMultipleDescriptionWindows=!1,this.dragMap=this.centerMap=this.linesAboveImages=!0,this.colorSteps=5,this.forceNormalize=!1,this.showAreasInList=!0,this.showLinesInList=this.showImagesInList=!1,this.areasProcessor=new e.AreasProcessor(this),this.areasSettings=new e.AreasSettings(t),this.imagesProcessor=new e.ImagesProcessor(this),this.imagesSettings=new e.ImagesSettings(t),this.linesProcessor=new e.LinesProcessor(this),this.linesSettings=new e.LinesSettings(t),this.initialTouchZoom=1,this.showDescriptionOnHover=!1,e.AmMap.base.construct.call(this,t),this.creditsPosition="bottom-left",this.product="ammap",this.areasClasses={},this.updatableImages=[],e.applyTheme(this,t,this.cname)},initChart:function(){this.zoomInstantly=!0;var t=this.container;if(this.panRequired=!0,this.sizeChanged&&e.hasSVG&&this.chartCreated){this.updatableImages=[],this.freeLabelsSet&&this.freeLabelsSet.remove(),this.freeLabelsSet=t.set(),this.container.setSize(this.realWidth,this.realHeight),this.resizeMap(),this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.processObjects(!0),this.rescaleObjects(),this.zoomControl.init(this,t),this.drawBg();var i=this.smallMap;i&&i.init(this,t),(i=this.valueLegend)&&i.init(this,t),this.sizeChanged=!1,this.zoomToLongLat(this.zLevelTemp,this.zLongTemp,this.zLatTemp,!0),this.previousWidth=this.realWidth,this.previousHeight=this.realHeight,this.updateSmallMap(),this.linkSet.toFront(),this.zoomControl.update&&this.zoomControl.update()}else e.AmMap.base.initChart.call(this),e.hasSVG?(this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,t=this.legend)&&(t.position="absolute",t.invalidateSize()),this.createDescriptionsDiv(),this.svgAreas=[],this.svgAreasById={},this.drawChart()):(this.chartDiv.style.textAlign="",this.chartDiv.setAttribute("class","ammapAlert"),this.chartDiv.innerHTML=this.svgNotSupported,this.fire({type:"failed",chart:this}))},storeTemp:function(){if(e.hasSVG&&0<this.realWidth&&0<this.realHeight){var t=this.mapContainer.getBBox();0<t.width&&0<t.height&&(t=this.zoomLongitude(),isNaN(t)||(this.zLongTemp=t),t=this.zoomLatitude(),isNaN(t)||(this.zLatTemp=t),t=this.zoomLevel(),isNaN(t)||(this.zLevelTemp=t))}},invalidateSize:function(){this.storeTemp(),e.AmMap.base.invalidateSize.call(this)},validateSize:function(){this.storeTemp(),e.AmMap.base.validateSize.call(this)},handleWheelReal:function(t){if(!this.wheelBusy){this.stopAnimation();var i=this.zoomLevel(),a=this.zoomControl,s=a.zoomFactor;this.wheelBusy=!0,t=e.fitToBounds(t>0?i*s:i/s,a.minZoomLevel,a.maxZoomLevel),s=this.mouseX/this.mapWidth,a=this.mouseY/this.mapHeight,s=(this.zoomX()-s)*(t/i)+s,i=(this.zoomY()-a)*(t/i)+a,this.zoomTo(t,s,i)}},addLegend:function(t,i){return t.position="absolute",t.autoMargins=!1,t.valueWidth=0,t.switchable=!1,e.AmMap.base.addLegend.call(this,t,i),void 0===t.enabled&&(t.enabled=!0),t},handleLegendEvent:function(){},createDescriptionsDiv:function(){if(!this.descriptionsDiv){var e=document.createElement("div"),t=e.style;t.position="absolute",t.left="0px",t.top="0px",this.descriptionsDiv=e}this.containerDiv.appendChild(this.descriptionsDiv)},drawChart:function(){e.AmMap.base.drawChart.call(this);var t=this.dataProvider;this.dataProvider=t=e.extend(t,new e.MapData,!0),this.areasSettings=e.processObject(this.areasSettings,e.AreasSettings,this.theme),this.imagesSettings=e.processObject(this.imagesSettings,e.ImagesSettings,this.theme),this.linesSettings=e.processObject(this.linesSettings,e.LinesSettings,this.theme);var i=this.container;this.mapContainer&&this.mapContainer.remove(),this.mapContainer=i.set(),this.graphsSet.push(this.mapContainer);var a;t.map&&(a=e.maps[t.map]),t.mapVar&&(a=t.mapVar),a?(this.svgData=a.svg,this.getBounds(),this.buildEverything()):(t=t.mapURL)&&this.loadXml(t),this.balloonsSet.toFront()},drawBg:function(){var e=this;e.background.click(function(){e.handleBackgroundClick()}),e.background.mouseover(function(){e.rollOutMapObject(e.previouslyHovered)})},buildEverything:function(){if(0<this.realWidth&&0<this.realHeight){var t=this.container,i=this.dataProvider;this.projection||(this.projection=i.projection,this.projection||(this.projection="equirectangular")),this.updatableImages=[];var a=this.projection;a&&(this.projectionFunction=e[a]),this.projectionFunction||(this.projectionFunction=e.equirectangular),this.dpProjectionFunction=e[i.projection],
this.dpProjectionFunction||(this.dpProjectionFunction=e.equirectangular),this.zoomControl=e.processObject(this.zoomControl,e.ZoomControl,this.theme),this.zoomControl.init(this,t),this.drawBg(),this.buildSVGMap(),this.projectionFunction&&a!=i.projection||this.forceNormalize?(this.normalizeMap(),this.changeProjection()):this.fixMapPosition(),(a=this.smallMap)&&(a=e.processObject(a,e.SmallMap,this.theme),a.init(this,t),this.smallMap=a),isNaN(i.zoomX)&&isNaN(i.zoomY)&&isNaN(i.zoomLatitude)&&isNaN(i.zoomLongitude)&&(this.centerMap?(a=this.xyToCoordinates(this.mapWidth/2,this.mapHeight/2),i.zoomLongitudeC=a.longitude,i.zoomLatitudeC=a.latitude):(i.zoomX=0,i.zoomY=0),this.zoomInstantly=!0),this.selectObject(this.dataProvider),this.processAreas(),(i=this.valueLegend)&&(this.valueLegend=i=e.processObject(i,e.ValueLegend,this.theme),i.init(this,t)),this.objectList&&(t=this.objectList=e.processObject(this.objectList,e.ObjectList))&&(this.clearObjectList(),t.init(this)),this.dispDUpd(),this.updateSmallMap(),this.linkSet.toFront()}else this.cleanChart()},hideGroup:function(e){this.showHideGroup(e,!1)},showGroup:function(e){this.showHideGroup(e,!0)},showHideGroup:function(e,t){this.showHideReal(this.imagesProcessor.allObjects,e,t),this.showHideReal(this.areasProcessor.allObjects,e,t),this.showHideReal(this.linesProcessor.allObjects,e,t)},showHideReal:function(e,t,i){var a;for(a=0;a<e.length;a++){var s=e[a];if(s.groupId==t){var o=s.displayObject;o&&(i?(s.hidden=!1,o.show()):(s.hidden=!0,o.hide()))}}},makeObjectAccessible:function(e){if(e.accessibleLabel){var t=this.formatString(e.accessibleLabel,e);e.displayObject&&this.makeAccessible(e.displayObject,t,"menuitem")}},update:function(){if(e.hasSVG){e.AmMap.base.update.call(this),this.zoomControl&&this.zoomControl.update&&this.zoomControl.update();for(var t=0,i=this.updatableImages.length;i>t;t++)this.updatableImages[t].update()}},animateMap:function(){var t=this;t.totalFrames=t.zoomDuration*e.updateRate,t.totalFrames+=1,t.frame=0,t.tweenPercent=0,t.balloon.hide(0),setTimeout(function(){t.updateSize.call(t)},1e3/e.updateRate)},updateSize:function(){var t=this,i=t.totalFrames;t.preventHover=!0,t.frame<=i?(t.frame++,i=e.easeOutSine(0,t.frame,0,1,i),i>=1?(i=1,t.preventHover=!1,t.wheelBusy=!1):window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateSize.call(t)}):setTimeout(function(){t.updateSize.call(t)},1e3/e.updateRate),i>.8&&(t.preventHover=!1)):(i=1,t.preventHover=!1,t.wheelBusy=!1),t.tweenPercent=i,t.rescaleMapAndObjects()},rescaleMapAndObjects:function(){var e=this.initialScale,t=this.initialX,i=this.initialY,a=this.tweenPercent,e=e+(this.finalScale-e)*a;if(this.mapContainer.translate(t+(this.finalX-t)*a,i+(this.finalY-i)*a,e,!0),this.areasSettings.adjustOutlineThickness){for(var t=this.svgAreas,s=0;s<t.length;s++)(i=t[s])&&i.setAttr("stroke-width",this.areasSettings.outlineThickness/e/this.mapScale);if(t=this.dataProvider.areas)for(s=0;s<t.length;s++){var i=t[s],o=i.displayObject;o&&o.setAttr("stroke-width",i.outlineThicknessReal/e/this.mapScale)}}this.rescaleObjects(),this.positionChanged(),this.updateSmallMap(),1==a&&this.fire({type:"zoomCompleted",chart:this})},updateSmallMap:function(){this.smallMap&&this.smallMap.update()},rescaleObjects:function(){var e,t=this.mapContainer.scale,i=this.imagesProcessor.objectsToResize;for(e=0;e<i.length;e++){var a=i[e].image,s=i[e].scale,o=i[e].mapImage;isNaN(o.selectedScaleReal)||o!=this.selectedObject||(o.tempScale=s,s*=o.selectedScaleReal),a.translate(a.x,a.y,s/t,!0)}for(i=this.imagesProcessor.labelsToReposition,e=0;e<i.length;e++)a=i[e],a.imageLabel&&this.imagesProcessor.positionLabel(a.imageLabel,a,a.labelPositionReal);if(i=this.linesProcessor,a=i.linesToResize)for(e=0;e<a.length;e++)s=a[e],s.line.setAttr("stroke-width",s.thickness/t);for(i=i.objectsToResize,e=0;e<i.length;e++)a=i[e],a.translate(a.x,a.y,1/t,!0)},handleTouchEnd:function(t){this.initialDistance=NaN,this.mouseIsDown=this.isDragging=!1,e.AmMap.base.handleTouchEnd.call(this,t)},handleMouseDown:function(t){if(e.resetMouseOver(),this.mouseIsDown=this.mouseIsOver=!0,this.balloon.hide(0),t&&this.mouseIsOver&&t.preventDefault&&this.panEventsEnabled&&t.preventDefault(),this.chartCreated&&!this.preventHover&&(this.initialTouchZoom=this.zoomLevel(),this.dragMap&&(this.stopAnimation(),this.mapContainerClickX=this.mapContainer.x,this.mapContainerClickY=this.mapContainer.y),t||(t=window.event),t.shiftKey&&!0===this.developerMode&&this.getDevInfo(),t&&t.touches)){var i=this.mouseX,a=this.mouseY,s=t.touches.item(1);s&&this.panEventsEnabled&&this.boundingRect&&(t=s.clientX-this.boundingRect.left,s=s.clientY-this.boundingRect.top,this.middleXP=(i+(t-i)/2)/this.realWidth,this.middleYP=(a+(s-a)/2)/this.realHeight,this.initialDistance=Math.sqrt(Math.pow(t-i,2)+Math.pow(s-a,2)))}},stopDrag:function(){this.isDragging=!1},handleReleaseOutside:function(){if(e.isModern){var t=this;if(e.AmMap.base.handleReleaseOutside.call(t),t.mouseIsDown=!1,setTimeout(function(){t.resetPinch.call(t)},100),!t.preventHover){t.stopDrag();var i=t.zoomControl;i&&i.draggerUp&&i.draggerUp(),t.mapWasDragged=!1;var i=t.mapContainer,a=t.mapContainerClickX,s=t.mapContainerClickY;isNaN(a)||isNaN(s)||!(3<Math.abs(i.x-a)||3<Math.abs(i.y-s))||(t.mapWasDragged=!0,i={type:"dragCompleted",zoomX:t.zoomX(),zoomY:t.zoomY(),zoomLevel:t.zoomLevel(),chart:t},t.fire(i)),(t.mouseIsOver&&!t.mapWasDragged&&!t.skipClick||t.wasTouched&&3>Math.abs(t.mouseX-t.tmx)&&3>Math.abs(t.mouseY-t.tmy))&&t.fire({type:"click",x:t.mouseX,y:t.mouseY,chart:t}),t.mapContainerClickX=NaN,t.mapContainerClickY=NaN,t.objectWasClicked=!1,t.zoomOnDoubleClick&&t.mouseIsOver&&(i=(new Date).getTime(),200>i-t.previousClickTime&&40<i-t.previousClickTime&&t.doDoubleClickZoom(),t.previousClickTime=i)}t.wasTouched=!1}},resetPinch:function(){this.mapWasPinched=!1},handleMouseMove:function(t){var i=this;if(e.AmMap.base.handleMouseMove.call(i,t),!t||!t.touches||!i.tapToActivate||i.tapped){i.panEventsEnabled&&i.mouseIsOver&&t&&t.preventDefault&&t.preventDefault();var a=i.previuosMouseX,s=i.previuosMouseY,o=i.mouseX,n=i.mouseY,r=i.zoomControl;if(isNaN(a)&&(a=o),isNaN(s)&&(s=n),i.mouse2X=NaN,i.mouse2Y=NaN,t&&t.touches&&(t=t.touches.item(1))&&i.panEventsEnabled&&i.boundingRect&&(i.mouse2X=t.clientX-i.boundingRect.left,i.mouse2Y=t.clientY-i.boundingRect.top),t=i.mapContainer){var l=i.mouse2X,c=i.mouse2Y;i.pinchTO&&clearTimeout(i.pinchTO),i.pinchTO=setTimeout(function(){i.resetPinch.call(i)},1e3);var d=i.realHeight,h=i.realWidth,u=i.mapWidth,p=i.mapHeight;if(i.mouseIsDown&&i.dragMap&&(3<Math.abs(i.previuosMouseX-i.mouseX)||3<Math.abs(i.previuosMouseY-i.mouseY))&&(i.isDragging=!0),!isNaN(l)){i.stopDrag();var m=Math.sqrt(Math.pow(l-o,2)+Math.pow(c-n,2)),g=i.initialDistance;if(isNaN(g)&&(g=Math.sqrt(Math.pow(l-o,2)+Math.pow(c-n,2))),!isNaN(g)){var l=i.initialTouchZoom*m/g,l=e.fitToBounds(l,r.minZoomLevel,r.maxZoomLevel),r=i.zoomLevel(),g=i.middleXP,c=i.middleYP,m=d/p,v=h/u,g=(i.zoomX()-g*v)*(l/r)+g*v,c=(i.zoomY()-c*m)*(l/r)+c*m;.1<Math.abs(l-r)&&(i.zoomTo(l,g,c,!0),i.mapWasPinched=!0,clearTimeout(i.pinchTO))}}l=t.scale,i.isDragging&&(i.balloon.hide(0),i.positionChanged(),a=t.x+(o-a),s=t.y+(n-s),i.preventDragOut&&(p=-p*l+d/2-i.diffY*i.mapScale*l,d=d/2-i.diffY*i.mapScale*l,a=e.fitToBounds(a,-u*l+h/2,h/2),s=e.fitToBounds(s,p,d)),isNaN(a)||isNaN(s)||(t.translate(a,s,l,!0),i.updateSmallMap())),i.previuosMouseX=o,i.previuosMouseY=n}}},selectObject:function(t,i){var a=this;t||(t=a.dataProvider),t.isOver=!1;var s=t.linkToObject;e.isString(s)&&(s=a.getObjectById(s)),t.useTargetsZoomValues&&s&&(t.zoomX=s.zoomX,t.zoomY=s.zoomY,t.zoomLatitude=s.zoomLatitude,t.zoomLongitude=s.zoomLongitude,t.zoomLevel=s.zoomLevel);var o=a.selectedObject;o&&a.returnInitialColor(o),a.selectedObject=t;var n,r,l=!1;if("MapArea"==t.objectType&&(t.autoZoomReal&&(l=!0),n=a.areasSettings.selectedOutlineColor,r=a.areasSettings.selectedOutlineThickness),s&&!l&&(e.isString(s)&&(s=a.getObjectById(s)),isNaN(t.zoomLevel)&&isNaN(t.zoomX)&&isNaN(t.zoomY))){if(a.extendMapData(s))return;return void a.selectObject(s)}if(a.allowMultipleDescriptionWindows||a.closeAllDescriptions(),clearTimeout(a.selectedObjectTimeOut),clearTimeout(a.processObjectsTimeOut),s=a.zoomDuration,!l&&isNaN(t.zoomLevel)&&isNaN(t.zoomX)&&isNaN(t.zoomY)?(a.showDescriptionAndGetUrl(),i||a.processObjects()):(a.selectedObjectTimeOut=setTimeout(function(){a.showDescriptionAndGetUrl.call(a)},1e3*s+200),a.showObjectsAfterZoom?i||(a.processObjectsTimeOut=setTimeout(function(){a.processObjects.call(a)},1e3*s+200)):i||a.processObjects()),s=t.displayObject,l=t.selectedColorReal,"MapImage"==t.objectType){n=a.imagesSettings.selectedOutlineColor,r=a.imagesSettings.selectedOutlineThickness;var s=t.image,c=t.selectedScaleReal;if(!isNaN(c)&&1!=c){var d=t.scale;isNaN(t.tempScale)||(d=t.tempScale),isNaN(d)&&(d=1),t.tempScale=d;var h=t.displayObject;h.translate(h.x,h.y,d*c,!0)}}if(s?(e.removeCN(a,s,"selected-object"),e.setCN(a,s,"selected-object"),t.bringForwardOnHover&&t.displayObject.toFront(),a.outlinesToFront(),t.preserveOriginalAttributes||(s.setAttr("stroke",t.outlineColorReal),void 0!==l&&s.setAttr("fill",l),void 0!==n&&s.setAttr("stroke",n),void 0!==r&&s.setAttr("stroke-width",r),"MapLine"==t.objectType&&((c=t.lineSvg)&&c.setAttr("stroke",l),c=t.arrowSvg)&&(c.setAttr("fill",l),c.setAttr("stroke",l)),(c=t.imageLabel)&&(d=t.selectedLabelColorReal,void 0!==d&&c.setAttr("fill",d)),t.selectable||(s.setAttr("cursor","default"),c&&c.setAttr("cursor","default")))):a.returnInitialColorReal(t),s=t.groupId)for(c=t.groupArray,c||(c=a.getGroupById(s),t.groupArray=c),d=0;d<c.length;d++)if(h=c[d],h.isOver=!1,s=h.displayObject,"MapImage"==h.objectType&&(s=h.image),s){var u=h.selectedColorReal;void 0!==u&&s.setAttr("fill",u),void 0!==n&&s.setAttr("stroke",n),void 0!==r&&s.setAttr("stroke-width",r),"MapLine"==h.objectType&&((s=h.lineSvg)&&s.setAttr("stroke",l),s=h.arrowSvg)&&(s.setAttr("fill",l),s.setAttr("stroke",l))}a.rescaleObjects(),a.zoomToSelectedObject(),o!=t&&a.fire({type:"selectedObjectChanged",chart:a})},returnInitialColor:function(e,t){if(this.returnInitialColorReal(e),t&&(e.isFirst=!1),this.selectedObject.bringForwardOnHover){var i=this.selectedObject.displayObject;i&&i.toFront()}if(i=e.groupId){var a,i=this.getGroupById(i);for(a=0;a<i.length;a++)this.returnInitialColorReal(i[a]),t&&(i[a].isFirst=!1)}this.outlinesToFront()},outlinesToFront:function(){if(this.outlines)for(var e=0;e<this.outlines.length;e++)this.outlines[e].toFront()},closeAllDescriptions:function(){this.descriptionsDiv.innerHTML=""},fireClosed:function(){this.fire({type:"descriptionClosed",chart:this})},returnInitialColorReal:function(t){t.isOver=!1;var i=t.displayObject;if(i){if(e.removeCN(this,i,"selected-object"),i.toPrevious(),"MapImage"==t.objectType){var a=t.tempScale;isNaN(a)||i.translate(i.x,i.y,a,!0),t.tempScale=NaN,i=t.image}if(a=t.colorReal,"MapLine"==t.objectType){var s=t.lineSvg;if(s&&s.setAttr("stroke",a),s=t.arrowSvg){var o=t.arrowColor;void 0===o&&(o=a),s.setAttr("fill",o),s.setAttr("stroke",o)}}var s=t.alphaReal,o=t.outlineAlphaReal,n=t.outlineThicknessReal,r=t.outlineColorReal;if(t.showAsSelected){var l,c,a=t.selectedColorReal;"MapImage"==t.objectType&&(l=this.imagesSettings.selectedOutlineColor,c=this.imagesSettings.selectedOutlineThickness),"MapArea"==t.objectType&&(l=this.areasSettings.selectedOutlineColor,c=this.areasSettings.selectedOutlineThickness),void 0!==l&&(r=l),void 0!==c&&(n=c)}"bubble"==t.type&&(a=void 0),void 0!==a&&i.setAttr("fill",a),(l=t.image)&&(l.setAttr("fill",a),l.setAttr("stroke",r),l.setAttr("stroke-width",n),l.setAttr("fill-opacity",s),l.setAttr("stroke-opacity",o)),"MapArea"==t.objectType&&(a=1,this.areasSettings.adjustOutlineThickness&&(a=this.zoomLevel()*this.mapScale),i.setAttr("stroke",r),i.setAttr("stroke-width",n/a),i.setAttr("fill-opacity",s),i.setAttr("stroke-opacity",o)),(a=t.pattern)&&i.pattern(a,this.mapScale,this.path),(i=t.imageLabel)&&!t.labelInactive&&(t.showAsSelected&&void 0!==t.selectedLabelColor?i.setAttr("fill",t.selectedLabelColor):i.setAttr("fill",t.labelColorReal))}},zoomToRectangle:function(t,i,a,s){var o=this.realWidth,n=this.realHeight,r=this.mapSet.scale,l=this.zoomControl,o=e.fitToBounds(a/o>s/n?.8*o/(a*r):.8*n/(s*r),l.minZoomLevel,l.maxZoomLevel);this.zoomToMapXY(o,(t+a/2)*r,(i+s/2)*r)},zoomToLatLongRectangle:function(t,i,a,s){var o=this.dataProvider,n=this.zoomControl,r=Math.abs(a-t),l=Math.abs(i-s),c=Math.abs(o.rightLongitude-o.leftLongitude),o=Math.abs(o.topLatitude-o.bottomLatitude),n=e.fitToBounds(r/c>l/o?.8*c/r:.8*o/l,n.minZoomLevel,n.maxZoomLevel);this.zoomToLongLat(n,t+(a-t)/2,s+(i-s)/2)},getGroupById:function(e){var t=[];return this.getGroup(this.imagesProcessor.allObjects,e,t),this.getGroup(this.linesProcessor.allObjects,e,t),this.getGroup(this.areasProcessor.allObjects,e,t),t},zoomToGroup:function(e){e="object"==typeof e?e:this.getGroupById(e);var t,i,a,s,o;for(o=0;o<e.length;o++){var n=e[o].displayObject;if(n){var r=n.getBBox(),n=r.y,l=r.y+r.height,c=r.x,r=r.x+r.width;(t>n||isNaN(t))&&(t=n),(l>s||isNaN(s))&&(s=l),(i>c||isNaN(i))&&(i=c),(r>a||isNaN(a))&&(a=r)}}i+=this.diffX,a+=this.diffX,s+=this.diffY,t+=this.diffY,this.zoomToRectangle(i,t,a-i,s-t)},getGroup:function(e,t,i){if(e){var a;for(a=0;a<e.length;a++){var s=e[a];s.groupId==t&&i.push(s)}}},zoomToStageXY:function(t,i,a,s){if(!this.objectWasClicked){var o=this.zoomControl;t=e.fitToBounds(t,o.minZoomLevel,o.maxZoomLevel);var o=this.zoomLevel(),n=this.mapSet.getBBox();i=this.xyToCoordinates((i-this.mapContainer.x)/o-n.x*this.mapScale,(a-this.mapContainer.y)/o-n.y*this.mapScale),this.zoomToLongLat(t,i.longitude,i.latitude,s)}},zoomToLongLat:function(e,t,i,a){t=this.coordinatesToXY(t,i),this.zoomToMapXY(e,t.x,t.y,a)},zoomToMapXY:function(e,t,i,a){var s=this.mapWidth,o=this.mapHeight;this.zoomTo(e,-(t/s)*e+this.realWidth/s/2,-(i/o)*e+this.realHeight/o/2,a)},zoomToObject:function(t){if(t){var i=t.zoomLatitude,a=t.zoomLongitude;isNaN(t.zoomLatitudeC)||(i=t.zoomLatitudeC),isNaN(t.zoomLongitudeC)||(a=t.zoomLongitudeC);var s=t.zoomLevel,o=this.zoomInstantly,n=t.zoomX,r=t.zoomY,l=this.realWidth,c=this.realHeight;isNaN(s)||(isNaN(i)||isNaN(a)?this.zoomTo(s,n,r,o):this.zoomToLongLat(s,a,i,o)),this.zoomInstantly=!1,"MapImage"==t.objectType&&isNaN(t.zoomX)&&isNaN(t.zoomY)&&isNaN(t.zoomLatitude)&&isNaN(t.zoomLongitude)&&!isNaN(t.latitude)&&!isNaN(t.longitude)&&this.zoomToLongLat(t.zoomLevel,t.longitude,t.latitude),"MapArea"==t.objectType&&(o=t.displayObject.getBBox(),n=this.mapScale,i=(o.x+this.diffX)*n,a=(o.y+this.diffY)*n,s=o.width*n,o=o.height*n,l=t.autoZoomReal&&isNaN(t.zoomLevel)?s/l>o/c?.8*l/s:.8*c/o:t.zoomLevel,c=this.zoomControl,l=e.fitToBounds(l,c.minZoomLevel,c.maxZoomLevel),isNaN(t.zoomX)&&isNaN(t.zoomY)&&isNaN(t.zoomLatitude)&&isNaN(t.zoomLongitude)&&this.zoomToMapXY(l,i+s/2,a+o/2)),this.zoomControl.update()}},zoomToSelectedObject:function(){this.zoomToObject(this.selectedObject)},zoomTo:function(t,i,a,s){var o=this.zoomControl;t=e.fitToBounds(t,o.minZoomLevel,o.maxZoomLevel),o=this.zoomLevel(),isNaN(i)&&(i=this.realWidth/this.mapWidth,i=(this.zoomX()-.5*i)*(t/o)+.5*i),isNaN(a)&&(a=this.realHeight/this.mapHeight,a=(this.zoomY()-.5*a)*(t/o)+.5*a),this.stopAnimation(),isNaN(t)||(o=this.mapContainer,this.initialX=o.x,this.initialY=o.y,this.initialScale=o.scale,this.finalX=this.mapWidth*i,this.finalY=this.mapHeight*a,this.finalScale=t,this.finalX!=this.initialX||this.finalY!=this.initialY||this.finalScale!=this.initialScale?s?(this.tweenPercent=1,this.rescaleMapAndObjects(),this.wheelBusy=!1):this.animateMap():this.wheelBusy=!1)},loadXml:function(e){var t;window.XMLHttpRequest&&(t=new XMLHttpRequest),t.overrideMimeType&&t.overrideMimeType("text/xml"),t.open("GET",e,!1),t.send(),this.parseXMLObject(t.responseXML),this.svgData&&this.buildEverything()},stopAnimation:function(){this.frame=this.totalFrames},processObjects:function(e){var t=this.selectedObject;if(0<t.images.length||0<t.areas.length||0<t.lines.length||t==this.dataProvider||e){e=this.container;var i=this.stageImagesContainer;i&&i.remove(),this.stageImagesContainer=i=e.set(),this.trendLinesSet.push(i);var a=this.stageLinesContainer;a&&a.remove(),this.stageLinesContainer=a=e.set(),this.trendLinesSet.push(a);var s=this.mapImagesContainer;s&&s.remove(),this.mapImagesContainer=s=e.set(),this.mapContainer.push(s);var o=this.mapLinesContainer;o&&o.remove(),this.mapLinesContainer=o=e.set(),this.mapContainer.push(o),this.linesAboveImages?(s.toFront(),i.toFront(),o.toFront(),a.toFront()):(o.toFront(),a.toFront(),s.toFront(),i.toFront()),t&&(this.imagesProcessor.reset(),this.linesProcessor.reset(),this.linesAboveImages?(this.imagesProcessor.process(t),this.linesProcessor.process(t)):(this.linesProcessor.process(t),this.imagesProcessor.process(t))),this.rescaleObjects()}},processAreas:function(){this.areasProcessor.process(this.dataProvider)},buildSVGMap:function(){e.remove(this.mapSet);var t=this.svgData.g.path,i=this.container,a=i.set();this.svgAreas=[],this.svgAreasById={},void 0===t.length&&(t=[t]);var s;for(s=0;s<t.length;s++){var o=t[s],n=o.d,r=o.title;o.titleTr&&(r=o.titleTr);var l=i.path(n);if(l.id=o.id,this.areasSettings.preserveOriginalAttributes){l.customAttr={};for(var c in o)"d"!=c&&"id"!=c&&"title"!=c&&(l.customAttr[c]=o[c])}o.outline&&(l.outline=!0),l.path=n,this.svgAreasById[o.id]={area:l,title:r,className:o["class"]},this.svgAreas.push(l),a.push(l)}this.mapSet=a,this.mapContainer.push(a),this.resizeMap()},centerAlign:function(){},setProjection:function(e){this.projection=e,this.chartCreated=!1,this.buildEverything()},addObjectEventListeners:function(e,t){var i=this;e.mousedown(function(e){i.mouseDownMapObject(t,e)}).mouseup(function(e){i.clickMapObject(t,e)}).mouseover(function(e){i.balloonX=NaN,i.rollOverMapObject(t,!0,e)}).mouseout(function(e){i.balloonX=NaN,i.rollOutMapObject(t,e)}).touchend(function(e){4>Math.abs(i.mouseX-i.tmx)&&4>Math.abs(i.mouseY-i.tmy)&&(i.tapped=!0),i.tapToActivate&&!i.tapped||i.mapWasDragged||i.mapWasPinched||(i.balloonX=NaN,i.rollOverMapObject(t,!0,e),i.clickMapObject(t,e))}).touchstart(function(e){i.tmx=i.mouseX,i.tmy=i.mouseY,i.mouseDownMapObject(t,e)}).keyup(function(e){13==e.keyCode&&i.clickMapObject(t,e)})},checkIfSelected:function(e){var t=this.selectedObject;if(t==e)return!0;if(t=t.groupId){var i,t=this.getGroupById(t);for(i=0;i<t.length;i++)if(t[i]==e)return!0}return!1},clearMap:function(){this.chartDiv.innerHTML="",this.clearObjectList()},clearObjectList:function(){var e=this.objectList;e&&e.div&&(e.div.innerHTML="")},checkIfLast:function(e){if(e){var t=e.parentNode;if(t&&t.lastChild==e)return!0}return!1},showAsRolledOver:function(t){var i=t.displayObject;if(!t.showAsSelected&&i&&!t.isOver){i.node.onmouseout=function(){},i.node.onmouseover=function(){},i.node.onclick=function(){},!t.isFirst&&t.bringForwardOnHover&&(i.toFront(),t.isFirst=!0);var a,s=t.rollOverColorReal;if(t.preserveOriginalAttributes&&(s=void 0),"bubble"==t.type&&(s=void 0),void 0==s&&(isNaN(t.rollOverBrightnessReal)||(s=e.adjustLuminosity(t.colorReal,t.rollOverBrightnessReal/100))),void 0!=s&&("MapImage"==t.objectType?(a=t.image)&&a.setAttr("fill",s):"MapLine"==t.objectType?((a=t.lineSvg)&&a.setAttr("stroke",s),(a=t.arrowSvg)&&(a.setAttr("fill",s),a.setAttr("stroke",s))):i.setAttr("fill",s)),(s=t.imageLabel)&&!t.labelInactive&&(a=t.labelRollOverColorReal,void 0!=a&&s.setAttr("fill",a)),s=t.rollOverOutlineColorReal,void 0!=s&&("MapImage"==t.objectType?(a=t.image)&&a.setAttr("stroke",s):i.setAttr("stroke",s)),"MapImage"==t.objectType?(s=this.imagesSettings.rollOverOutlineThickness,(a=t.image)&&(isNaN(s)||a.setAttr("stroke-width",s))):(s=this.areasSettings.rollOverOutlineThickness,isNaN(s)||i.setAttr("stroke-width",s)),"MapArea"==t.objectType){s=this.areasSettings,a=t.rollOverAlphaReal,isNaN(a)||i.setAttr("fill-opacity",a),a=s.rollOverOutlineAlpha,isNaN(a)||i.setAttr("stroke-opacity",a),a=1,this.areasSettings.adjustOutlineThickness&&(a=this.zoomLevel()*this.mapScale);var o=s.rollOverOutlineThickness;isNaN(o)||i.setAttr("stroke-width",o/a),(s=s.rollOverPattern)&&i.pattern(s,this.mapScale,this.path)}"MapImage"==t.objectType&&(s=t.rollOverScaleReal,isNaN(s)||1==s||(a=i.scale,isNaN(a)&&(a=1),t.tempScale=a,i.translate(i.x,i.y,a*s,!0))),this.useHandCursorOnClickableOjects&&this.checkIfClickable(t)&&i.setAttr("cursor","pointer"),t.mouseEnabled&&this.addObjectEventListeners(i,t),t.isOver=!0}this.outlinesToFront()},rollOverMapObject:function(e,t,i){if(this.chartCreated){this.handleMouseMove();var a=this.previouslyHovered;if(a&&a!=e?(!1===this.checkIfSelected(a)&&(this.returnInitialColor(a,!0),this.previouslyHovered=null),this.balloon.hide(0)):clearTimeout(this.hoverInt),!this.preventHover){if(!1===this.checkIfSelected(e)){if(a=e.groupId){var s,a=this.getGroupById(a);for(s=0;s<a.length;s++)a[s]!=e&&this.showAsRolledOver(a[s])}this.showAsRolledOver(e)}else(a=e.displayObject)&&(this.allowClickOnSelectedObject?a.setAttr("cursor","pointer"):a.setAttr("cursor","default"));this.showDescriptionOnHover?this.showDescription(e):!this.showBalloonOnSelectedObject&&this.checkIfSelected(e)||!1===t||(s=this.balloon,this.balloon.fixedPosition=!1,t=e.colorReal,a="",void 0!==t&&this.useObjectColorForBalloon||(t=s.fillColor),(s=e.balloonTextReal)&&(a=this.formatString(s,e)),this.balloonLabelFunction&&(a=this.balloonLabelFunction(e,this)),a&&""!==a&&this.showBalloon(a,t,!1,this.balloonX,this.balloonY)),this.fire({type:"rollOverMapObject",mapObject:e,chart:this,event:i}),this.previouslyHovered=e}}},longitudeToX:function(e){return(this.longitudeToCoordinate(e)+this.diffX*this.mapScale)*this.zoomLevel()+this.mapContainer.x},latitudeToY:function(e){return(this.latitudeToCoordinate(e)+this.diffY*this.mapScale)*this.zoomLevel()+this.mapContainer.y},latitudeToStageY:function(e){return this.latitudeToCoordinate(e)*this.zoomLevel()+this.mapContainer.y+this.diffY*this.mapScale},longitudeToStageX:function(e){return this.longitudeToCoordinate(e)*this.zoomLevel()+this.mapContainer.x+this.diffX*this.mapScale},stageXToLongitude:function(e){return e=(e-this.mapContainer.x)/this.zoomLevel(),this.coordinateToLongitude(e)},stageYToLatitude:function(e){return e=(e-this.mapContainer.y)/this.zoomLevel(),this.coordinateToLatitude(e)},rollOutMapObject:function(e,t){this.hideBalloon(),e&&this.chartCreated&&e.isOver&&(this.checkIfSelected(e)||this.returnInitialColor(e),this.fire({type:"rollOutMapObject",mapObject:e,chart:this,event:t}))},formatString:function(t,i){var a=this.nf,s=this.pf,o=i.title;i.titleTr&&(o=i.titleTr),void 0==o&&(o="");var n=i.value,n=isNaN(n)?"":e.formatNumber(n,a),a=i.percents,a=isNaN(a)?"":e.formatNumber(a,s),s=i.description;void 0==s&&(s="");var r=i.customData;return void 0==r&&(r=""),t=e.massReplace(t,{"[[title]]":o,"[[value]]":n,"[[percent]]":a,"[[description]]":s,"[[customData]]":r})},mouseDownMapObject:function(e,t){this.fire({type:"mouseDownMapObject",mapObject:e,chart:this,event:t})},clickMapObject:function(e,t){var i=this;if(t&&(t.touches||isNaN(e.zoomLevel)&&isNaN(e.zoomX)&&isNaN(e.zoomY)||i.hideBalloon()),i.chartCreated&&!i.preventHover&&i.checkTouchDuration(t)&&!i.mapWasDragged&&i.checkIfClickable(e)&&!i.mapWasPinched){i.selectObject(e);var a=i.zoomLevel(),s=i.mapSet.getBBox(),a=i.xyToCoordinates((i.mouseX-i.mapContainer.x)/a-s.x*i.mapScale,(i.mouseY-i.mapContainer.y)/a-s.y*i.mapScale);i.clickLatitude=a.latitude,i.clickLongitude=a.longitude,t&&t.touches&&setTimeout(function(){i.showBalloonAfterZoom.call(i)},1e3*i.zoomDuration),i.fire({type:"clickMapObject",mapObject:e,chart:i,event:t}),i.objectWasClicked=!0}},showBalloonAfterZoom:function(){var e=this.clickLongitude,t=this.clickLatitude,i=this.selectedObject;"MapImage"!=i.objectType||isNaN(i.longitude)||(e=i.longitude,t=i.latitude),e=this.coordinatesToStageXY(e,t),this.balloonX=e.x,this.balloonY=e.y,this.rollOverMapObject(this.selectedObject,!0)},checkIfClickable:function(e){var t=this.allowClickOnSelectedObject;return this.selectedObject==e&&t?!0:(this.selectedObject!=e||t)&&(!0===e.selectable||"MapArea"==e.objectType&&e.autoZoomReal||e.url||e.linkToObject||0<e.images.length||0<e.lines.length||!isNaN(e.zoomLevel)||!isNaN(e.zoomX)||!isNaN(e.zoomY)||e.description)?!0:!1},resizeMap:function(){var e=this.mapSet;if(e){var t=1,i=e.getBBox(),a=this.realWidth,s=this.realHeight,o=i.width,i=i.height;o>0&&i>0&&(this.fitMapToContainer&&(t=o/a>i/s?a/o:s/i),e.translate(0,0,t,!0),this.mapScale=t,this.mapHeight=i*t,this.mapWidth=o*t)}},zoomIn:function(){var e=this.zoomLevel()*this.zoomControl.zoomFactor;this.zoomTo(e)},zoomOut:function(){var e=this.zoomLevel()/this.zoomControl.zoomFactor;this.zoomTo(e)},moveLeft:function(){var e=this.zoomX()+this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),e,this.zoomY())},moveRight:function(){var e=this.zoomX()-this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),e,this.zoomY())},moveUp:function(){var e=this.zoomY()+this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),this.zoomX(),e)},moveDown:function(){var e=this.zoomY()-this.zoomControl.panStepSize;this.zoomTo(this.zoomLevel(),this.zoomX(),e)},zoomX:function(){return this.mapSet?Math.round(1e4*this.mapContainer.x/this.mapWidth)/1e4:NaN},zoomY:function(){return this.mapSet?Math.round(1e4*this.mapContainer.y/this.mapHeight)/1e4:NaN},goHome:function(){this.selectObject(this.dataProvider),this.fire({type:"homeButtonClicked",chart:this})},zoomLevel:function(){return Math.round(1e5*this.mapContainer.scale)/1e5},showDescriptionAndGetUrl:function(){var t=this.selectedObject;if(t){this.showDescription();var i=t.url;if(i)e.getURL(i,t.urlTarget);else if(i=t.linkToObject){if(e.isString(i)){var a=this.getObjectById(i);if(a)return void this.selectObject(a)}i&&t.passZoomValuesToTarget&&(i.zoomLatitude=this.zoomLatitude(),i.zoomLongitude=this.zoomLongitude(),i.zoomLevel=this.zoomLevel()),this.extendMapData(i)||this.selectObject(i)}}},extendMapData:function(t){var i=t.objectType;return"MapImage"!=i&&"MapArea"!=i&&"MapLine"!=i?(e.extend(t,new e.MapData,!0),this.dataProvider=t,this.zoomInstantly=!0,this.validateData(),!0):void 0},showDescription:function(t){if(t||(t=this.selectedObject),this.allowMultipleDescriptionWindows||this.closeAllDescriptions(),t.description){var i=t.descriptionWindow;i&&i.close(),i=new e.DescriptionWindow,t.descriptionWindow=i;var a=t.descriptionWindowWidth,s=t.descriptionWindowHeight,o=t.descriptionWindowLeft,n=t.descriptionWindowTop,r=t.descriptionWindowRight,l=t.descriptionWindowBottom;isNaN(r)||(o=this.realWidth-r),isNaN(l)||(n=this.realHeight-l);var c=t.descriptionWindowX;isNaN(c)||(o=c),c=t.descriptionWindowY,isNaN(c)||(n=c),isNaN(o)&&(o=this.mouseX,o=o>this.realWidth/2?o-a-20:o+20),isNaN(n)&&(n=this.mouseY),i.maxHeight=s,c=t.title,t.titleTr&&(c=t.titleTr),i.show(this,this.descriptionsDiv,t.description,c),t=i.div.style,t.position="absolute",t.width=a+"px",t.maxHeight=s+"px",isNaN(l)||(n-=i.div.offsetHeight),isNaN(r)||(o-=i.div.offsetWidth),t.left=o+"px",t.top=n+"px"}},parseXMLObject:function(e){var t={root:{}};this.parseXMLNode(t,"root",e),this.svgData=t.root.svg,this.getBounds()},getBounds:function(){var e=this.dataProvider;try{var t=this.svgData.defs["amcharts:ammap"];e.leftLongitude=Number(t.leftLongitude),e.rightLongitude=Number(t.rightLongitude),e.topLatitude=Number(t.topLatitude),e.bottomLatitude=Number(t.bottomLatitude),e.projection=t.projection;var i=t.wrappedLongitudes;i&&(e.rightLongitude+=360),e.wrappedLongitudes=i}catch(a){}},recalcLongitude:function(e){return this.dataProvider.wrappedLongitudes&&e<this.dataProvider.leftLongitude?Number(e)+360:e},latitudeToCoordinate:function(e){var t,i=this.dataProvider;if(this.mapSet){t=i.topLatitude;var a=i.bottomLatitude;"mercator"==i.projection&&(e=this.mercatorLatitudeToCoordinate(e),t=this.mercatorLatitudeToCoordinate(t),a=this.mercatorLatitudeToCoordinate(a)),t=(e-t)/(a-t)*this.mapHeight}return t},longitudeToCoordinate:function(e){e=this.recalcLongitude(e);var t,i=this.dataProvider;return this.mapSet&&(t=i.leftLongitude,t=(e-t)/(i.rightLongitude-t)*this.mapWidth),t},mercatorLatitudeToCoordinate:function(t){return t>89.5&&(t=89.5),-89.5>t&&(t=-89.5),t=e.degreesToRadians(t),e.radiansToDegrees(.5*Math.log((1+Math.sin(t))/(1-Math.sin(t)))/2)},zoomLatitude:function(){if(this.mapContainer){var e=this.mapSet.getBBox(),t=(-this.mapContainer.x+this.previousWidth/2)/this.zoomLevel()-e.x*this.mapScale,e=(-this.mapContainer.y+this.previousHeight/2)/this.zoomLevel()-e.y*this.mapScale;return this.xyToCoordinates(t,e).latitude}},zoomLongitude:function(){if(this.mapContainer){var e=this.mapSet.getBBox(),t=(-this.mapContainer.x+this.previousWidth/2)/this.zoomLevel()-e.x*this.mapScale,e=(-this.mapContainer.y+this.previousHeight/2)/this.zoomLevel()-e.y*this.mapScale;return this.xyToCoordinates(t,e).longitude}},getAreaCenterLatitude:function(e){e=e.displayObject.getBBox();var t=this.mapScale,i=this.mapSet.getBBox();return this.xyToCoordinates((e.x+e.width/2+this.diffX)*t-i.x*t,(e.y+e.height/2+this.diffY)*t-i.y*t).latitude},getAreaCenterLongitude:function(e){e=e.displayObject.getBBox();var t=this.mapScale,i=this.mapSet.getBBox();return this.xyToCoordinates((e.x+e.width/2+this.diffX)*t-i.x*t,(e.y+e.height/2+this.diffY)*t-i.y*t).longitude},milesToPixels:function(e){var t=this.dataProvider;return this.mapWidth/(t.rightLongitude-t.leftLongitude)*e/69.172},kilometersToPixels:function(e){var t=this.dataProvider;return this.mapWidth/(t.rightLongitude-t.leftLongitude)*e/111.325},handleBackgroundClick:function(){if(this.backgroundZoomsToTop&&!this.mapWasDragged){var e=this.dataProvider;if(this.checkIfClickable(e))this.clickMapObject(e);else{var t=e.zoomX,i=e.zoomY,a=e.zoomLongitude,s=e.zoomLatitude,e=e.zoomLevel;isNaN(t)||isNaN(i)||this.zoomTo(e,t,i),isNaN(a)||isNaN(s)||this.zoomToLongLat(e,a,s,!0)}}},parseXMLNode:function(e,t,i,a){void 0===a&&(a="");var s,o,n;if(i){var r=i.childNodes.length;for(s=0;r>s;s++){o=i.childNodes[s];var l=o.nodeName,c=o.nodeValue?this.trim(o.nodeValue):"",d=!1;if(o.attributes&&0<o.attributes.length&&(d=!0),0!==o.childNodes.length||""!==c||!1!==d)if(3==o.nodeType||4==o.nodeType){if(""!==c){o=0;for(n in e[t])e[t].hasOwnProperty(n)&&o++;o?e[t]["#text"]=c:e[t]=c}}else if(1==o.nodeType){var h;if(void 0!==e[t][l]?void 0===e[t][l].length?(h=e[t][l],e[t][l]=[],e[t][l].push(h),e[t][l].push({}),h=e[t][l][1]):"object"==typeof e[t][l]&&(e[t][l].push({}),h=e[t][l][e[t][l].length-1]):(e[t][l]={},h=e[t][l]),o.attributes&&o.attributes.length)for(c=0;c<o.attributes.length;c++)h[o.attributes[c].name]=o.attributes[c].value;void 0!==e[t][l].length?this.parseXMLNode(e[t][l],e[t][l].length-1,o,a+"  "):this.parseXMLNode(e[t],l,o,a+"  ")}}o=0,i="";for(n in e[t])"#text"==n?i=e[t][n]:o++;0===o&&void 0===e[t].length&&(e[t]=i)}},doDoubleClickZoom:function(){if(!this.mapWasDragged){var e=this.zoomLevel()*this.zoomControl.zoomFactor;this.zoomToStageXY(e,this.mouseX,this.mouseY)}},getDevInfo:function(){var e=this.zoomLevel(),t=this.mapSet.getBBox(),t=this.xyToCoordinates((this.mouseX-this.mapContainer.x)/e-t.x*this.mapScale,(this.mouseY-this.mapContainer.y)/e-t.y*this.mapScale),e={chart:this,type:"writeDevInfo",zoomLevel:e,zoomX:this.zoomX(),zoomY:this.zoomY(),zoomLatitude:this.zoomLatitude(),zoomLongitude:this.zoomLongitude(),latitude:t.latitude,longitude:t.longitude,left:this.mouseX,top:this.mouseY,right:this.realWidth-this.mouseX,bottom:this.realHeight-this.mouseY,percentLeft:Math.round(this.mouseX/this.realWidth*100)+"%",percentTop:Math.round(this.mouseY/this.realHeight*100)+"%",percentRight:Math.round((this.realWidth-this.mouseX)/this.realWidth*100)+"%",percentBottom:Math.round((this.realHeight-this.mouseY)/this.realHeight*100)+"%"},t="zoomLevel:"+e.zoomLevel+", zoomLongitude:"+e.zoomLongitude+", zoomLatitude:"+e.zoomLatitude+"\n",t=t+("zoomX:"+e.zoomX+", zoomY:"+e.zoomY+"\n"),t=t+("latitude:"+e.latitude+", longitude:"+e.longitude+"\n"),t=t+("left:"+e.left+", top:"+e.top+"\n"),t=t+("right:"+e.right+", bottom:"+e.bottom+"\n"),t=t+("left:"+e.percentLeft+", top:"+e.percentTop+"\n"),t=t+("right:"+e.percentRight+", bottom:"+e.percentBottom+"\n");
return e.str=t,this.fire(e),e},getXY:function(e,t,i){return void 0!==e&&(-1!=String(e).indexOf("%")?(e=Number(e.split("%").join("")),i&&(e=100-e),e=Number(e)*t/100):i&&(e=t-e)),e},getObjectById:function(e){var t=this.dataProvider;if(t.areas){var i=this.getObject(e,t.areas);if(i)return i}return(i=this.getObject(e,t.images))?i:(e=this.getObject(e,t.lines))?e:void 0},getObject:function(e,t){if(t){var i;for(i=0;i<t.length;i++){var a=t[i];if(a.id==e)return a;if(a.areas){var s=this.getObject(e,a.areas);if(s)return s}if(s=this.getObject(e,a.images))return s;if(a=this.getObject(e,a.lines))return a}}},parseData:function(){var e=this.dataProvider;this.processObject(e.areas,e,"area"),this.processObject(e.images,e,"image"),this.processObject(e.lines,e,"line")},processObject:function(t,i,a){if(t){var s;for(s=0;s<t.length;s++){var o=t[s];o.parentObject=i,"area"==a&&e.extend(o,new e.MapArea(this.theme),!0),"image"==a&&(o=e.extend(o,new e.MapImage(this.theme),!0)),"line"==a&&(o=e.extend(o,new e.MapLine(this.theme),!0)),t[s]=o,o.areas&&this.processObject(o.areas,o,"area"),o.images&&this.processObject(o.images,o,"image"),o.lines&&this.processObject(o.lines,o,"line")}}},positionChanged:function(){var e={type:"positionChanged",zoomX:this.zoomX(),zoomY:this.zoomY(),zoomLevel:this.zoomLevel(),chart:this};this.fire(e)},getX:function(e,t){return this.getXY(e,this.realWidth,t)},getY:function(e,t){return this.getXY(e,this.realHeight,t)},trim:function(e){if(e){var t;for(t=0;t<e.length;t++)if(-1===" \n\r	\f\u2028\u2029".indexOf(e.charAt(t))){e=e.substring(t);break}for(t=e.length-1;t>=0;t--)if(-1===" \n\r	\f\u2028\u2029".indexOf(e.charAt(t))){e=e.substring(0,t+1);break}return-1===" \n\r	\f\u2028\u2029".indexOf(e.charAt(0))?e:""}},destroy:function(){e.AmMap.base.destroy.call(this)},x2c:function(e){var t=this.dataProvider.leftLongitude;return Math.round(this.unscaledMapWidth*(e-t)/(this.dataProvider.rightLongitude-t)*100)/100},y2c:function(e){var t=this.dataProvider.topLatitude;return Math.round(this.unscaledMapHeight*(e-t)/(this.dataProvider.bottomLatitude-t)*100)/100},normalize:function(t){if(!t.pathsArray){var i;if(t.normalized)i=t.normalized;else{var a=e.normalizePath(t.node);i=t.node.getAttribute("d"),t.normalized=i,a.maxX>this.maxMapX&&(this.maxMapX=a.maxX),a.minX<this.minMapX&&(this.minMapX=a.minX),a.maxY>this.maxMapY&&(this.maxMapY=a.maxY),a.minY<this.minMapY&&(this.minMapY=a.minY)}t.node.setAttribute("d",i)}},redraw:function(e){var t=e.normalized,t=t.split(" Z").join(""),t=t.split("M");e.pathsArray=[];for(var i=0;i<t.length;i++){var a=t[i];if(a){for(var a=a.split("L"),s=[],o=0;o<a.length;o++)if(a[o]){var n=a[o].split(" "),n=this.xyToCoordinates(Number(n[1]),Number(n[2]),this.dpProjectionFunction,this.sourceMapWidth,this.sourceMapHeight);s.push([n.longitude,n.latitude])}e.pathsArray.push(s)}}for(t="",i=0;i<e.pathsArray.length;i++)t+=this.redrawArea(e.pathsArray[i]);e.node.setAttribute("d",t),e.path=t},redrawArea:function(t){for(var i=!1,a="",s=0;s<t.length;s++){var o=t[s][0],n=t[s][1],r=e.degreesToRadians(t[s][0]),l=e.degreesToRadians(t[s][1]),l=this.projectionFunction(r,l),r=e.roundTo(this.x2c(e.radiansToDegrees(l[0])),3),l=e.roundTo(this.y2c(e.radiansToDegrees(l[1])),3);r<this.minMapXX&&(this.minMapXX=r,this.leftLongLat={longitude:o,latitude:n}),r>this.maxMapXX&&(this.maxMapXX=r,this.rightLongLat={longitude:o,latitude:n}),l<this.minMapYY&&(this.minMapYY=l,this.topLongLat={longitude:o,latitude:n}),l>this.maxMapYY&&(this.maxMapYY=l,this.bottomLongLat={longitude:o,latitude:n}),i?a+=" L ":(a+=" M ",i=!0),a+=r+" "+l}return a+" Z "},normalizeMap:function(){var t=e.degreesToRadians(this.dataProvider.leftLongitude),i=e.degreesToRadians(this.dataProvider.rightLongitude),a=e.degreesToRadians(this.dataProvider.topLatitude),s=e.degreesToRadians(this.dataProvider.bottomLatitude),o=t+(i-t)/2,n=a+(s-a)/2,r=this.dpProjectionFunction(o,a)[1],l=this.dpProjectionFunction(o,s)[1],c=this.dpProjectionFunction(t,n)[0],d=this.dpProjectionFunction(i,n)[0],a=e.equirectangular(o,a),s=e.equirectangular(o,s),r=(a[1]-s[1])/(r-l),t=e.equirectangular(t,n),i=e.equirectangular(i,n),c=(t[0]-i[0])/(c-d);for(this.minMapX=1/0,this.maxMapX=-(1/0),this.minMapY=1/0,this.maxMapY=-(1/0),d=0;d<this.svgAreas.length;d++)this.normalize(this.svgAreas[d]);if(this.dataProvider.wrappedLongitudes)for(d=0;d<this.svgAreas.length;d++)this.svgAreas[d].translate(-this.minMapX,-this.minMapY);this.sourceMapHeight=Math.abs(this.maxMapY-this.minMapY),this.sourceMapWidth=Math.abs(this.maxMapX-this.minMapX),this.unscaledMapWidth=this.sourceMapWidth*c,this.unscaledMapHeight=this.sourceMapHeight*r,this.diffY=this.diffX=0},fixMapPosition:function(){var t=e.degreesToRadians(this.dataProvider.leftLongitude),i=e.degreesToRadians(this.dataProvider.rightLongitude),a=e.degreesToRadians(this.dataProvider.topLatitude),s=e.degreesToRadians(this.dataProvider.bottomLatitude),o=t+(i-t)/2,n=a+(s-a)/2,r=this.dpProjectionFunction(o,a)[1],l=this.dpProjectionFunction(o,s)[1],c=this.dpProjectionFunction(t,n)[0],d=this.dpProjectionFunction(i,n)[0];for(this.sourceMapHeight=this.mapHeight/this.mapScale,this.sourceMapWidth=this.mapWidth/this.mapScale,this.unscaledMapWidth=(t-i)/(c-d)*this.sourceMapWidth,this.unscaledMapHeight=(a-s)/(r-l)*this.sourceMapHeight,i=this.coordinatesToXY(e.radiansToDegrees(o),e.radiansToDegrees(a)),t=this.coordinatesToXY(e.radiansToDegrees(t),e.radiansToDegrees(n)),a=n=1/0,s=0;s<this.svgAreas.length;s++)o=this.svgAreas[s].getBBox(),o.y<n&&(n=o.y),o.x<a&&(a=o.x);for(this.diffY=i.y/this.mapScale-n,this.diffX=t.x/this.mapScale-a,s=0;s<this.svgAreas.length;s++)this.svgAreas[s].translate(this.diffX,this.diffY)},changeProjection:function(){this.minMapXX=1/0,this.maxMapXX=-(1/0),this.minMapYY=1/0,this.maxMapYY=-(1/0),this.projectionChanged=!1;for(var e=0;e<this.svgAreas.length;e++)this.redraw(this.svgAreas[e]);this.projectionChanged=!0,this.resizeMap()},coordinatesToXY:function(t,i){var a,s;return a=!1,this.dataProvider&&(a=this.dataProvider.wrappedLongitudes)&&(t=this.recalcLongitude(t)),this.projectionFunction?(s=this.projectionFunction(e.degreesToRadians(t),e.degreesToRadians(i)),a=this.mapScale*e.roundTo(this.x2c(e.radiansToDegrees(s[0])),3),s=this.mapScale*e.roundTo(this.y2c(e.radiansToDegrees(s[1])),3)):(a=this.longitudeToCoordinate(t),s=this.latitudeToCoordinate(i)),{x:a,y:s}},coordinatesToStageXY:function(e,t){var i=this.coordinatesToXY(e,t),a=i.x*this.zoomLevel()+this.mapContainer.x,i=i.y*this.zoomLevel()+this.mapContainer.y;return{x:a,y:i}},stageXYToCoordinates:function(e,t){var i=this.mapSet.getBBox(),a=(e-this.mapContainer.x)/this.zoomLevel()-i.x*this.mapScale,i=(t-this.mapContainer.y)/this.zoomLevel()-i.y*this.mapScale;return this.xyToCoordinates(a,i)},xyToCoordinates:function(t,i,a,s,o){var n;if(isNaN(s)&&(s=this.mapWidth),isNaN(o)&&(o=this.mapHeight),a||(a=this.projectionFunction),n=a.invert){var r=this.dataProvider.leftLongitude,l=this.dataProvider.rightLongitude,c=this.dataProvider.topLatitude,d=this.dataProvider.bottomLatitude,h=r+(l-r)/2,u=c+(d-c)/2,c=e.radiansToDegrees(a(e.degreesToRadians(h),e.degreesToRadians(c))[1]),d=e.radiansToDegrees(a(e.degreesToRadians(h),e.degreesToRadians(d))[1]),r=e.radiansToDegrees(a(e.degreesToRadians(r),e.degreesToRadians(u))[0]),l=e.radiansToDegrees(a(e.degreesToRadians(l),e.degreesToRadians(u))[0]);this.projectionChanged&&(c=e.radiansToDegrees(a(e.degreesToRadians(this.topLongLat.longitude),e.degreesToRadians(this.topLongLat.latitude))[1]),d=e.radiansToDegrees(a(e.degreesToRadians(this.bottomLongLat.longitude),e.degreesToRadians(this.bottomLongLat.latitude))[1]),r=e.radiansToDegrees(a(e.degreesToRadians(this.leftLongLat.longitude),e.degreesToRadians(this.leftLongLat.latitude))[0]),l=e.radiansToDegrees(a(e.degreesToRadians(this.rightLongLat.longitude),e.degreesToRadians(this.rightLongLat.latitude))[0])),t=e.degreesToRadians(t/s*(l-r)+r),i=e.degreesToRadians(i/o*(d-c)+c),i=n(t,i),n=e.radiansToDegrees(i[0]),i=e.radiansToDegrees(i[1])}else n=this.coordinateToLongitude(t),i=this.coordinateToLatitude(i);return{longitude:e.roundTo(n,4),latitude:e.roundTo(i,4)}},coordinateToLatitude:function(t,i){var a;if(void 0===i&&(i=this.mapHeight),this.mapSet){var s=this.dataProvider,o=s.bottomLatitude;a=s.topLatitude,"mercator"==s.projection?(s=this.mercatorLatitudeToCoordinate(o),a=this.mercatorLatitudeToCoordinate(a),a=2*e.degreesToRadians(t*(s-a)/i+a),a=e.radiansToDegrees(2*Math.atan(Math.exp(a))-.5*Math.PI)):a=t/i*(o-a)+a}return Math.round(1e6*a)/1e6},coordinateToLongitude:function(e,t){var i,a=this.dataProvider;return void 0===t&&(t=this.mapWidth),this.mapSet&&(i=e/t*(a.rightLongitude-a.leftLongitude)+a.leftLongitude),Math.round(1e6*i)/1e6}})}(),function(){var e=window.AmCharts;e.ZoomControl=e.Class({construct:function(t){this.cname="ZoomControl",this.panStepSize=.1,this.zoomFactor=2,this.maxZoomLevel=64,this.minZoomLevel=1,this.panControlEnabled=!1,this.zoomControlEnabled=!0,this.buttonRollOverColor="#DADADA",this.buttonFillColor="#FFFFFF",this.buttonFillAlpha=1,this.buttonBorderColor="#000000",this.buttonBorderAlpha=.1,this.buttonIconAlpha=this.buttonBorderThickness=1,this.gridColor=this.buttonIconColor="#000000",this.homeIconFile="homeIcon.gif",this.gridBackgroundColor="#000000",this.draggerAlpha=this.gridAlpha=this.gridBackgroundAlpha=0,this.draggerSize=this.buttonSize=31,this.iconSize=11,this.homeButtonEnabled=!0,this.buttonCornerRadius=2,this.gridHeight=5,this.roundButtons=!0,this.top=this.left=10,e.applyTheme(this,t,this.cname)},init:function(t,i){var a=this;a.chart=t,e.remove(a.set);var s=i.set();e.setCN(t,s,"zoom-control");var o=a.buttonSize,n=a.zoomControlEnabled,r=a.panControlEnabled,l=a.buttonFillColor,c=a.buttonFillAlpha,d=a.buttonBorderThickness,h=a.buttonBorderColor,u=a.buttonBorderAlpha,p=a.buttonCornerRadius,m=a.buttonRollOverColor,g=a.gridHeight,v=a.zoomFactor,f=a.minZoomLevel,b=a.maxZoomLevel,y=a.buttonIconAlpha,x=a.buttonIconColor,w=a.roundButtons,L=t.svgIcons,S=t.getX(a.left),C=t.getY(a.top);isNaN(a.right)||(S=t.getX(a.right,!0),S=r?S-3*o:S-o),isNaN(a.bottom)||(C=t.getY(a.bottom,!0),n&&(C-=g+3*o),C=r?C-3*o:a.homeButtonEnabled?C-.5*o:C+o),s.translate(S,C),a.previousDY=NaN;var N,S=o/4-1;if(n){N=i.set(),e.setCN(t,N,"zoom-control-zoom"),s.push(N),a.set=s,a.zoomSet=N,g>5&&(n=e.rect(i,o+6,g+2*o+6,a.gridBackgroundColor,a.gridBackgroundAlpha,0,"#000000",0,4),e.setCN(t,n,"zoom-bg"),n.translate(-3,-3),n.mouseup(function(){a.handleBgUp()}).touchend(function(){a.handleBgUp()}),N.push(n));var A=o;w&&(A=o/1.5),a.draggerSize=A;var k=Math.log(b/f)/Math.log(v)+1;k>1e3&&(k=1e3);var T,n=g/k,M=i.set();for(M.translate((o-A)/2+1,1,NaN,!0),N.push(M),T=1;k>T;T++)C=o+T*n,C=e.line(i,[1,A-2],[C,C],a.gridColor,a.gridAlpha,1),e.setCN(t,C,"zoom-grid"),M.push(C);C=new e.SimpleButton,C.setDownHandler(a.draggerDown,a),C.setClickHandler(a.draggerUp,a),C.init(i,A,n,l,c,d,h,u,p,m),e.setCN(t,C.set,"zoom-dragger"),N.push(C.set),C.set.setAttr("opacity",a.draggerAlpha),a.dragger=C.set,a.previousY=NaN,C=new e.SimpleButton,L?(A=i.set(),k=e.line(i,[-S,S],[0,0],x,y,1),T=e.line(i,[0,0],[-S,S],x,y,1),A.push(k),A.push(T),C.svgIcon=A):C.setIcon(t.pathToImages+"plus.gif",a.iconSize),C.setClickHandler(t.zoomIn,t),C.init(i,o,o,l,c,d,h,u,p,m,y,x,w),e.setCN(t,C.set,"zoom-in"),N.push(C.set),C=new e.SimpleButton,L?C.svgIcon=e.line(i,[-S,S],[0,0],x,y,1):C.setIcon(t.pathToImages+"minus.gif",a.iconSize),C.setClickHandler(t.zoomOut,t),C.init(i,o,o,l,c,d,h,u,p,m,y,x,w),C.set.translate(0,g+o),e.setCN(t,C.set,"zoom-out"),N.push(C.set),g-=n,b=Math.log(b/100)/Math.log(v),a.realStepSize=g/(b-Math.log(f/100)/Math.log(v)),a.realGridHeight=g,a.stepMax=b}r&&(r=i.set(),e.setCN(t,r,"zoom-control-pan"),s.push(r),N&&N.translate(o,4*o),v=new e.SimpleButton,L?v.svgIcon=e.line(i,[S/5,-S+S/5,S/5],[-S,0,S],x,y,1):v.setIcon(t.pathToImages+"panLeft.gif",a.iconSize),v.setClickHandler(t.moveLeft,t),v.init(i,o,o,l,c,d,h,u,p,m,y,x,w),v.set.translate(0,o),e.setCN(t,v.set,"pan-left"),r.push(v.set),v=new e.SimpleButton,L?v.svgIcon=e.line(i,[-S/5,S-S/5,-S/5],[-S,0,S],x,y,1):v.setIcon(t.pathToImages+"panRight.gif",a.iconSize),v.setClickHandler(t.moveRight,t),v.init(i,o,o,l,c,d,h,u,p,m,y,x,w),v.set.translate(2*o,o),e.setCN(t,v.set,"pan-right"),r.push(v.set),v=new e.SimpleButton,L?v.svgIcon=e.line(i,[-S,0,S],[S/5,-S+S/5,S/5],x,y,1):v.setIcon(t.pathToImages+"panUp.gif",a.iconSize),v.setClickHandler(t.moveUp,t),v.init(i,o,o,l,c,d,h,u,p,m,y,x,w),v.set.translate(o,0),e.setCN(t,v.set,"pan-up"),r.push(v.set),v=new e.SimpleButton,L?v.svgIcon=e.line(i,[-S,0,S],[-S/5,S-S/5,-S/5],x,y,1):v.setIcon(t.pathToImages+"panDown.gif",a.iconSize),v.setClickHandler(t.moveDown,t),v.init(i,o,o,l,c,d,h,u,p,m,y,x,w),v.set.translate(o,2*o),e.setCN(t,v.set,"pan-down"),r.push(v.set),s.push(r)),a.homeButtonEnabled&&(r=new e.SimpleButton,L?r.svgIcon=e.polygon(i,[-S,0,S,S-1,S-1,2,2,-2,-2,-S+1,-S+1],[0,-S,0,0,S-1,S-1,2,2,S-1,S-1,0],x,y,1,x,y):r.setIcon(t.pathToImages+a.homeIconFile,a.iconSize),r.setClickHandler(t.goHome,t),a.panControlEnabled&&(u=c=0),r.init(i,o,o,l,c,d,h,u,p,m,y,x,w),a.panControlEnabled?r.set.translate(o,o):N&&N.translate(0,1.5*o),e.setCN(t,r.set,"pan-home"),s.push(r.set)),a.update()},draggerDown:function(){this.chart.stopDrag(),this.isDragging=!0},draggerUp:function(){this.isDragging=!1},handleBgUp:function(){var e=this.chart;e.zoomTo(100*Math.pow(this.zoomFactor,this.stepMax-(e.mouseY-this.zoomSet.y-this.set.y-this.buttonSize-this.realStepSize/2)/this.realStepSize))},update:function(){var t;t=this.zoomFactor;var i,a=this.realStepSize,s=this.stepMax,o=this.dragger,n=this.buttonSize,r=this.chart;r&&(this.isDragging?(r.stopDrag(),i=o.y+(r.mouseY-this.previousY),i=e.fitToBounds(i,n,this.realGridHeight+n),r.zoomTo(100*Math.pow(t,s-(i-n)/a),NaN,NaN,!0)):(t=Math.log(r.zoomLevel()/100)/Math.log(t),i=(s-t)*a+n),this.previousY=r.mouseY,this.previousDY!=i&&o&&(o.translate((this.buttonSize-this.draggerSize)/2,i),this.previousDY=i))}})}(),function(){var e=window.AmCharts;e.SimpleButton=e.Class({construct:function(){},init:function(t,i,a,s,o,n,r,l,c,d,h,u,p){var m=this;m.rollOverColor=d,m.color=s,m.container=t,d=t.set(),m.set=d,p?(i/=2,s=e.circle(t,i,s,o,n,r,l),s.translate(i,i)):s=e.rect(t,i,a,s,o,n,r,l,c),d.push(s),o=m.iconPath;var g;o&&(g=m.iconSize,n=(i-g)/2,p&&(n=(2*i-g)/2),g=t.image(o,n,(a-g)/2,g,g)),m.svgIcon&&(g=m.svgIcon,p?g.translate(i,i):g.translate(i/2,i/2)),d.setAttr("cursor","pointer"),g&&(d.push(g),g.setAttr("opacity",h),g.node.style.pointerEvents="none"),s.mousedown(function(){m.handleDown()}).touchstart(function(){m.handleDown()}).mouseup(function(){m.handleUp()}).touchend(function(){m.handleUp()}).mouseover(function(){m.handleOver()}).mouseout(function(){m.handleOut()}),m.bg=s},setIcon:function(e,t){this.iconPath=e,this.iconSize=t},setClickHandler:function(e,t){this.clickHandler=e,this.scope=t},setDownHandler:function(e,t){this.downHandler=e,this.scope=t},handleUp:function(){var e=this.clickHandler;e&&e.call(this.scope)},handleDown:function(){var e=this.downHandler;e&&e.call(this.scope)},handleOver:function(){this.container.chart.skipClick=!0,this.bg.setAttr("fill",this.rollOverColor)},handleOut:function(){this.container.chart.skipClick=!1,this.bg.setAttr("fill",this.color)}})}(),function(){var e=window.AmCharts;e.SmallMap=e.Class({construct:function(t){this.cname="SmallMap",this.mapColor="#e6e6e6",this.rectangleColor="#FFFFFF",this.top=this.right=10,this.minimizeButtonWidth=23,this.backgroundColor="#9A9A9A",this.backgroundAlpha=1,this.borderColor="#FFFFFF",this.iconColor="#000000",this.borderThickness=3,this.borderAlpha=1,this.size=.2,this.enabled=!0,e.applyTheme(this,t,this.cname)},init:function(t,i){var a=this;if(a.enabled){a.chart=t,a.container=i,a.width=t.realWidth*a.size,a.height=t.realHeight*a.size,e.remove(a.mapSet),e.remove(a.allSet),e.remove(a.set);var s=i.set();a.set=s,e.setCN(t,s,"small-map");var o=i.set();a.allSet=o,s.push(o),a.buildSVGMap();var n=a.borderThickness,r=a.borderColor,l=e.rect(i,a.width+n,a.height+n,a.backgroundColor,a.backgroundAlpha,n,r,a.borderAlpha);e.setCN(t,l,"small-map-bg"),l.translate(-n/2,-n/2),o.push(l),l.toBack();var c,d,l=a.minimizeButtonWidth,h=new e.SimpleButton,u=l/2;t.svgIcons?h.svgIcon=e.line(i,[-u/2,0,u/2],[-u/4,u/4,-u/4],a.iconColor,1,1):h.setIcon(t.pathToImages+"arrowDown.gif",l),h.setClickHandler(a.minimize,a),h.init(i,l,l,r,1,1,r,1),e.setCN(t,h.set,"small-map-down"),h=h.set,a.downButtonSet=h,s.push(h);var p=new e.SimpleButton;t.svgIcons?p.svgIcon=e.line(i,[-u/2,0,u/2],[u/4,-u/4,u/4],a.iconColor,1,1):p.setIcon(t.pathToImages+"arrowUp.gif",l),p.setClickHandler(a.maximize,a),p.init(i,l,l,r,1,1,r,1),e.setCN(t,p.set,"small-map-up"),r=p.set,a.upButtonSet=r,r.hide(),s.push(r);var m,g;isNaN(a.top)||(c=t.getY(a.top)+n,g=0),isNaN(a.bottom)||(c=t.getY(a.bottom,!0)-a.height-n,g=a.height-l+n/2),isNaN(a.left)||(d=t.getX(a.left)+n,m=-n/2),isNaN(a.right)||(d=t.getX(a.right,!0)-a.width-n,m=a.width-l+n/2),n=i.set(),n.clipRect(1,1,a.width,a.height),o.push(n),a.rectangleC=n,s.translate(d,c),h.translate(m,g),r.translate(m,g),o.mouseup(function(){a.handleMouseUp()}),a.drawRectangle()}else e.remove(a.allSet),e.remove(a.downButtonSet),e.remove(a.upButtonSet)},minimize:function(){this.downButtonSet.hide(),this.upButtonSet.show(),this.allSet.hide()},maximize:function(){this.downButtonSet.show(),this.upButtonSet.hide(),this.allSet.show()},buildSVGMap:function(){var t=this.chart,i={fill:this.mapColor,stroke:this.mapColor,"stroke-opacity":1},a=this.container,s=a.set();e.setCN(t,s,"small-map-image");var o;for(o=0;o<t.svgAreas.length;o++){var n=a.path(t.svgAreas[o].path).attr(i);s.push(n)}this.allSet.push(s),i=s.getBBox(),a=this.size*t.mapScale,o=-i.x*a;var n=-i.y*a,r=0,l=0;t.centerMap&&(r=(this.width-i.width*a)/2,l=(this.height-i.height*a)/2),this.mapWidth=i.width*a,this.mapHeight=i.height*a,o+=r,n+=l,this.dx=r,this.dy=l,s.translate(o,n,a),this.mapSet=s,this.mapX=o,this.mapY=n},update:function(){var e=this.chart;if(e){var t=e.zoomLevel(),i=this.width,a=this.height,s=i/(e.realWidth*t),o=e.mapContainer.getBBox(),i=i/t,a=a/t,n=this.rectangle;n.translate(-(e.mapContainer.x+o.x*t)*s+this.dx,-(e.mapContainer.y+o.y*t)*s+this.dy),i>0&&a>0&&(n.setAttr("width",Math.ceil(i+1)),n.setAttr("height",Math.ceil(a+1))),this.rWidth=i,this.rHeight=a}},drawRectangle:function(){var t=this.rectangle;e.remove(t),t=e.rect(this.container,10,10,"#000",0,1,this.rectangleColor,1),e.setCN(this.chart,t,"small-map-rectangle"),this.rectangleC.push(t),this.rectangle=t},handleMouseUp:function(){var e=this.chart,t=e.zoomLevel();e.zoomToMapXY(t,(e.mouseX-this.set.x-this.mapX)/this.size+e.diffX*e.mapScale,(e.mouseY-this.set.y-this.mapY)/this.size+e.diffY*e.mapScale)}})}(),function(){var e=window.AmCharts;e.AreasProcessor=e.Class({construct:function(e){this.chart=e},process:function(e){this.updateAllAreas(),this.allObjects=[],e=e.areas;var t=this.chart;t.outlines=[];var i,a,s=e.length,o=0,n=!1,r=!1,l=0;for(i=0;s>i;i++)a=e[i],a=a.value,isNaN(a)||((!1===n||a>n)&&(n=a),(!1===r||r>a)&&(r=a),o+=Math.abs(a),l++);for(this.minValue=r,this.maxValue=n,isNaN(t.minValue)||(this.minValue=t.minValue),isNaN(t.maxValue)||(this.maxValue=t.maxValue),t.maxValueReal=n,t.minValueReal=r,i=0;s>i;i++)a=e[i],isNaN(a.value)?a.percents=void 0:(a.percents=(a.value-r)/o*100,r==n&&(a.percents=100));for(i=0;s>i;i++)a=e[i],this.createArea(a);t.outlinesToFront()},updateAllAreas:function(){var t,i=this.chart,a=i.areasSettings,s=a.unlistedAreasColor,o=a.unlistedAreasAlpha,n=a.unlistedAreasOutlineColor,r=a.unlistedAreasOutlineAlpha,l=i.svgAreas,c=i.dataProvider,d=c.areas,h={};for(t=0;t<d.length;t++)h[d[t].id]=d[t];for(t=0;t<l.length;t++){if(d=l[t],a.preserveOriginalAttributes){if(d.customAttr)for(var u in d.customAttr)d.setAttr(u,d.customAttr[u])}else{void 0!=s&&d.setAttr("fill",s),isNaN(o)||d.setAttr("fill-opacity",o),void 0!=n&&d.setAttr("stroke",n),isNaN(r)||d.setAttr("stroke-opacity",r);var p=a.outlineThickness;a.adjustOutlineThickness&&(p=p/i.zoomLevel()/i.mapScale),d.setAttr("stroke-width",p)}e.setCN(i,d,"map-area-unlisted"),c.getAreasFromMap&&!h[d.id]&&(p=new e.MapArea(i.theme),p.parentObject=c,p.id=d.id,p.outline=d.outline,c.areas.push(p))}},createArea:function(t){var i=this.chart,a=i.svgAreasById[t.id],s=i.areasSettings;if(a&&a.className){var o=i.areasClasses[a.className];o&&(s=e.processObject(o,e.AreasSettings,i.theme))}var n=s.color,r=s.alpha,l=s.outlineThickness,c=s.rollOverColor,d=s.selectedColor,h=s.rollOverAlpha,u=s.rollOverBrightness,p=s.outlineColor,m=s.outlineAlpha,g=s.balloonText,v=s.selectable,f=s.pattern,b=s.rollOverOutlineColor,y=s.bringForwardOnHover,x=s.preserveOriginalAttributes;this.allObjects.push(t),t.chart=i,t.baseSettings=s,t.autoZoomReal=void 0==t.autoZoom?s.autoZoom:t.autoZoom,o=t.color,void 0==o&&(o=n);var w=t.alpha;if(isNaN(w)&&(w=r),r=t.rollOverAlpha,isNaN(r)&&(r=h),isNaN(r)&&(r=w),h=t.rollOverColor,void 0==h&&(h=c),c=t.pattern,void 0==c&&(c=f),f=t.selectedColor,void 0==f&&(f=d),d=t.balloonText,void 0===d&&(d=g),void 0==s.colorSolid||isNaN(t.value)||(g=Math.floor((t.value-this.minValue)/((this.maxValue-this.minValue)/i.colorSteps)),g==i.colorSteps&&g--,g*=1/(i.colorSteps-1),this.maxValue==this.minValue&&(g=1),t.colorReal=e.getColorFade(o,s.colorSolid,g)),void 0!=t.color&&(t.colorReal=t.color),void 0==t.selectable&&(t.selectable=v),void 0==t.colorReal&&(t.colorReal=n),n=t.outlineColor,void 0==n&&(n=p),p=t.outlineAlpha,isNaN(p)&&(p=m),m=t.outlineThickness,isNaN(m)&&(m=l),l=t.rollOverOutlineColor,void 0==l&&(l=b),b=t.rollOverBrightness,void 0==b&&(b=u),void 0==t.bringForwardOnHover&&(t.bringForwardOnHover=y),void 0==t.preserveOriginalAttributes&&(t.preserveOriginalAttributes=x),isNaN(s.selectedBrightness)||(f=e.adjustLuminosity(t.colorReal,s.selectedBrightness/100)),t.alphaReal=w,t.rollOverColorReal=h,t.rollOverAlphaReal=r,t.balloonTextReal=d,t.selectedColorReal=f,t.outlineColorReal=n,t.outlineAlphaReal=p,t.rollOverOutlineColorReal=l,t.outlineThicknessReal=m,t.patternReal=c,t.rollOverBrightnessReal=b,t.accessibleLabel||(t.accessibleLabel=s.accessibleLabel),e.processDescriptionWindow(s,t),a&&(u=a.area,y=a.title,t.enTitle=a.title,y&&!t.title&&(t.title=y),(a=i.language)?(y=e.mapTranslations)&&(a=y[a])&&a[t.enTitle]&&(t.titleTr=a[t.enTitle]):t.titleTr=void 0,u)){a=t.tabIndex,void 0===a&&(a=s.tabIndex),void 0!==a&&u.setAttr("tabindex",a),t.displayObject=u,t.outline&&(w=0,t.alphaReal=0,t.rollOverAlphaReal=0,t.mouseEnabled=!1,i.outlines.push(u),u.node.setAttribute("pointer-events","none")),t.mouseEnabled&&i.addObjectEventListeners(u,t);var L;void 0!=o&&(L=o),void 0!=t.colorReal&&(L=t.showAsSelected||i.selectedObject==t?t.selectedColorReal:t.colorReal),u.node.setAttribute("class",""),e.setCN(i,u,"map-area"),e.setCN(i,u,"map-area-"+u.id),s.adjustOutlineThickness&&(m=m/i.zoomLevel()/i.mapScale),t.preserveOriginalAttributes||(u.setAttr("fill",L),u.setAttr("stroke",n),u.setAttr("stroke-opacity",p),u.setAttr("stroke-width",m),u.setAttr("fill-opacity",w)),i.makeObjectAccessible(t),c&&u.pattern(c,i.mapScale,i.path),t.hidden&&u.hide()}}})}(),function(){var e=window.AmCharts;e.AreasSettings=e.Class({construct:function(t){this.cname="AreasSettings",this.alpha=1,this.autoZoom=!1,this.balloonText="[[title]]",this.color="#FFCC00",this.colorSolid="#990000",this.unlistedAreasAlpha=1,this.unlistedAreasColor="#DDDDDD",this.outlineColor="#FFFFFF",this.outlineThickness=this.outlineAlpha=1,this.selectedColor=this.rollOverOutlineColor="#CC0000",this.unlistedAreasOutlineColor="#FFFFFF",this.unlistedAreasOutlineAlpha=1,this.descriptionWindowWidth=250,this.bringForwardOnHover=this.adjustOutlineThickness=!0,this.accessibleLabel="[[title]] [[value]] [[description]]",e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.ImagesProcessor=e.Class({construct:function(e){this.chart=e,this.reset()},process:function(e){var t,i=e.images;for(t=0;t<i.length;t++){var a=i[t];this.createImage(a,t),a.parentArray=i}this.counter=t,e.parentObject&&e.remainVisible&&this.process(e.parentObject)},createImage:function(t,i){t=e.processObject(t,e.MapImage),t.arrays=[],isNaN(i)&&(this.counter++,i=this.counter);var a=this.chart,s=a.container,o=a.mapImagesContainer,n=a.stageImagesContainer,r=a.imagesSettings;t.remove&&t.remove();var l=r.color,c=r.alpha,d=r.rollOverColor,h=r.rollOverOutlineColor,u=r.selectedColor,p=r.balloonText,m=r.outlineColor,g=r.outlineAlpha,v=r.outlineThickness,f=r.selectedScale,b=r.rollOverScale,y=r.selectable,x=r.labelPosition,w=r.labelColor,L=r.labelFontSize,S=r.bringForwardOnHover,C=r.labelRollOverColor,N=r.rollOverBrightness,A=r.selectedLabelColor;t.index=i,t.chart=a,t.baseSettings=a.imagesSettings;var k=s.set();t.displayObject=k;var T=t.color;void 0==T&&(T=l),l=t.alpha,isNaN(l)&&(l=c),void 0==t.bringForwardOnHover&&(t.bringForwardOnHover=S),c=t.outlineAlpha,isNaN(c)&&(c=g),g=t.rollOverColor,void 0==g&&(g=d),d=t.selectedColor,void 0==d&&(d=u),u=t.balloonText,void 0===u&&(u=p),p=t.outlineColor,void 0==p&&(p=m),t.outlineColorReal=p,m=t.outlineThickness,isNaN(m)&&(m=v),(v=t.labelPosition)||(v=x),x=t.labelColor,void 0==x&&(x=w),w=t.labelRollOverColor,void 0==w&&(w=C),C=t.selectedLabelColor,void 0==C&&(C=A),A=t.labelFontSize,isNaN(A)&&(A=L),L=t.selectedScale,isNaN(L)&&(L=f),f=t.rollOverScale,isNaN(f)&&(f=b),b=t.rollOverBrightness,void 0==b&&(b=N),void 0==t.selectable&&(t.selectable=y),t.colorReal=T,isNaN(r.selectedBrightness)||(d=e.adjustLuminosity(t.colorReal,r.selectedBrightness/100)),t.alphaReal=l,t.rollOverColorReal=g,t.balloonTextReal=u,t.selectedColorReal=d,t.labelColorReal=x,t.labelRollOverColorReal=w,t.selectedLabelColorReal=C,t.labelFontSizeReal=A,t.labelPositionReal=v,t.selectedScaleReal=L,t.rollOverScaleReal=f,t.rollOverOutlineColorReal=h,t.rollOverBrightnessReal=b,t.accessibleLabel||(t.accessibleLabel=r.accessibleLabel),e.processDescriptionWindow(r,t),t.centeredReal=void 0==t.centered?r.centered:t.centered,h=t.type,b=t.imageURL,f=t.svgPath,L=t.width,A=t.height,y=t.scale,isNaN(t.percentWidth)||(L=t.percentWidth/100*a.realWidth),isNaN(t.percentHeight)||(A=t.percentHeight/100*a.realHeight);var M;return b||h||f||(h="circle",L=1,c=l=0),g=N=0,r=t.selectedColorReal,h?(isNaN(L)&&(L=10),isNaN(A)&&(A=10),"kilometers"==t.widthAndHeightUnits&&(L=a.kilometersToPixels(t.width),A=a.kilometersToPixels(t.height)),"miles"==t.widthAndHeightUnits&&(L=a.milesToPixels(t.width),A=a.milesToPixels(t.height)),("circle"==h||"bubble"==h)&&(A=L),M=this.createPredefinedImage(T,p,m,h,L,A),g=N=0,t.centeredReal?(isNaN(t.right)||(N=L*y),isNaN(t.bottom)||(g=A*y)):(N=L*y/2,g=A*y/2),M.translate(N,g,y,!0)):b?(isNaN(L)&&(L=10),isNaN(A)&&(A=10),M=s.image(b,0,0,L,A),M.node.setAttribute("preserveAspectRatio","none"),M.setAttr("opacity",l),t.centeredReal&&(N=isNaN(t.right)?-L/2:L/2,g=isNaN(t.bottom)?-A/2:A/2,M.translate(N,g,NaN,!0))):f&&(M=s.path(f),b=M.getBBox(),t.centeredReal?(N=-b.x*y-b.width*y/2,isNaN(t.right)||(N=-N),g=-b.y*y-b.height*y/2,isNaN(t.bottom)||(g=-g)):N=g=0,M.translate(N,g,y,!0),M.x=N,M.y=g),M&&(k.push(M),t.image=M,M.setAttr("stroke-opacity",c),M.setAttr("stroke-width",m),M.setAttr("stroke",p),M.setAttr("fill-opacity",l),"bubble"!=h&&M.setAttr("fill",T),e.setCN(a,M,"map-image"),void 0!=t.id&&e.setCN(a,M,"map-image-"+t.id)),T=t.labelColorReal,!t.showAsSelected&&a.selectedObject!=t||void 0==r||(M.setAttr("fill",r),T=t.selectedLabelColorReal),M=null,void 0!==t.label&&(M=e.text(s,t.label,T,a.fontFamily,t.labelFontSizeReal,t.labelAlign),e.setCN(a,M,"map-image-label"),void 0!==t.id&&e.setCN(a,M,"map-image-label-"+t.id),T=t.labelBackgroundAlpha,(l=t.labelBackgroundColor)&&T>0&&(c=M.getBBox(),s=e.rect(s,c.width+16,c.height+10,l,T),e.setCN(a,s,"map-image-label-background"),void 0!=t.id&&e.setCN(a,s,"map-image-label-background-"+t.id),k.push(s),t.labelBG=s),t.imageLabel=M,k.push(M),e.setCN(a,k,"map-image-container"),void 0!=t.id&&e.setCN(a,k,"map-image-container-"+t.id),this.labelsToReposition.push(t),t.arrays.push({arr:this.labelsToReposition,el:t})),s=isNaN(t.latitude)||isNaN(t.longitude)?!0:!1,t.lineId&&(M=this.chart.getObjectById(t.lineId))&&0<M.longitudes.length&&(s=!1),s?n.push(k):o.push(k),k&&(k.rotation=t.rotation,isNaN(t.rotation)||k.rotate(t.rotation),t.arrays.push({arr:this.allSvgObjects,el:k}),this.allSvgObjects.push(k)),this.allObjects.push(t),a.makeObjectAccessible(t),o=t.tabIndex,void 0===o&&(o=a.imagesSettings.tabIndex),void 0!==o&&k.setAttr("tabindex",o),t.arrays.push({arr:this.allObjects,el:t}),isNaN(t.longitude)||isNaN(t.latitude)||!t.fixedSize||(t.objToResize={image:k,mapImage:t,scale:1},this.objectsToResize.push(t.objToResize),t.arrays.push({arr:this.objectsToResize,el:t.objToResize})),this.updateSizeAndPosition(t),t.mouseEnabled&&a.addObjectEventListeners(k,t),t.hidden&&k.hide(),e.removeFromArray(a.updatableImages,t),t.animateAlongLine&&(a.updatableImages.push(t),t.delayAnimateAlong()),t},updateSizeAndPosition:function(t){var i,a=this.chart,s=t.displayObject,o=a.getX(t.left),n=a.getY(t.top),r=t.image.getBBox();isNaN(t.right)||(o=a.getX(t.right,!0)-r.width*t.scale),isNaN(t.bottom)||(n=a.getY(t.bottom,!0)-r.height*t.scale);var l,c,d=t.longitude,h=t.latitude,u=t.positionOnLine,r=t.imageLabel,p=this.chart.zoomLevel();if(t.lineId&&(t.line=this.chart.getObjectById(t.lineId)),t.line&&t.line.getCoordinates){t.line.chart=a;var m=t.line.getCoordinates(u,t.lineSegment);m&&(d=a.coordinateToLongitude(m.x),h=a.coordinateToLatitude(m.y),l=m.x,c=m.y,t.animateAngle&&(i=e.radiansToDegrees(m.angle)))}isNaN(i)||s.rotate(i+t.extraAngle),isNaN(o)||isNaN(n)?isNaN(h)||isNaN(d)||(n=a.coordinatesToXY(d,h),o=n.x,n=n.y,isNaN(l)||(o=l),isNaN(c)||(n=c),t.fixedSize?(l=t.positionScale,isNaN(l)?l=0:(--l,l*=1-2*Math.abs(u-.5)),(u=t.objectToResize)&&(u.scale=1+l),s.translate(o,n,1/p+l,!0)):s.translate(o,n,NaN,!0)):s.translate(o,n,NaN,!0),this.positionLabel(r,t,t.labelPositionReal)},positionLabel:function(e,t,i){if(e){var a=t.image,s=0,o=0,n=0,r=0;a&&(r=a.getBBox(),o=a.y+r.y,s=a.x+r.x,n=r.width,r=r.height,t.svgPath&&(n*=t.scale,r*=t.scale));var a=e.getBBox(),l=a.width,c=a.height;"right"==i&&(s+=n+l/2+5,o+=r/2-2),"left"==i&&(s+=-l/2-5,o+=r/2-2),"top"==i&&(o-=c/2+3,s+=n/2),"bottom"==i&&(o+=r+c/2,s+=n/2),"middle"==i&&(s+=n/2,o+=r/2),e.translate(s+t.labelShiftX,o+t.labelShiftY,NaN,!0),e=t.labelFontSizeReal,t.labelBG&&t.labelBG.translate(s-a.width/2+t.labelShiftX-9,o-e/2+t.labelShiftY-4,NaN,!0)}},createPredefinedImage:function(t,i,a,s,o,n){var r,l=this.chart.container;switch(s){case"circle":r=e.circle(l,o/2,t,1,a,i,1);break;case"rectangle":r=e.polygon(l,[-o/2,o/2,o/2,-o/2],[n/2,n/2,-n/2,-n/2],t,1,a,i,1,0,!0);break;case"bubble":r=e.circle(l,o/2,t,1,a,i,1,!0);break;case"hexagon":o/=Math.sqrt(3),r=e.polygon(l,[.866*o,0*o,-.866*o,-.866*o,0*o,.866*o],[.5*o,1*o,.5*o,-.5*o,-1*o,-.5*o],t,1,a,i,1)}return r},reset:function(){this.objectsToResize=[],this.allSvgObjects=[],this.allObjects=[],this.allLabels=[],this.labelsToReposition=[]}})}(),function(){var e=window.AmCharts;e.ImagesSettings=e.Class({construct:function(t){this.cname="ImagesSettings",this.balloonText="[[title]]",this.alpha=1,this.borderAlpha=0,this.borderThickness=1,this.labelPosition="right",this.labelColor="#000000",this.labelFontSize=11,this.color="#000000",this.labelRollOverColor="#00CC00",this.centered=!0,this.rollOverScale=this.selectedScale=1,this.descriptionWindowWidth=250,this.bringForwardOnHover=!0,this.outlineColor="transparent",this.adjustAnimationSpeed=!1,this.baseAnimationDistance=500,this.pauseDuration=0,this.easingFunction=e.easeInOutQuad,this.animationDuration=3,this.positionScale=1,this.accessibleLabel="[[title]] [[description]]",e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.LinesProcessor=e.Class({construct:function(e){this.chart=e,this.reset()},process:function(e){var t,i=e.lines;for(t=0;t<i.length;t++){var a=i[t];this.createLine(a,t),a.parentArray=i}this.counter=t,e.parentObject&&e.remainVisible&&this.process(e.parentObject)},createLine:function(t,i){t=e.processObject(t,e.MapLine),isNaN(i)&&(this.counter++,i=this.counter),t.index=i,t.remove&&t.remove();var a=this.chart,s=a.linesSettings,o=this.objectsToResize,n=a.mapLinesContainer,r=a.stageLinesContainer,l=s.thickness,c=s.dashLength,d=s.arrow,h=s.arrowSize,u=s.arrowColor,p=s.arrowAlpha,m=s.color,g=s.alpha,v=s.rollOverColor,f=s.selectedColor,b=s.rollOverAlpha,y=s.balloonText,x=s.bringForwardOnHover,w=s.arc,L=s.rollOverBrightness,S=a.container;
t.chart=a,t.baseSettings=s;var C=S.set();t.displayObject=C;var N=t.tabIndex;if(void 0===N&&(N=s.tabIndex),void 0!==N&&C.setAttr("tabindex",N),this.allSvgObjects.push(C),t.arrays.push({arr:this.allSvgObjects,el:C}),this.allObjects.push(t),t.arrays.push({arr:this.allObjects,el:t}),t.mouseEnabled&&a.addObjectEventListeners(C,t),t.remainVisible||a.selectedObject==t.parentObject){if(N=t.thickness,isNaN(N)&&(N=l),l=t.dashLength,isNaN(l)&&(l=c),c=t.color,void 0==c&&(c=m),m=t.alpha,isNaN(m)&&(m=g),g=t.rollOverAlpha,isNaN(g)&&(g=b),isNaN(g)&&(g=m),b=t.rollOverColor,void 0==b&&(b=v),v=t.selectedColor,void 0==v&&(v=f),f=t.balloonText,void 0===f&&(f=y),y=t.arc,isNaN(y)&&(y=w),w=t.arrow,(!w||"none"==w&&"none"!=d)&&(w=d),d=t.arrowColor,void 0==d&&(d=u),void 0==d&&(d=c),u=t.arrowAlpha,isNaN(u)&&(u=p),isNaN(u)&&(u=m),p=t.arrowSize,isNaN(p)&&(p=h),h=t.rollOverBrightness,void 0==h&&(h=L),t.colorReal=c,t.arrowColor=d,isNaN(s.selectedBrightness)||(v=e.adjustLuminosity(t.colorReal,s.selectedBrightness/100)),t.alphaReal=m,t.rollOverColorReal=b,t.rollOverAlphaReal=g,t.balloonTextReal=f,t.selectedColorReal=v,t.thicknessReal=N,t.rollOverBrightnessReal=h,t.accessibleLabel||(t.accessibleLabel=s.accessibleLabel),void 0===t.shiftArrow&&(t.shiftArrow=s.shiftArrow),void 0==t.bringForwardOnHover&&(t.bringForwardOnHover=x),e.processDescriptionWindow(s,t),x=this.processCoordinates(t.x,a.realWidth),L=this.processCoordinates(t.y,a.realHeight),h=t.longitudes,s=t.latitudes,g=h.length,g>0)for(x=[],L=[],b=0;g>b;b++)f=a.coordinatesToXY(h[b],s[b]),x.push(f.x),L.push(f.y);if(0<x.length){t.segments=x.length,e.dx=0,e.dy=0;var A,k,T,g=10*(1-Math.abs(y));if(g>=10&&(g=NaN),1>g&&(g=1),t.arcRadius=[],t.distances=[],h=a.mapContainer.scale,isNaN(g)){for(g=0;g<x.length-1;g++)k=Math.sqrt(Math.pow(x[g+1]-x[g],2)+Math.pow(L[g+1]-L[g],2)),t.distances[g]=k;g=e.line(S,x,L,c,1,N/h,l,!1,!1,!0),c=e.line(S,x,L,c,.001,5/h,l,!1,!1,!0),g.setAttr("stroke-linecap","round")}else{b=1,0>y&&(b=0),f={fill:"none",stroke:c,"stroke-opacity":1,"stroke-width":N/h,"fill-opacity":0,"stroke-linecap":"round"},void 0!==l&&l>0&&(f["stroke-dasharray"]=l);for(var l="",M=0;M<x.length-1;M++){var O=x[M],D=x[M+1],z=L[M],I=L[M+1];if(k=Math.sqrt(Math.pow(D-O,2)+Math.pow(I-z,2)),T=k/2*g,A=270+180*Math.acos(k/2/T)/Math.PI,isNaN(A)&&(A=270),D>O){var P=O,O=D,D=P,P=z,z=I,I=P;A=-A}y>0&&(A=-A),l+="M"+O+","+z+"A"+T+","+T+",0,0,"+b+","+D+","+I,t.arcRadius[M]=T,t.distances[M]=k}g=S.path(l).attr(f),c=S.path(l).attr({"fill-opacity":0,stroke:c,"stroke-width":5/h,"stroke-opacity":.001,fill:"none"})}if(e.setCN(a,g,"map-line"),void 0!=t.id&&e.setCN(a,g,"map-line-"+t.id),e.dx=.5,e.dy=.5,C.push(g),C.push(c),g.setAttr("opacity",m),"none"!=w){var R,B,F;("end"==w||"both"==w)&&(b=x[x.length-1],M=L[L.length-1],1<x.length?(f=x[x.length-2],R=L[L.length-2]):(f=b,R=M),R=180*Math.atan((M-R)/(b-f))/Math.PI,isNaN(A)||(R+=A),B=b,F=M,R=0>b-f?R-90:R+90),m=[-p/2-.5,-.5,p/2-.5],l=[p,-.5,p],t.shiftArrow&&"middle"!=w&&(l=[0,1.2*-p,0]),"both"==w&&(p=e.polygon(S,m,l,d,u,1,d,u,void 0,!0),C.push(p),p.translate(B,F,1/h,!0),isNaN(R)||p.rotate(R),e.setCN(a,g,"map-line-arrow"),void 0!=t.id&&e.setCN(a,g,"map-line-arrow-"+t.id),t.fixedSize&&o.push(p)),("start"==w||"both"==w)&&(p=x[0],F=L[0],1<x.length?(b=x[1],B=L[1]):(b=p,B=F),R=180*Math.atan((F-B)/(p-b))/Math.PI,isNaN(A)||(R-=A),B=p,R=0>p-b?R-90:R+90),"middle"==w&&(b=x[x.length-1],M=L[L.length-1],1<x.length?(f=x[x.length-2],R=L[L.length-2]):(f=b,R=M),B=f+(b-f)/2,F=R+(M-R)/2,R=180*Math.atan((M-R)/(b-f))/Math.PI,isNaN(A)||(A=k/2,T-=Math.sqrt(T*T-A*A),0>y&&(T=-T),A=Math.sin(R/180*Math.PI),-1==A&&(A=1),B-=A*T,F+=Math.cos(R/180*Math.PI)*T),R=0>b-f?R-90:R+90),p=e.polygon(S,m,l,d,u,1,d,u,void 0,!0),e.setCN(a,g,"map-line-arrow"),void 0!=t.id&&e.setCN(a,g,"map-line-arrow-"+t.id),C.push(p),p.translate(B,F,1/h,!0),isNaN(R)||p.rotate(R),t.fixedSize&&(o.push(p),t.arrays.push({arr:o,el:p})),t.arrowSvg=p}t.fixedSize&&g&&(o={line:g,thickness:N},this.linesToResize.push(o),t.arrays.push({arr:this.linesToResize,el:o}),o={line:c,thickness:5},this.linesToResize.push(o),t.arrays.push({arr:this.linesToResize,el:o})),t.lineSvg=g,t.showAsSelected&&!isNaN(v)&&g.setAttr("stroke",v),0<s.length?n.push(C):r.push(C),t.hidden&&C.hide(),a.makeObjectAccessible(t)}}},processCoordinates:function(e,t){var i,a=[];for(i=0;i<e.length;i++){var s=e[i],o=Number(s);isNaN(o)&&(o=Number(s.replace("%",""))*t/100),isNaN(o)||a.push(o)}return a},reset:function(){this.objectsToResize=[],this.allSvgObjects=[],this.allObjects=[],this.linesToResize=[]}})}(),function(){var e=window.AmCharts;e.LinesSettings=e.Class({construct:function(t){this.cname="LinesSettings",this.balloonText="[[title]]",this.thickness=1,this.dashLength=0,this.arrowSize=10,this.arrowAlpha=1,this.arrow="none",this.color="#990000",this.descriptionWindowWidth=250,this.bringForwardOnHover=!0,e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.MapObject=e.Class({construct:function(t){this.fixedSize=this.mouseEnabled=!0,this.images=[],this.lines=[],this.areas=[],this.remainVisible=!0,this.passZoomValuesToTarget=!1,this.objectType=this.cname,e.applyTheme(this,t,"MapObject"),this.arrays=[]},deleteObject:function(){if(this.remove(),this.parentArray&&e.removeFromArray(this.parentArray,this),this.arrays)for(var t=0;t<this.arrays.length;t++)e.removeFromArray(this.arrays[t].arr,this.arrays[t].el);this.arrays=[]}})}(),function(){var e=window.AmCharts;e.MapArea=e.Class({inherits:e.MapObject,construct:function(t){this.cname="MapArea",e.MapArea.base.construct.call(this,t),e.applyTheme(this,t,this.cname)},validate:function(){this.chart.areasProcessor.createArea(this)}})}(),function(){var e=window.AmCharts;e.MapLine=e.Class({inherits:e.MapObject,construct:function(t){this.cname="MapLine",this.longitudes=[],this.latitudes=[],this.x=[],this.y=[],this.segments=0,this.arrow="none",e.MapLine.base.construct.call(this,t),e.applyTheme(this,t,this.cname)},validate:function(){this.chart.linesProcessor.createLine(this)},remove:function(){var e=this.displayObject;e&&e.remove()},getCoordinates:function(t,i){if(isNaN(i)&&(i=0),isNaN(this.arc)||this.isValid||(this.isValid=!0,this.validate()),!isNaN(t)){var a,s,o,n,r,l;if(1<this.longitudes.length){s=this.chart.coordinatesToXY(this.longitudes[i],this.latitudes[i]);var c=this.chart.coordinatesToXY(this.longitudes[i+1],this.latitudes[i+1]);a=s.x,o=c.x,s=s.y,n=c.y}else 1<this.x.length&&(a=this.x[i],o=this.x[i+1],s=this.y[i],n=this.y[i+1]);c=Math.sqrt(Math.pow(o-a,2)+Math.pow(n-s,2)),o>a&&!isNaN(this.arc)&&0!==this.arc&&(t=1-t),r=a+(o-a)*t,l=s+(n-s)*t;var d=Math.atan2(n-s,o-a);if(!isNaN(this.arc)&&0!==this.arc&&this.arcRadius){var h=0;o>a&&(h=a,a=o,o=h,h=s,s=n,n=h,h=Math.PI),l=this.arcRadius[i],0>this.arc&&(c=-c),r=a+(o-a)/2+Math.sqrt(l*l-c/2*(c/2))*(s-n)/c;var u=s+(n-s)/2+Math.sqrt(l*l-c/2*(c/2))*(o-a)/c;a=180*Math.atan2(s-u,a-r)/Math.PI,o=180*Math.atan2(n-u,o-r)/Math.PI,o-a>180&&(o-=360),d=e.degreesToRadians(a+(o-a)*t),r+=l*Math.cos(d),l=u+l*Math.sin(d),d=0<this.arc?d+Math.PI/2:d-Math.PI/2,d+=h}return this.distance=c,{x:r,y:l,angle:d}}},fixToStage:function(){if(0<this.latitudes.length){this.y=[];for(var e=0;e<this.latitudes.length;e++){var t=this.chart.coordinatesToStageXY(this.longitudes[e],this.latitudes[e]);this.y.push(t.y),this.x.push(t.x)}this.latitudes=[],this.longitudes=[]}this.validate()},fixToMap:function(){if(0<this.y.length){this.latitudes=[];for(var e=0;e<this.y.length;e++){var t=this.chart.stageXYToCoordinates(this.x[e],this.y[e]);this.latitudes.push(t.latitude),this.longitudes.push(t.longitude)}this.y=[],this.x=[]}this.validate()}})}(),function(){var e=window.AmCharts;e.MapImage=e.Class({inherits:e.MapObject,construct:function(t){this.cname="MapImage",this.scale=1,this.widthAndHeightUnits="pixels",this.labelShiftY=this.labelShiftX=0,this.positionOnLine=.5,this.direction=1,this.lineSegment=this.extraAngle=0,this.animateAngle=!0,this.createEvents("animationStart","animationEnd"),e.MapImage.base.construct.call(this,t),e.applyTheme(this,t,this.cname),this.delayCounter=0},validate:function(){this.chart.imagesProcessor.createImage(this)},updatePosition:function(){this.chart.imagesProcessor.updateSizeAndPosition(this)},remove:function(){var e=this.displayObject;e&&e.remove(),(e=this.imageLabel)&&e.remove()},animateTo:function(e,t,i,a){isNaN(i)||(this.animationDuration=i),a&&(this.easingFunction=a),this.finalX=e,this.finalY=t,isNaN(this.longitude)||(this.initialX=this.longitude),isNaN(this.left)||(this.initialX=this.left),isNaN(this.right)||(this.initialX=this.right),isNaN(this.latitude)||(this.initialY=this.latitude),isNaN(this.top)||(this.initialY=this.top),isNaN(this.bottom)||(this.initialY=this.bottom),this.animatingAlong=!1,this.animate()},animateAlong:function(e,t,i){1==this.positionOnLine&&this.flipDirection&&(this.direction=-1,this.extraAngle=180),isNaN(t)||(this.animationDuration=t),i&&(this.easingFunction=i),e&&(this.line=this.chart.getObjectById(e)),this.animateAlongLine=this.line,this.animatingAlong=!0,this.animate()},animate:function(){var t=this.chart.imagesSettings,i=this.animationDuration;isNaN(i)&&(i=t.animationDuration),this.totalFrames=i*e.updateRate,i=1,this.line&&t.adjustAnimationSpeed&&(this.line.distances&&(i=this.line.distances[this.lineSegment]*this.chart.zoomLevel(),i=Math.abs(i/t.baseAnimationDistance)),this.totalFrames=Math.round(i*this.totalFrames)),this.frame=0,this.fire({type:"animationStart",chart:this.chart,image:this,lineSegment:this.lineSegment,direction:this.direction})},update:function(){var e=this.totalFrames;if(this.frame++,this.delayCounter--,0===this.delayCounter&&this.animateAlong(),!(0<this.delayCounter))if(this.frame<=e){this.updatePosition();var t=this.chart.imagesSettings,i=this.easingFunction;i||(i=t.easingFunction),e=i(0,this.frame,0,1,e),-1==this.direction&&(e=1-e),this.animatingAlong?this.positionOnLine=e:(t=this.initialX+(this.finalX-this.initialX)*e,isNaN(this.longitude)||(this.longitude=t),isNaN(this.left)||(this.left=t),isNaN(this.right)||(this.right=t),e=this.initialY+(this.finalY-this.initialY)*e,isNaN(this.latitude)||(this.latitude=e),isNaN(this.top)||(this.top=e),isNaN(this.bottom)||(this.bottom=e))}else this.frame==e+1&&(this.fire({type:"animationEnd",chart:this.chart,image:this,lineSegment:this.lineSegment,direction:this.direction}),this.line&&this.animatingAlong&&(1==this.direction?this.lineSegment<this.line.segments-2?(this.lineSegment++,this.delayAnimateAlong(),this.positionOnLine=0):this.flipDirection?(this.direction=-1,this.extraAngle=180,this.delayAnimateAlong()):this.loop&&(this.delayAnimateAlong(),this.lineSegment=0):0<this.lineSegment?(this.lineSegment--,this.delayAnimateAlong(),this.positionOnLine=0):this.loop&&this.flipDirection?(this.direction=1,this.extraAngle=0,this.delayAnimateAlong()):this.loop&&this.delayAnimateAlong()))},delayAnimateAlong:function(){this.animateAlongLine&&(this.delayCounter=this.chart.imagesSettings.pauseDuration*e.updateRate)},fixToStage:function(){if(!isNaN(this.longitude)){var e=this.chart.coordinatesToStageXY(this.longitude,this.latitude);this.left=e.x,this.top=e.y,this.latitude=this.longitude=void 0}this.validate()},fixToMap:function(){if(!isNaN(this.left)){var e=this.chart.stageXYToCoordinates(this.left,this.top);this.longitude=e.longitude,this.latitude=e.latitude,this.top=this.left=void 0}this.validate()}})}(),function(){var e=window.AmCharts;e.degreesToRadians=function(e){return e/180*Math.PI},e.radiansToDegrees=function(e){return e/Math.PI*180},e.getColorFade=function(t,i,a){var s=e.hex2RGB(i);i=s[0];var o=s[1],s=s[2],n=e.hex2RGB(t);t=n[0];var r=n[1],n=n[2];return t+=Math.round((i-t)*a),r+=Math.round((o-r)*a),n+=Math.round((s-n)*a),"rgb("+t+","+r+","+n+")"},e.hex2RGB=function(e){return[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)]},e.processDescriptionWindow=function(e,t){isNaN(t.descriptionWindowX)&&(t.descriptionWindowX=e.descriptionWindowX),isNaN(t.descriptionWindowY)&&(t.descriptionWindowY=e.descriptionWindowY),isNaN(t.descriptionWindowLeft)&&(t.descriptionWindowLeft=e.descriptionWindowLeft),isNaN(t.descriptionWindowRight)&&(t.descriptionWindowRight=e.descriptionWindowRight),isNaN(t.descriptionWindowTop)&&(t.descriptionWindowTop=e.descriptionWindowTop),isNaN(t.descriptionWindowBottom)&&(t.descriptionWindowBottom=e.descriptionWindowBottom),isNaN(t.descriptionWindowWidth)&&(t.descriptionWindowWidth=e.descriptionWindowWidth),isNaN(t.descriptionWindowHeight)&&(t.descriptionWindowHeight=e.descriptionWindowHeight)},e.normalizePath=function(t){for(var i,a,s="",o=e.parsePath(t.getAttribute("d")),n=1/0,r=-(1/0),l=1/0,c=-(1/0),d=0;d<o.length;d++){var h=o[d],u=h.letter,p=h.x,h=h.y;"h"==u&&(u="L",p+=i,h=a),"H"==u&&(u="L",h=a),"v"==u&&(u="L",p=i,h+=a),"V"==u&&(u="L",p=i),("m"===u||"l"===u)&&(u=u.toUpperCase(),p+=i,h+=a),p=e.roundTo(p,3),h=e.roundTo(h,3),i=p,a=h,p>r&&(r=p),n>p&&(n=p),h>c&&(c=h),l>h&&(l=h),s="z"==u.toLowerCase()?s+"Z ":s+(u+" "+p+" "+h+" ")}return t.setAttribute("d",s),{minX:n,maxX:r,minY:l,maxY:c}},e.mercatorLatitudeToRadians=function(t){return Math.log(Math.tan(Math.PI/4+e.degreesToRadians(t)/2))},e.parsePath=function(e){e=e.match(/([MmLlHhVvZz]{1}[0-9.,\-\s]*)/g);for(var t=[],i=0;i<e.length;i++){var a=e[i].match(/([MmLlHhVvZz]{1})|([0-9.\-]+)/g),s={letter:a[0]};switch(a[0]){case"Z":case"Z":case"z":break;case"V":case"v":s.y=Number(a[1]);break;case"H":case"h":s.x=Number(a[1]);break;default:s.x=Number(a[1]),s.y=Number(a[2])}t.push(s)}return t},e.acos=function(e){return e>1?0:-1>e?Math.PI:Math.acos(e)},e.asin=function(e){return e>1?Math.PI/2:-1>e?-Math.PI/2:Math.asin(e)},e.sinci=function(e){return e?e/Math.sin(e):1},e.asqrt=function(e){return e>0?Math.sqrt(e):0},e.winkel3=function(t,i){var a=e.aitoff(t,i);return[(a[0]+t/Math.PI*2)/2,(a[1]+i)/2]},e.winkel3.invert=function(t,i){var a=t,s=i,o=25,n=Math.PI/2;do var r,l=Math.cos(s),c=Math.sin(s),d=Math.sin(2*s),h=c*c,u=l*l,p=Math.sin(a),m=Math.cos(a/2),g=Math.sin(a/2),v=g*g,f=1-u*m*m,b=f?e.acos(l*m)*Math.sqrt(r=1/f):r=0,f=.5*(2*b*l*g+a/n)-t,y=.5*(b*c+s)-i,x=.5*r*(u*v+b*l*m*h)+.5/n,w=r*(p*d/4-b*c*g),c=.125*r*(d*g-b*c*u*p),h=.5*r*(h*m+b*v*l)+.5,l=w*c-h*x,w=(y*w-f*h)/l,f=(f*c-y*x)/l,a=a-w,s=s-f;while((1e-6<Math.abs(w)||1e-6<Math.abs(f))&&0<--o);return[a,s]},e.aitoff=function(t,i){var a=Math.cos(i),s=e.sinci(e.acos(a*Math.cos(t/=2)));return[2*a*Math.sin(t)*s,Math.sin(i)*s]},e.orthographic=function(e,t){return[Math.cos(t)*Math.sin(e),Math.sin(t)]},e.equirectangular=function(e,t){return[e,t]},e.equirectangular.invert=function(e,t){return[e,t]},e.eckert5=function(e,t){var i=Math.PI;return[e*(1+Math.cos(t))/Math.sqrt(2+i),2*t/Math.sqrt(2+i)]},e.eckert5.invert=function(e,t){var i=Math.sqrt(2+Math.PI),a=t*i/2;return[i*e/(1+Math.cos(a)),a]},e.eckert6=function(e,t){for(var i=Math.PI,a=(1+i/2)*Math.sin(t),s=0,o=1/0;10>s&&1e-5<Math.abs(o);s++)t-=o=(t+Math.sin(t)-a)/(1+Math.cos(t));return a=Math.sqrt(2+i),[e*(1+Math.cos(t))/a,2*t/a]},e.eckert6.invert=function(t,i){var a=1+Math.PI/2,s=Math.sqrt(a/2);return[2*t*s/(1+Math.cos(i*=s)),e.asin((i+Math.sin(i))/a)]},e.mercator=function(e,t){return t>=Math.PI/2-.02&&(t=Math.PI/2-.02),t<=-Math.PI/2+.02&&(t=-Math.PI/2+.02),[e,Math.log(Math.tan(Math.PI/4+t/2))]},e.mercator.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Math.PI/2]},e.miller=function(e,t){return[e,1.25*Math.log(Math.tan(Math.PI/4+.4*t))]},e.miller.invert=function(e,t){return[e,2.5*Math.atan(Math.exp(.8*t))-.625*Math.PI]},e.eckert3=function(e,t){var i=Math.PI,a=Math.sqrt(i*(4+i));return[2/a*e*(1+Math.sqrt(1-4*t*t/(i*i))),4/a*t]},e.eckert3.invert=function(t,i){var a=Math.PI,s=Math.sqrt(a*(4+a))/2;return[t*s/(1+e.asqrt(1-i*i*(4+a)/(4*a))),i*s/2]}}(),function(){var e=window.AmCharts;e.MapData=e.Class({inherits:e.MapObject,construct:function(){this.cname="MapData",e.MapData.base.construct.call(this),this.projection="mercator",this.topLatitude=90,this.bottomLatitude=-90,this.leftLongitude=-180,this.rightLongitude=180,this.zoomLevel=1,this.getAreasFromMap=!1}})}(),function(){var e=window.AmCharts;e.DescriptionWindow=e.Class({construct:function(){},show:function(e,t,i,a){var s=this;s.chart=e;var o=document.createElement("div");o.style.position="absolute";var n=e.classNamePrefix+"-description-";o.className="ammapDescriptionWindow "+n+"div",s.div=o,t.appendChild(o);var r=".gif";e.svgIcons&&(r=".svg");var l=document.createElement("img");l.className="ammapDescriptionWindowCloseButton "+n+"close-img",l.src=e.pathToImages+"xIcon"+r,l.style.cssFloat="right",l.style.cursor="pointer",l.onclick=function(){s.close()},l.onmouseover=function(){l.src=e.pathToImages+"xIconH"+r},l.onmouseout=function(){l.src=e.pathToImages+"xIcon"+r},o.appendChild(l),t=document.createElement("div"),t.className="ammapDescriptionTitle "+n+"title-div",t.onmousedown=function(){s.div.style.zIndex=1e3},o.appendChild(t),t.innerHTML=a,a=t.offsetHeight,t=document.createElement("div"),t.className="ammapDescriptionText "+n+"text-div",t.style.maxHeight=s.maxHeight-a-20+"px",o.appendChild(t),t.innerHTML=i},close:function(){try{this.div.parentNode.removeChild(this.div),this.chart.fireClosed()}catch(e){}}})}(),function(){var e=window.AmCharts;e.ValueLegend=e.Class({construct:function(t){this.cname="ValueLegend",this.enabled=!0,this.showAsGradient=!1,this.minValue=0,this.height=12,this.width=200,this.bottom=this.left=10,this.borderColor="#FFFFFF",this.borderAlpha=this.borderThickness=1,this.color="#000000",this.fontSize=11,e.applyTheme(this,t,this.cname)},init:function(t,i){if(this.enabled){var a=t.areasSettings.color,s=t.areasSettings.colorSolid,o=t.colorSteps;e.remove(this.set);var n=i.set();this.set=n,e.setCN(t,n,"value-legend");var r=0,l=this.minValue,c=this.fontSize,d=t.fontFamily,h=this.color,u={precision:t.precision,decimalSeparator:t.decimalSeparator,thousandsSeparator:t.thousandsSeparator};if(void 0==l&&(l=e.formatNumber(t.minValueReal,u)),void 0!==l&&(r=e.text(i,l,h,d,c,"left"),r.translate(0,c/2-1),e.setCN(t,r,"value-legend-min-label"),n.push(r),r=r.getBBox().height),l=this.maxValue,void 0===l&&(l=e.formatNumber(t.maxValueReal,u)),void 0!==l&&(r=e.text(i,l,h,d,c,"right"),r.translate(this.width,c/2-1),e.setCN(t,r,"value-legend-max-label"),n.push(r),r=r.getBBox().height),this.showAsGradient)a=e.rect(i,this.width,this.height,[a,s],1,this.borderThickness,this.borderColor,1,0,0),e.setCN(t,a,"value-legend-gradient"),a.translate(0,r),n.push(a);else for(c=this.width/o,d=0;o>d;d++)h=e.getColorFade(a,s,1*d/(o-1)),h=e.rect(i,c,this.height,h,1,this.borderThickness,this.borderColor,1),e.setCN(t,h,"value-legend-color"),e.setCN(t,h,"value-legend-color-"+d),h.translate(c*d,r),n.push(h);s=a=0,o=n.getBBox(),r=t.getY(this.bottom,!0),c=t.getY(this.top),d=t.getX(this.right,!0),h=t.getX(this.left),isNaN(c)||(a=c),isNaN(r)||(a=r-o.height),isNaN(h)||(s=h),isNaN(d)||(s=d-o.width),n.translate(s,a)}else e.remove(this.set)}})}(),function(){var e=window.AmCharts;e.ObjectList=e.Class({construct:function(e){this.divId=e},init:function(e){this.chart=e;var t=this.divId;this.container&&(t=this.container),this.div="object"!=typeof t?document.getElementById(t):t,t=document.createElement("div"),t.className="ammapObjectList "+e.classNamePrefix+"-object-list-div",this.div.appendChild(t),this.addObjects(e.dataProvider,t)},addObjects:function(e,t){var i=this.chart,a=document.createElement("ul");a.className=i.classNamePrefix+"-object-list-ul";var s;if(e.areas)for(s=0;s<e.areas.length;s++){var o=e.areas[s];void 0===o.showInList&&(o.showInList=i.showAreasInList),this.addObject(o,a)}if(e.images)for(s=0;s<e.images.length;s++)o=e.images[s],void 0===o.showInList&&(o.showInList=i.showImagesInList),this.addObject(o,a);if(e.lines)for(s=0;s<e.lines.length;s++)o=e.lines[s],void 0===o.showInList&&(o.showInList=i.showLinesInList),this.addObject(o,a);0<a.childNodes.length&&t.appendChild(a)},addObject:function(e,t){var i=this;if(e.showInList&&void 0!==e.title){var a=i.chart,s=document.createElement("li");s.className=a.classNamePrefix+"-object-list-li";var o=e.titleTr;o||(o=e.title);var o=document.createTextNode(o),n=document.createElement("a");n.className=a.classNamePrefix+"-object-list-a",n.appendChild(o),s.appendChild(n),t.appendChild(s),this.addObjects(e,s),n.onmouseover=function(){i.chart.rollOverMapObject(e,!1)},n.onmouseout=function(){i.chart.rollOutMapObject(e)},n.onclick=function(){i.chart.clickMapObject(e)}}}})}(),AmCharts.maps.pakistanLow={svg:{defs:{"amcharts:ammap":{projection:"mercator",leftLongitude:"60.895802",topLatitude:"37.095717",rightLongitude:"77.845456",bottomLatitude:"23.706264"}},g:{path:[{id:"PK-BA",title:"Balochistan",d:"M325.83,241.13l8.46,0.33l4.85,-5.45l5.76,-0.93l-1.14,3.85l2.77,1.78l-1.42,3.64l1.29,0.84l2.81,-1.6l-1.03,16.63l3.25,2.32l1.14,6.48l2.01,-4.22l2.78,-0.31l2.83,-2.43l0.73,1.05l-0.82,14.34l0.97,2.91l0,0l0.44,11.39l-2.48,0.46l-0.41,2.63l-4.17,2.51l0.53,4.18l-4.46,7.74l-1.47,6.36l1.42,2.84l2.2,-1.53l1.23,1.71l-3.29,4.18l0.02,3.14l-4.9,10.97l-3.64,3.95l-5.56,2.81l-1.26,9.58l3.72,1.52l-0.42,2.71l1.55,2.29l1.64,-1.16l0.66,0.9l-1.73,8.31l-7.6,7.77l-0.34,2.92l1.27,1.99l-1.96,4.62l-2.51,3.79l-3.39,1.9l2,4.24l0,0l-35.11,1.29l-3.65,4.68l-15.94,11.24l-2.08,3.46l-10.27,4.24l-10.19,2.1l-0.99,4.66l-6.76,9.88l-2.18,11.11l1.53,31.15l11.06,19.35l-0.67,12.91l-2.4,6.17l-3.29,2.61l-0.64,2.63l-1.9,0.89l-2.46,4.34l0.18,3.49l-5.31,6.85l-0.13,2.66l-3.16,3.47l-2.95,0.41l-5.99,5.07l0,0l-1.34,-1.77l2.51,-10.95l-7.46,-7.16l1.4,-2.86l-0.9,-2.15l-4.8,-1.32l-0.16,-1.42l-1.59,0.3l0.19,-1.75l-2.12,-0.78l-3.76,2.06l3.87,0.04l3.27,2.76l3.28,0.33l0.43,1.52l-1.45,0.13l1.28,1.37l-9.14,-2.7l-17.61,2.06l-7.32,2.8l-6.97,-1.6l-7.36,0.52l-3.02,3.23l-16.45,-0.7l-4.72,2.47l-0.13,2.53l2.04,0.82l-3.85,1.2l-0.67,-0.96l1.56,-1.79l-1.79,-1.85l-6.69,1.08l-6.71,-3.19l-5.17,-0.5l-0.05,-1.68l-0.73,-1.35l3.06,-0.04l1.11,-1.93l-2.23,-1.34l-4.79,0.57l0.74,1.02l-1.83,0.76l0.99,1.31l1.82,-0.91l0.47,3.51l-13.87,-2.51l-4.71,0.72l-2.99,1.8l-0.04,5.13l-14.31,-2.23l-4.66,2.02l-18.32,-2.44l-7.12,3.97l-0.71,2.38l1.78,1.04l-4.48,-0.42l2.27,-0.68l-0.42,-2.3l-5.37,-1.97l-4.15,1.8l1.3,3.33l-7.11,-0.38l-1.78,0.77l-0.39,2.3l-4.72,0.63l1,-4.4l-7,-2.49l3.05,-4.82l1.98,-16.57l-0.68,-4.82l3.53,-0.81l2.61,-17.55l10.57,-3.8l0.44,-3.14l5.81,1.36l-1.01,-3.76l2.03,-1.32l-0.11,-2.05l4.97,-1.88l6.72,-0.73l6.6,-2.89l15.1,0.21l0.89,-8.45l3.45,-1.34l-0.99,-9l2.38,-2.41l-5.15,-4.45l-9,2.14l-6.52,-1.83l1.92,-3.06l-0.97,-1.52l1.86,-5.42l-3.37,-24.66l0.92,-10.68l-7.72,0.96l-6.79,-7.14l-14.44,-3.92l-9.25,-5.8l-11.6,-16.14l-1.31,-4.68l-2.12,-0.95l0.5,-2.56L17.73,360l0.57,-2.91l-6.96,-6.8L0,335.46l61.2,20.41l45.77,-4.42l11.78,2.24l6.57,2.83l1.91,-4.43l11.56,-4.86l18.33,0.21l3.58,1.43l28.35,-8.44l-0.02,1.1l18.57,-6.27l3.5,-5.16l-4.59,-4.8l2.51,-3.62l2.98,-12.81l-0.62,-2.68l-2.69,-1.93l3.49,-9.74l-0.99,-1.36l4.77,-5.98l-1,-0.71l5.28,-1.12l4.01,-4.55l1.29,-6.74l2.42,-0.05l4.23,-3.74l4.29,-0.69l1.13,1.11l-1.08,2.37l1.84,1.39l9.4,0.95l17.71,-6.54l1.05,-1.31l-0.72,-1.95l-5.32,-0.03l-3.09,-5.78l6.79,1.1l5.09,-4.69l7.44,-3.09l4.46,-7.13l3.5,1.48l1.05,2.02l5.23,-0.02l5.74,-3.2l2.4,2.25l2.69,0.38l0.59,3.31l3.4,3.92l4.33,0.24l1.25,-1.85l2.78,0.86l3.75,-3.46l3.08,-6.57L325.83,241.13z"},{id:"PK-GB",title:"Gilgit-Baltistan",d:"M535.43,3.62L538.9,1.67L539.66,5.26L542.41,7.84L546.39,4.13L551.09,3.72L554.59,6.73L560.95,7.44L562.99,18.08L565.95,18.03L566.54,15.92L570.64,15.81L580.95,22.94L585.07,33.06L583.63,38.6L586.24,41.76L584.33,42.05L584.83,44.65L581.64,46.21L582.01,49.29L584.15,51.73L587.64,51.9L590.36,56.02L590.86,60.51L597.58,60.51L599.31,58.73L606.03,56.5L607.14,62.82L613.19,68.07L617.05,68.21L620.97,71.28L624.96,71.61L629.99,74.98L634.85,74.86L638.29,77.8L643.5,76.51L649.68,77.24L653.62,75.51L655.38,76.27L628.83,97.32L625.41,98.76L623.47,98.08L622.67,102.75L617.74,101.19L613.07,103.34L612.84,107.4L610.46,111.18L605.82,111.24L602.43,109.55L590.2,116.62L585.5,115.36L574.39,122.59L563.38,121.3L563.38,121.3L559.1,116.6L559.29,110.11L555.4,104.27L547.94,109.41L545.83,106.37L539.31,103L537.34,103.9L538.26,97.7L531.43,92.6L525.64,96.18L519.59,93.5L511.62,94.03L511.62,94.03L498.99,88.7L496.15,89.47L495.1,81.81L499.25,76.12L478.92,70.93L473.31,66.42L472.85,60.27L471.63,59.24L467.13,60.49L461.29,59.44L455.31,61.23L451.61,59.92L449.2,57.34L451.3,52.23L449.43,48.28L451.07,41.06L455.55,39.99L462.28,34.67L463.22,30.97L466.49,30.1L469.42,26.92L470.87,23.67L470.37,19.56L483.8,16.64L490.72,18.77L500.84,18.75L500.55,14.73L494.98,12.06L493.61,9.99L493.61,9.99L493.68,8.96L500.54,9.07L511.36,12.31L512.61,9.03L516.49,9.48L522.99,4.87L526.74,4.73L528.33,6.6L530.7,0.39L533.15,0.1z"},{id:"PK-IS",title:"Islamabad",d:"M468.43,158.06L472.3,156.09L477.42,156.4L482.67,152.28L482.67,152.28L483.56,159.54L485.62,160.56L487.76,165.64L487.96,172.68L481.53,174.7L475.36,173.47L472.97,170.57L471.81,161.6L468.7,164.34z"},{id:"PK-JK",title:"Azad Kashmir",d:"M511.62,94.03L519.59,93.5L525.64,96.18L531.43,92.6L538.26,97.7L537.34,103.9L539.31,103L545.83,106.37L547.94,109.41L555.4,104.27L559.29,110.11L559.1,116.6L563.38,121.3L563.38,121.3L558.97,120.42L555.07,116.44L546.13,116.71L541.95,114.76L534.89,114.5L529.17,110.69L518.61,109.27L512.21,114.38L505.19,114.13L503.92,116.5L504.72,119.91L502.68,121.14L502.81,123.52L498.1,127.23L497.96,130.34L502.84,129.87L505.81,134.3L505.82,136.77L502.31,143.13L502.79,145.09L506.96,145.57L511.51,144.05L516.35,145.97L516.83,150.11L515.23,152.78L509.27,154.96L505.04,159.58L507.83,166.32L510.43,166.52L513.96,171.82L513.33,176.84L510.71,180.35L507.51,180.89L507.28,183.67L511.05,185.23L514.67,190.8L520.26,192.04L519.03,196.47L522.74,197.19L524.59,202.33L524.59,202.33L520.89,203.19L519.48,201.25L506.84,195L503.68,191.22L499.22,192.38L492.35,188.44L493.6,183.81L492.19,182.85L490.12,175.66L492.29,171.63L492.3,166.59L490.05,164.03L491.21,160.59L489.97,156.41L490.7,152.09L488.55,147.73L488.55,147.73L486.02,133.81L483.49,129.98L485.17,120.75L490.55,119.22L492.85,120.2L493.72,114.23L496.14,110.44L506.07,106.12L510.03,99.03L509.27,95.66z"},{id:"PK-KP",title:"Khyber Pakhtunkhwa",d:"M493.61,9.99L494.98,12.06L500.55,14.73L500.84,18.75L490.72,18.77L483.8,16.64L470.37,19.56L470.87,23.67L469.42,26.92L466.49,30.1L463.22,30.97L462.28,34.67L455.55,39.99L451.07,41.06L449.43,48.28L451.3,52.23L449.2,57.34L451.61,59.92L455.31,61.23L461.29,59.44L467.13,60.49L471.63,59.24L472.85,60.27L473.31,66.42L478.92,70.93L499.25,76.12L495.1,81.81L496.15,89.47L498.99,88.7L511.62,94.03L511.62,94.03L509.27,95.66L510.03,99.03L506.07,106.12L496.14,110.44L493.72,114.23L492.85,120.2L490.55,119.22L485.17,120.75L483.49,129.98L486.02,133.81L488.55,147.73L488.55,147.73L483.79,149.74L484.27,151.56L482.67,152.28L482.67,152.28L477.42,156.4L472.3,156.09L468.43,158.06L468.43,158.06L466.56,158.85L465.46,157.42L462.08,157.14L460.19,148.67L456.34,152L454.53,151.89L453.4,151.01L454.33,148.57L451.01,148.34L449.69,145.81L446.8,144.8L438.83,149.06L439.15,156.69L433.18,155.83L431.14,157.49L428.99,161.68L428.1,168.17L424.92,173.14L418.39,176.87L417.69,180.5L419.91,184.78L418.23,189.66L414.54,187.85L412.51,182.73L405.7,182.04L407.58,191.8L403.73,193.64L400.69,192.73L397.15,194.99L394.76,203.13L396.87,211.03L400.72,212.03L399.81,215.34L404.34,214.32L404.12,221.46L400.38,222.39L397.48,226.57L397.45,229.92L394.63,231.77L392.2,243.7L385.52,253.01L383.94,259.49L385.54,258.85L386.17,260.29L385.52,264.22L383.58,265.2L383.14,269.28L380.72,271.33L379.99,268.69L377.67,269.81L373.08,268.38L368.96,270.42L367.17,273.7L367.17,273.7L364.13,261.55L367.13,258.94L363.33,257.14L361.81,254.66L355.12,230.57L369.71,217.35L373.37,216.29L366.41,205.21L366.18,201.12L369.77,193.83L372.39,190.35L379.15,190.39L385.22,184.04L378.92,182.67L378.39,181L372.78,177.41L370.48,173.5L374.15,173.09L379.76,170.04L380.76,166.2L387.49,167.32L393.27,166.35L395.56,159.02L403.44,164.2L414.74,164.39L413.19,166.73L414.55,168.58L418.03,168.01L423.04,163.95L422.15,161.92L424.03,158.41L419.68,155.03L416.17,158.78L410.76,159.18L410.37,155.12L406.94,152.9L404.97,146.19L405.04,142.4L407.96,136.62L417.73,125.07L415.85,121.32L417.84,117.08L420.41,115.55L421.63,111.25L420.15,109.67L415.89,108.91L411.14,101.43L411.14,101.43L413.44,98.61L411.41,95.64L417.35,90.17L412.61,85.21L416.65,79.54L414.68,75.78L415.67,73.29L411.01,70.74L413,66.77L409.84,63.62L410.76,62.25L409.27,59.36L406.37,56.83L405.87,54.48L403.72,54.08L399.48,49.72L402.91,45.35L408.03,42.34L408.67,40.16L414.61,37.16L412.92,34.81L415.86,31.78L415.91,29.91L421.47,33.47L423.85,33.53L424.02,32.1L422.35,31.49L422.87,28.45L425.85,28.46L426.87,25.8L433.11,24.05L433.35,21.59L437.6,20.82L436.98,19.43L438.7,16.55L448.52,15.39L453.8,11.98L463.51,12.34L475.33,10.61L480.48,11.83z"},{id:"PK-PB",title:"Punjab",d:"M367.17,273.7L368.96,270.42L373.08,268.38L377.67,269.81L379.99,268.69L380.72,271.33L383.14,269.28L383.58,265.2L385.52,264.22L386.17,260.29L385.54,258.85L383.94,259.49L385.52,253.01L392.2,243.7L394.63,231.77L397.45,229.92L397.48,226.57L400.38,222.39L404.12,221.46L404.34,214.32L399.81,215.34L400.72,212.03L396.87,211.03L394.76,203.13L397.15,194.99L400.69,192.73L403.73,193.64L407.58,191.8L405.7,182.04L412.51,182.73L414.54,187.85L418.23,189.66L419.91,184.78L417.69,180.5L418.39,176.87L424.92,173.14L428.1,168.17L428.99,161.68L431.14,157.49L433.18,155.83L439.15,156.69L438.83,149.06L446.8,144.8L449.69,145.81L451.01,148.34L454.33,148.57L453.4,151.01L454.53,151.89L456.34,152L460.19,148.67L462.08,157.14L465.46,157.42L466.56,158.85L468.43,158.06L468.43,158.06L468.7,164.34L471.81,161.6L472.97,170.57L475.36,173.47L481.53,174.7L487.96,172.68L487.76,165.64L485.62,160.56L483.56,159.54L482.67,152.28L482.67,152.28L484.27,151.56L483.79,149.74L488.55,147.73L488.55,147.73L490.7,152.09L489.97,156.41L491.21,160.59L490.05,164.03L492.3,166.59L492.29,171.63L490.12,175.66L492.19,182.85L493.6,183.81L492.35,188.44L499.22,192.38L503.68,191.22L506.84,195L519.48,201.25L520.89,203.19L524.59,202.33L524.59,202.33L527.29,204.67L530.49,203.89L531.56,200.91L533.69,200.14L531.57,210.6L533.29,215.99L539.04,215.84L544.37,218.05L546.57,216.05L548.6,216.58L550.36,219.27L552.7,219.12L558.19,223.35L559.45,227.76L554.66,234.47L552.96,233.13L551.77,235.34L549.9,234.67L545.6,237.12L542.54,235.45L540.47,236.14L538.02,240.47L535.19,241.27L534.16,240.34L533.93,241.84L529.95,243.6L528.25,246.19L526.74,250.99L529.97,258L528.61,260.98L531.56,262.87L526.5,271.33L526.25,277.35L528.08,279.73L530.77,277.42L532.93,277.71L533.59,279.29L530.81,281.46L528.33,280.54L527.54,283.86L520.87,288.72L520.77,290.49L518.96,290.41L516.87,293.98L517.63,295.67L510.25,300.93L509.73,304.65L508.04,304.35L505.28,307.86L504.23,307.62L501.75,311.83L505.1,316.6L505.43,319.57L498.5,325.29L483.19,331L478.54,347.89L465.79,371.26L444.25,382.83L441.05,387.18L436.5,400.62L426.79,410.71L425.4,418.1L416.15,421.95L401.25,423.13L386.21,429.37L381.31,428.55L377.56,419.27L372.52,414.83L366.17,415.89L360.02,421.26L360.02,421.26L353.59,418.33L350.37,415.32L344.58,401.95L344.37,398.76L342.51,398.22L341.85,396.01L332.35,393.2L328.13,395.04L328.13,395.04L326.13,390.8L329.52,388.9L332.03,385.12L333.99,380.49L332.72,378.51L333.07,375.59L340.66,367.81L342.39,359.5L341.74,358.6L340.09,359.77L338.55,357.48L338.96,354.76L335.25,353.24L336.5,343.66L342.07,340.85L345.71,336.9L350.61,325.93L350.59,322.8L353.88,318.62L352.65,316.91L350.45,318.44L349.03,315.61L350.5,309.25L354.96,301.51L354.44,297.33L358.6,294.82L359.01,292.2L361.5,291.74L361.05,280.34L361.05,280.34L361.73,276.01z"},{id:"PK-SD",title:"Sindh",d:"M278.99,594.83l2.74,-0.55l-0.97,5.52l-3.72,-0.19L278.99,594.83zM394.83,558.77l-6.25,-10.76l-1.98,-8.9l-8.51,-10.43l-0.32,-13.13l-10.3,1.43l-4.64,-1.6l-7.1,-10.39l-0.52,-5.54l3.49,-7.34l-0.19,-13.13l-3.93,-2.09l-9.7,0.31l-11.6,-6.37l-1.23,-2.85l1.14,-9.09l2.51,-6.42l16.95,-16.92l3.54,-9.16l3.84,-5.13l0,0l-6.44,-2.93l-3.22,-3.01l-5.79,-13.36l-0.21,-3.19l-1.86,-0.53l-0.66,-2.21l-9.51,-2.81l-4.22,1.84l0,0l-35.11,1.29l-3.65,4.68l-15.94,11.24l-2.08,3.46l-10.27,4.24l-10.19,2.1l-0.99,4.66l-6.76,9.88l-2.18,11.11l1.53,31.15l11.06,19.35l-0.67,12.91l-2.4,6.17l-3.29,2.61l-0.64,2.63l-1.9,0.89l-2.46,4.34l0.18,3.49l-5.31,6.85l-0.13,2.66l-3.16,3.47l-2.95,0.41l-5.99,5.07l0,0l-2.07,1.66l0.28,1.3l7.32,-1.51l4.93,3.23l-2.56,-3.15l1.97,-0.48l0.75,2.38l3.67,2.83l0.26,-1.93l5.44,0.18l0.33,1.31l-2.47,1.55l1.11,1.8l-0.96,0.65l2.31,1.03l-0.61,3.95l2.98,4.59l0.43,3.2l1.62,0.9l-2.11,1.58l2.15,2.86l-0.57,1.43l2.77,8.18l3.55,1.63l-0.54,1.85l2.75,0.28l4.45,4.59l2.13,-0.23l-0.46,-1.06l4.21,0.7l0.42,-3.78l4.27,2.97l0.98,2.97l2.67,-0.84l-0.1,-4.73l1.82,2.58l4.17,-0.54l3.57,-3.69l1.7,0.55l1.79,-2.75l0.68,1.14l4.02,-1.84l0.69,2.63l9.1,-0.52l0.58,-13.57l2.41,-1.02l0.83,4.22l1.19,0.48l2.66,-3.36l2.06,2.14l3.57,-1.82l4.13,1.43l4.27,-1.75l7.38,0.91l3.85,-0.96l4.79,4.33l9.83,0.42l3.12,-1.17l2.31,-4.13l17.06,-5.4l2,0.76l-1.54,2.36l0.08,3.89l8.96,1.25l3.42,-1.45l-0.35,-1.42l2.89,-2.34l3.38,-0.05l3.36,-2.81l-4.89,-1.2l-0.27,-6.64L394.83,558.77z"
},{id:"PK-TA",title:"Federally Administered Tribal Areas",d:"M411.14,101.43L415.89,108.91L420.15,109.67L421.63,111.25L420.41,115.55L417.84,117.08L415.85,121.32L417.73,125.07L407.96,136.62L405.04,142.4L404.97,146.19L406.94,152.9L410.37,155.12L410.76,159.18L416.17,158.78L419.68,155.03L424.03,158.41L422.15,161.92L423.04,163.95L418.03,168.01L414.55,168.58L413.19,166.73L414.74,164.39L403.44,164.2L395.56,159.02L393.27,166.35L387.49,167.32L380.76,166.2L379.76,170.04L374.15,173.09L370.48,173.5L372.78,177.41L378.39,181L378.92,182.67L385.22,184.04L379.15,190.39L372.39,190.35L369.77,193.83L366.18,201.12L366.41,205.21L373.37,216.29L369.71,217.35L355.12,230.57L361.81,254.66L363.33,257.14L367.13,258.94L364.13,261.55L367.17,273.7L367.17,273.7L361.73,276.01L361.05,280.34L361.05,280.34L360.09,277.43L360.9,263.09L360.17,262.04L357.35,264.47L354.56,264.79L352.56,269.01L351.42,262.53L348.17,260.21L349.2,243.58L346.39,245.18L345.1,244.34L346.52,240.7L343.75,238.92L344.89,235.07L339.14,236.01L334.29,241.45L325.83,241.13L325.83,241.13L323.88,231.57L324.19,222.22L322.64,217.43L324.36,214.17L328.23,212.63L331.35,208.19L330.78,205.13L328.91,203.48L334.01,198.91L332.36,195.42L332.82,191.96L335.77,188.3L340.58,188.63L343.75,186.93L347.19,188.39L352.9,186.2L354.61,182.97L358.08,183.68L358.59,181.83L365.24,176.79L364.16,172.82L359.59,168.51L360.47,163.19L358.4,162.43L357.98,159.3L352.17,158.66L350.97,157.43L350.89,154.85L347.04,149.68L348.53,145.68L352.41,145.22L371.39,149.95L374.98,148.27L386.24,147.69L393.21,144.21L393.5,141.7L396.22,139.2L395.41,134.19L397.31,129.94L390.95,125.14L390.52,120.77L391.77,121.6L394.48,119.56L395.66,117.42L395.03,114.77L400.07,111.85L402.67,105.59z"}]}}},angular.module("ppulse").run(["$templateCache",function(e){e.put("app/components/footer/navFooter.html",'<div class=footer><div class=product-by>A product of <a href=http://techletspk.com/ >Techlets Pakistan</a></div><div class=social><a href=https://www.facebook.com/techlets target=_blank><i class="fa fa-facebook"></i></a>&nbsp;&nbsp; <a href=https://twitter.com/techletspk target=_blank><i class="fa fa-twitter"></i></a></div></div>'),e.put("app/components/navbar/navbar.html",'<div class=navigation><nav class=header-bg><div class=navbar-header><a class=navbar-brand href=""><span><img src=./assets/images/logo.png width=30px></span><span>Tech</span><span class=text-blue>lets</span></a></div><div class="collapse navbar-collapse" id=bs-example-navbar-collapse-6><ul class="nav navbar-nav navbar-right"><li class=dropdown><a href=javascript:void(0) ui-sref-active=active ui-sref=account.notifications class="setting dropbtn"><i class="fa fa-cog"></i></a><div class="dropdown-content setting-dropdown"><a ui-sref-active=active ui-sref=account.notification><i class="fa fa-bell"></i> Notification</a> <a ui-sref-active=active ui-sref=account.social><i class="fa fa-users"></i> Social</a></div><!-- <a ui-sref-active="active" ui-sref="account.notifications" class="setting"><i class="fa fa-cog"></i></a></li> --></li><li class=dropdown><!-- <a ng-click="vm.logout()" class="my-account">\n\n          My Account</a> --> <a href=javascript:void(0) class="dropbtn my-account"><img ng-src={{vm.userImg}} width=20px height=20px> My Account</a><div class=dropdown-content><a ui-sref-active=active ui-sref=profile><i class="fa fa-wrench"></i> &nbsp;Profile Settings</a> <a ng-click=vm.logout()><i class="fa fa-sign-out"></i> &nbsp;Sign Out</a></div></li><li ui-sref-active=active><!-- <a ng-click="vm.logout()" class="my-account">\n\n          My Account</a> --> <a ui-sref=cinematic-view class="dropbtn cenima-view"><i class="fa fa-tv"></i> Cinema View</a></li></ul><ul class="nav navbar-nav navbar-right"><li ui-sref-active=active><a ui-sref=feed><i class="fa fa-feed"></i> Feed</a></li><li ng-class="{active: vm.$state.includes(\'dashboard\')}"><a ui-sref=dashboard.listening-analysis><i class="fa fa-bar-chart"></i> Dashboard</a></li><li ui-sref-active=active><a ui-sref=insight><i class="fa fa-pie-chart"></i> Insight</a></li><li ui-sref-active=active><a ui-sref=influencer><i class="fa fa-star"></i> Influencer</a></li></ul><!-- <ul class="nav navbar-nav navbar-right acme-navbar-text">\n        <li>Application was created {{ vm.relativeDate }}.</li>\n      </ul> --></div></nav></div>'),e.put("app/main/account/account.html",'<section class=container-fluid><div class=row><acme-navbar></acme-navbar></div><div class="account row"><nav class="nav-bg col-xs-12"><div class=container><div class=row><div class="dash-nav col-xs-12"><span ui-sref-active=active><a ui-sref=account.notifications>Notifications</a> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span ui-sref-active=active><a ui-sref=account.social>Scoial Accounts</a></span></div></div></div></nav><div class="col-xs-12 settings-view"><div class=row ui-view></div></div></div></section><nav-footer></nav-footer>'),e.put("app/main/cinematic/cinematicView.html",'<section class="container-fluid ng-cloak"><div class="row go-fullscreen-header text-center"><button class=primary-btn ng-click=vm.goFullscreen()>Go Fullscreen</button></div><div class="row cinematic" fullscreen=vm.isFullscreen><h1 ng-show=vm.loading>Loading your Dashboard!</h1><div class=col-xs-12 ng-hide=vm.loading><div class=float-left><div class=header>Overview ({{vm.alertName}})</div><div class=sub-header>This Report is showing data company\'s all soical media sources</div></div><div class=float-right><img src=./assets/images/powered-techlets-white.png width=200px></div></div><div class=col-xs-12 ng-hide=vm.loading><div class="col-xs-10 reduce-padding"><div class="col-xs-12 reduce-padding"><div class=live-card><div class="header text-center">Social Media Followers</div><div class=following-stats-container><div class=following-stats><img width=70px src=./assets/images/facebook2.png><br><span class=number-value>{{vm.topStats.facebook | number}}</span><br><span>Likes</span></div><div class=following-stats><img width=70px src=./assets/images/twitter2.png><br><span class=number-value>{{vm.topStats.twitter | number}}</span><br><span>Followers</span></div><div class=following-stats><img width=70px src=./assets/images/G-analytics.png><br><span class=number-value>{{vm.topStats.googleAnalytics | number}}</span><br><span>Visits</span></div><div class=following-stats><img width=70px src=./assets/images/print.png><br><span class=number-value>{{vm.topStats.print | number}}</span><br><span>Mentions</span></div><div class=following-stats><img width=70px src=./assets/images/web.png><br><span class=number-value>{{vm.topStats.web | number}}</span><br><span>Mentions</span></div></div></div></div><div class="col-xs-3 reduce-padding"><div class=live-card><div class="header text-center">Facebook Impressions</div><div class=facebook-stats><div class=float-left><span class=number-value>{{vm.facebookData.impressions | number}}</span><br>Impressions</div><div class="float-right up-down-lg"><img ng-if="vm.facebookData.changeInImpressions>0" width=20px src=./assets/images/increase.png> <img ng-if="vm.facebookData.changeInImpressions<0" width=20px src=./assets/images/decrease.png> <span>{{vm.facebookData.changeInImpressions | number}}%</span><br><div ng-if="vm.facebookData.changeInEngagement>0">Increase</div><div ng-if="vm.facebookData.changeInEngagement<0">Decrease</div></div></div><div class=mini-graphs id=facebook-impression></div></div></div><div class="col-xs-3 reduce-padding"><div class=live-card><div class="header text-center">Facebook Engagement</div><div class=facebook-stats><div class=float-left><span class=number-value>{{vm.facebookData.engagement | number}}</span><br><span>Engagement</span></div><div class="float-right up-down-lg"><img ng-if="vm.facebookData.changeInEngagement>0" width=20px src=./assets/images/increase.png> <img ng-if="vm.facebookData.changeInEngagement<0" width=20px src=./assets/images/decrease.png> <span>{{vm.facebookData.changeInEngagement | number}}%</span><br><div ng-if="vm.facebookData.changeInEngagement>0">Increase</div><div ng-if="vm.facebookData.changeInEngagement<0">Decrease</div></div></div><div class=mini-graphs id=facebook-engagment></div></div></div><div class="col-xs-6 reduce-padding"><div class="live-card text-center"><div class=header>Google Analytics</div><div class=google-analystics-container><div class="google-analystics pad-btm-graphs-sm border-right">Page Views<br><span class=number-value>{{vm.googleData.pageViews | number:1}}</span><br><img ng-if="vm.googleData.changeInPageViews<0" width=20px src=./assets/images/decrease.png> <img ng-if="vm.googleData.changeInPageViews>0" width=20px src=./assets/images/increase.png> {{vm.googleData.changeInPageViews | number }}% <span ng-if="vm.googleData.changeInPageViews>0" class=prev-blue>Increase</span> <span ng-if="vm.googleData.changeInPageViews<0" class=prev-blue>Decrease</span></div><div class="google-analystics pad-btm-graphs-sm border-right">Bounce rate<br><span class=number-value>{{vm.googleData.bounceRate | number:1}}%</span><br><img ng-if="vm.googleData.changeInBounceRate<0" width=20px src=./assets/images/decrease.png> <img ng-if="vm.googleData.changeInBounceRate>0" width=20px src=./assets/images/increase.png> {{vm.googleData.changeInBounceRate | number:2}}% <span ng-if="vm.googleData.changeInBounceRate>0" class=prev-blue>Increase</span> <span ng-if="vm.googleData.changeInBounceRate<0" class=prev-blue>Decrease</span></div><div class="google-analystics pad-btm-graphs-sm">Avg Session Duration<br><span class=number-value>{{vm.googleData.avgSession | number:1}}%</span><br><img ng-if="vm.googleData.changeInAvgSession<0" width=20px src=./assets/images/decrease.png> <img ng-if="vm.googleData.changeInAvgSession>0" width=20px src=./assets/images/increase.png> {{vm.googleData.changeInAvgSession | number:2}}% <span ng-if="vm.googleData.changeInAvgSession>0" class=prev-blue>Increase</span> <span ng-if="vm.googleData.changeInAvgSession<0" class=prev-blue>Decrease</span></div><div class="google-graphs float-left"><div class=google-analystics><div class=mini-graphs id=google-page-views></div></div><div class=google-analystics><div class=mini-graphs id=google-bounce-rate></div></div><div class=google-analystics><div class=mini-graphs id=google-avg-session></div></div></div></div></div></div></div><div class="col-xs-2 reduce-padding"><div class=live-card><div class="header text-center">Twitter Metrics</div><div class=twitter-matrics><div class=col-xs-6><span class=number-value>{{vm.twitterData.favourites | number}}</span> <img class=twitter-reactions width=20px src=./assets/images/favorite.png><br>Favorite</div><div class=col-xs-6><div class="float-right up-down-lg"><img ng-if="vm.twitterData.changeInFavourites < 0" width=20px src=./assets/images/decrease.png> <img ng-if="vm.twitterData.changeInFavourites > 0" width=20px src=./assets/images/increase.png> <span>{{vm.twitterData.changeInFavourites | number}}%</span><br><div ng-if="vm.twitterData.changeInFavourites > 0">Increase</div><div ng-if="vm.twitterData.changeInFavourites < 0">Decrease</div></div></div><div class=col-xs-12><hr></div></div><div class=twitter-matrics><div class=col-xs-6><span class=number-value>{{vm.twitterData.retweets | number}}</span> <img class=twitter-reactions width=20px src=./assets/images/retweet.png><br>Retweets</div><div class=col-xs-6><div class="float-right up-down-lg"><img ng-if="vm.twitterData.changeInRetweets < 0" width=20px src=./assets/images/decrease.png> <img ng-if="vm.twitterData.changeInRetweets > 0" width=20px src=./assets/images/increase.png> <span>{{vm.twitterData.changeInRetweets | number}}%</span><br><div ng-if="vm.twitterData.changeInRetweets > 0">Increase</div><div ng-if="vm.twitterData.changeInRetweets < 0">Decrease</div></div></div><div class=col-xs-12><hr></div></div><div class=twitter-matrics><div class=col-xs-6><span class=number-value>{{vm.twitterData.replys | number}}</span> <img class=twitter-reactions width=20px src=./assets/images/reply.png><br>Reply</div><div class=col-xs-6><div class="float-right up-down-lg"><img ng-if="vm.twitterData.changeInReplys < 0" width=20px src=./assets/images/decrease.png> <img ng-if="vm.twitterData.changeInReplys > 0" width=20px src=./assets/images/increase.png> <span>{{vm.twitterData.changeInReplys | number}}%</span><br><div ng-if="vm.twitterData.changeInReplys > 0">Increase</div><div ng-if="vm.twitterData.changeInReplys < 0">Decrease</div></div></div></div></div></div><div class="col-xs-4 reduce-padding"><div class=live-card><div class="header text-center">Sentiment Analysis</div><div class=graph-lg id=sentiment-graph></div></div></div><div class="col-xs-4 reduce-padding"><div class=live-card><div class="header text-center">Top Cities</div><div class=graph-lg><pakistan-map cities=vm.mentionByCities> <?xml version="1.0" encoding="utf-8"?> <!-- Generator: Adobe Illustrator 18.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"> <svg version=1.1 id=Layer_1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink x=0px y=0px viewBox="0 0 940 480" enable-background="new 0 0 640 480" xml:space=preserve><g><polygon fill=#274A75 points="89.7,423.5 89.7,423.3 89.9,423.2 89.7,423.1 	"/><path fill=#274A75 d="M603.1,175.6v-3.9v-3.9h-3.3v-6.6l-3.2-3.3v-5.5V149h-2.8v-3.3l-3.9-2.2l-2.2-3.5l-2.2-4.3l1.7-3.5\n                		l-1.5-6.4l-5.4-4.2l3.3-2.5h4.4l2.8-6.2l-6.6-3.3l-2.8-3.9h-4.4L573,103h-6.1v-3.3c0,0-0.6-6.6-2.1-8.2c-1.7-1.7,0-3.9,0-3.9\n                		l-3.9-5.5c0,0,0,0,0-1.1s1.1-4.2,1.1-4.2l2.8-4.2h-6.1h-9.8l0.6-0.7h0.1l1-1l-23.1-12.7H527l-0.6-0.3l-0.4-0.4l-0.7-1l-1-0.7\n                		l-2.2-0.8l-1-0.6l-0.7-1.2l0.4-3l-0.3-1.2l-0.6-0.1L519,50l-0.8,0.3h-0.7H517l-0.4,0.1l-0.3,0.3l-0.4,0.6l-0.1,0.1l-0.6,0.1\n                		l-0.6-0.1h-0.6l-1.1,0.8h-0.4l-0.6-0.3l-0.7-0.1h-0.7l-1.4,0.4h-0.7l-0.8-0.8l-0.3-1.4l-0.1-1.5l-0.3-1.4l-0.7-1.4l-0.8-0.6\n                		l-2.4-0.1l-1-0.4l-1-1l-0.7-1.2l-0.1-1.2l0.3-0.7l0.4-0.4l1.5-1l0.1-0.1l0.1-0.3v-0.4l-0.3-0.7v-0.4l0.4-0.6l0.6-0.3L504,36v-0.7\n                		l-0.3-0.6l-0.8-1l-0.3-0.6v-1.5l0.7-3l-0.3-0.8l-0.1-0.6l-3-6l-0.8-1l-1.8-1.7l-1.8-1.4l-2.4-1.2l-2.5-0.6l-1.9,0.7l-0.3,0.4\n                		l-0.1,0.4l-0.1,0.3l-1.8-0.1l-0.7-1l-0.3-1.4l-0.1-1.5l-0.3-1.4l-0.6-1.2l-0.8-0.8l-1.1-0.7l-3.5-0.8l-1-0.6L477.1,7l-0.4-0.3h-0.6\n                		l-2.6,0.4h-1.1l-1,0.3l-0.6,0.3l-0.4,0.4l-0.4,0.6l-0.3,1.1l-0.1,0.3l-0.4,0.1l-0.1-0.4L469,8.7l-0.3,0.6L467.9,9l-1-1.8l-2.2-0.6\n                		l-0.8-1L463.4,5L463,4.8l-1.1,0.4L460,5.6l-0.6,0.3l0.1,0.3v0.3v0.3L459.4,7l-0.1,1.2l-0.6,0.1l-0.6-0.6L457.6,7l-0.1-0.1l-0.1-0.1\n                		l-0.7-0.1l-0.6,0.1l-1.2,0.4l-0.7,0.7l-2.5,1.5l-1.5,1.2l-0.8,0.3l-2.1-0.3l-0.6,0.1l-0.4,0.4l-0.3,0.6l-0.1,1.2l-0.3,0.4l-1.8,0.6\n                		h-1l-0.8-0.3l-0.8-0.3l-2.5-1.5l-1-0.4l-1.8,0.4l-1.9,0.6v-0.7l-2.1-0.4l-4,0.6l-1-0.3l-0.8-0.3l-2.1,0.1l-1.5-0.1l-1.5,0.6h-0.4\n                		l-0.4-0.1l-0.8-0.3l-1-0.1l-4.6,0.4l-0.6,0.3l-0.7,0.6h-0.8l-0.1,0.1l-0.8-0.3l-0.7,0.1l-0.7,0.4l-0.8,0.3l-2.8,0.1L403,13\n                		l-1.9,0.1l-1.9,0.4l-1.1,0.6l-0.7,0.1l-1.4,0.7l-1.2,1l-1-0.1l-1.2,0.4l-1.2,0.1l-2.8,0.6l-1.2,0.6v0.1H387l-1.2,0.6l-0.4,0.4\n                		l-0.1,0.4l0.4,0.7l0.1,0.4l-0.6,0.1l-0.8,0.3l-0.4,0.1l-0.1,0.1h-0.4l-0.8,0.3l-0.4,0.1l-0.3,0.3l0.7,0.6l0.1,0.3l-0.1,0.3\n                		l-0.3,0.1l-0.6,0.3l-1,0.3l-0.7,0.3l-0.4,0.4l-1.4,0.8l-0.4,0.4l-0.3,0.4h-1.2l-0.6,0.4v0.1h-1l-0.6,0.4v1.1l0.4,1.1l0.1,0.6h-0.3\n                		l-1-1l-1.7-1.1l-0.7-0.3l-0.6,0.1l-0.3,0.3l-0.1,0.3l-0.6-0.3l-0.6,0.1l-0.3,0.3l-0.4,1.1l-0.3,0.7l-0.3,0.4l-0.8,0.7l-0.1,0.6\n                		l0.3,0.6l0.1,0.6l-0.1,0.1l-0.4,0.1l-0.3,0.1l-0.6,0.1l-0.6,0.3l-0.6,0.3l-2.2,2.6l-0.6,0.4l-1.9,0.7l-0.1,0.1l-0.1,0.8l-0.1,0.3\n                		l-0.3,0.1l-1,0.4l-1.1,0.8l-0.1,0.3L357,41l-0.1,0.3l-1,1l-0.3,0.7l0.1,0.6l0.1,0.1l0.3,0.3l1,0.6l0.4,0.3l0.7,0.8l0.8,0.3l0.8,0.3\n                		l0.8,0.3l0.4,0.6l0.1,1.2l0.3,0.6l1.4,1l0.4,0.6l1,1.8l0.3,0.6V53l-0.1,0.3v0.4l0.1,0.4l0.1,0.3l0.6,0.4l0.1,0.1l0.4,0.7l0.1,0.7\n                		l-0.1,0.7l-0.6,0.7l-0.4,0.7l0.3,0.7l0.6,0.6l1.7,0.8l0.6,0.4l0.3,0.6v0.7l-0.1,0.7l-0.1,0.7l0.1,0.8l0.1,0.3l0.3,0.3l0.4,0.4\n                		l0.3,0.6v0.7l-0.3,0.6l-1.5,1.2l-0.8,1.1v1.1l0.6,1l1.7,1.9l0.8,0.7l0.1,0.6l-0.3,0.7l-0.8,1.2l-2.1,1.4l-0.8,1v1.7l0.1,0.4\n                		l-0.1,0.3l-0.1,0.3l-0.3,0.3l-0.8,0.1l0.7,0.3l-0.1,0.8l-0.3,0.4l-0.3,0.3l-0.4,0.1l0.1,0.1l0.3,0.6l-2.6,1.1l-1,0.8l-0.6,1.1\n                		l-0.4,1.2l-1.7,2.2l-0.4,0.4l-1.2,0.7l-2.2,1.7l-0.3,0.4V95l0.3,0.8l0.1,0.7l-0.1,1l-0.3,0.7l-0.6,0.3l-1.2-0.1h-0.6h-0.1l-0.4,0.3\n                		l-0.4,0.6l-0.1,0.8l0.1,0.8l0.3,0.7l0.6,1l1,1.1l1,1l2.1,1.2l0.1,0.8l-0.8,2.6v0.7l0.3,1.2v0.7l-0.1,1l-0.3,0.6l-0.8,1l-0.3,0.7\n                		l0.1,0.6l0.1,0.6l-0.1,0.7l-0.4,0.4L352,118l-0.7,0.1l-0.4,0.6l-0.3,0.4l-0.4,0.1h-0.6l-0.8-0.3h-0.3l-0.1,0.4l-0.6,1.1l-2.2,0.4\n                		l-4-0.1l-4.2,0.6h-1l-2.5-0.6l-2.4-0.1l-0.6-0.1l-1.1-0.6l-1.7-0.1l-6.6-2.4h-1.1l-1.5,0.3l-0.4,0.1l-0.6,0.1l-0.4,0.4v0.6l0.1,0.6\n                		v0.6l-0.6,0.6l-0.4,0.6l0.3,0.6l0.8,1l0.3,0.6l0.4,1.4l0.3,0.6l0.7,1.1l0.3,0.6l0.1,0.7l0.3,0.7l0.6,0.3h0.7l0.4,0.1l1.5,0.7\n                		l1.4-0.3l0.3,0.4l0.3,1.4l0.3,0.6l0.1,0.1l0.3,0.1l0.6,0.3l0.1,0.1l0.1,0.3v1l-0.6,2.4v0.7v0.7l0.3,0.7l0.4,0.6l0.1,0.1l0.8,0.3\n                		l0.1,0.1l0.1,0.7l0.1,0.3l1.7,1.8l0.4,1.1l-0.1,1.2l-5.1,4.3l-0.6,0.3h-0.7l-0.7-0.4l-0.4,0.1l-1.1,1.9l-0.1,0.3l-0.4,0.1l-1-0.1\n                		H320l-2.4,1.4h-1.2l-2.1-1l-1.2,0.1l-1.4,1l-0.6,0.1h-0.3l-0.1-0.1l-0.3-0.1l-1,0.3H309l-1.2,0.1l-1,0.7l-0.8,1l-0.3,0.7l-0.3,0.7\n                		l0.6,3.9l-0.3,1.1l-0.1,0.1l-0.7,0.7l-0.7,1l-1,0.8l-0.4,0.6v0.7l0.1,0.3l0.1,0.3l0.3,0.1h0.3l0.1,0.1v0.3l0.1,0.6l0.3,1.2\n                		l-0.1,0.4l-0.4,0.7l-1.7,2.4l0.4-0.7l-1.2,0.4l-0.6,0.4l-0.8,1.1l-0.6,1.4l-0.1,1.5l0.3,1.5l0.7,2.1l0.1,0.7l-0.1,0.8l-0.3,1.5v1.5\n                		l-0.3,1.4l-0.1,0.8l0.6,3.5l1,2.6l0.1,0.6l-0.1,0.1l0.8,0.1l0.1,0.3l-0.1-0.3l-0.8-0.1v0.1l-1.4,1l-0.8,0.8l-3.3,5.1l-0.4,0.4\n                		l-0.4,0.3l-0.4,0.6l-1,1l-1.1,0.8l-0.8,0.4H290l-1,0.3l-1.9,1l-1.2,0.1l-0.8-0.6l-1.4-1.9l-0.8-1l-0.3-0.6l-0.1-1.4l-0.3-0.4\n                		l-0.4-0.3l-1.5-0.1l-1.7-1l-1.1-0.4h-0.7l-0.8,0.3l-1.4,0.7l-0.6,0.4l0.1,0.4l0.6,0.3l0.7,0.1h1.8h0.6l0.3,0.3l-0.4,0.6l-0.7,0.4\n                		l-0.6,0.3l-1.1-0.1l-3.2-1.1h-1.1h-1.1h-0.7l-0.4-0.3l-0.4-0.4l-0.8-0.7l-0.7-0.4l-0.7-0.3l-0.6,0.1l-0.4,0.6l-0.6,1.5l-0.1,0.3\n                		l-0.1,0.3l-1.1,1l-0.1,0.3l-0.1,0.8l-0.1,0.3l-1.7,0.8l-0.4,0.4l-0.4,0.6l-0.3,0.1h-1.1l-1-0.1h-0.4l-0.8,0.4l-1.9,2.1l-1,0.7\n                		l-0.7,0.4l-1,0.4l-1,0.1l-1.9-0.6h-1l-0.4,0.6l0.3,0.6l0.4,0.6l0.4,0.6l0.1,1.4l0.4,0.6l0.6,0.4l0.6,0.1l2.5-0.3l1.1,0.4l0.1,1.4\n                		l-0.3,0.7l-0.6,0.3l-1.2-0.1l-0.6,0.1l-0.4,0.4l-0.4,0.4l-1.9,1.2l-0.6,0.3l-1.5,0.3l-1.2,0.6l-1.8,0.3l-2.1,0.8l-0.6,0.1l-1.9-0.1\n                		l-1.5,0.1h-0.4l-0.7-0.3l-1.1-0.7l-0.7-0.1l-0.6,0.1l-1.1,0.3h-0.6l-0.7-0.1l-0.3-0.1l-0.1-0.1v-0.3l0.1-0.1l0.1-0.1l0.1-0.3v-0.8\n                		l-0.3-0.6l-0.4-0.3h-1.8l-1.1,0.3l-2.1,0.1l-1,0.8l-0.7,0.8l-0.7,0.7l-1.2,0.1l-0.7,0.6l-1,3.9l-0.6,0.8l-2.8,2.9l-0.6-0.4l-4,0.8\n                		l-0.6,0.3l-0.3,0.6l-3,11.4l-0.1,1.5l0.4,1.4l0.7,1l0.3,0.4l0.1,0.7v0.7l-0.6,4.6v2.1l-0.1,0.7l-1.9,3.9l-0.4,1.2v0.6l0.3,0.6\n                		l1.1,0.7l1.2,1.2l1,0.7l0.3,0.3l-0.4,0.3h-0.3l-0.1,0.1l-0.7,1.1l-0.8,1.1l-2.4,1.7l-2.6,0.7l-1.8,0.6l-1.8,0.6l-1.8,0.6l-1.8,0.6\n                		l-1.8,0.6l-1.8,0.6l-1.8,0.6l-1.8,0.6l-1.8,0.6l-1.8,0.6l-1.8,0.6l-1.8,0.6l-1.8,0.6l-1.8,0.6l-1.8,0.6l-1.8,0.6l-4.4,1.2h-1.5\n                		l-5-1l-4.2-0.1l-5.5-0.1h-0.7l-8.2,2.4l-1.1,0.6l-0.7,0.8l-1.1,2.2l-0.8,0.4l-3.5-1.5l-5.5-1.1l-6.6-1.4l-4.6,0.3l-1.4,0.1\n                		l-1.4,0.1l-1.4,0.1l-1.4,0.1l-1.4,0.1l-1.4,0.1l-1.4,0.1l-1.4,0.1l-1.4,0.1l-1.4,0.1l-1.4,0.1l-1.4,0.1l-1.4,0.1l-1.4,0.1l-1.4,0.1\n                		l-1.4,0.1l-0.8,0.1l-3.7,0.3l-3-0.7l-2.9-1l-2.5-0.8l-2.5-0.8l-2.5-0.8l-2.5-0.8l-2.5-0.8l-2.5-0.8l-2.5-0.8l-2.5-0.8l-2.5-0.8\n                		l-2.5-0.8l-2.5-0.8l-2.5-0.8l-2.5-0.8l-2.5-0.8l-2.5-0.8l-2.5-0.8l-2.2-0.7l-1-0.4l2.4,2.9l1.7,1.9l1.9,2.4l2.2,2.8l2.4,2.8\n                		l2.5,2.9l0.6,0.6l0.7,0.3l0.6,0.4l0.3,0.8v0.7l-0.4,1.1v0.7l0.3,0.7l1,1.1l0.4,0.6l0.1,0.4l0.1,0.8l0.1,0.4l0.4,0.3l0.3,0.1h0.3\n                		l0.3,0.1l0.3,0.6l0.1,0.7l0.3,0.6l0.6,0.3l0.3,0.1v0.3l-0.1,0.3L65,292l-0.1,0.1v0.3v0.3l0.1,0.1l0.4,0.3l0.3,0.3l0.3,0.4l1.2,3\n                		l0.1,0.7l0.1,0.6l0.1,0.6l1,1.1l0.8,1.9l1,1.1l3,2.9l1.2,1.5l1.9,1.8l1,1.2l0.6,0.3l1.8,0.6l1.4,0.8l0.8,0.3l2.1,0.1l1,0.3l2.5,1.1\n                		l4,0.8l0.8,0.4l0.4,0.4l0.3,0.4l0.4,0.4l0.6,0.3l0.6,0.1l0.3,0.1l0.3,0.4l0.1,0.7l0.4,0.7l1.9,2.1l0.6,0.4l4.8-1l0.7,0.4l0.1,1.2\n                		l-0.4,3.5l-0.6,3.9l0.6,2.4l0.8,3.3l0.1,2.1l0.3,2.8l0.1,1.7l0.3,3l0.1,1.8l-0.3,1.4l-1.7,3.6l0.7,0.7l0.1,0.4v0.6l-0.1,0.4\n                		l-0.3,0.4l-0.3,0.3h-0.4l1.4,1.1l0.4,0.3h0.3l0.4-0.3h0.3h0.3l0.7,0.4l1,0.3h0.8l1.7-0.4l0.7-0.1l1.7-0.6h0.8h0.4h0.4l1.7-0.6h0.4\n                		l0.4,0.1l0.7,0.8l0.3,0.1l0.7,0.3l0.3,0.1l0.4,0.3l0.4,0.7l1.1,2.2l-0.6-0.3h-0.7l-0.7,0.1l-2.5,2.4l-0.1,0.3l-0.4,0.6l-0.1,0.3\n                		l-0.1,0.4l0.1,3.9l0.3,0.7l0.3,0.6l0.3,0.6l-0.1,0.7l-0.4,0.4l-1.2,0.1l-0.6,0.3l-0.3,0.6l-0.3,5l-0.3,1.2l-0.7,0.7h-0.4l-0.1-0.1\n                		l-0.1-0.1h-0.3l-0.3-0.1l-0.8,0.3c-9.6,2.6-18.1-1.7-25.4,8.3c-1,0.1-1.9,0.4-3,0.6c-9.8,1.9-10.1,9.7-11.4,17.6l-0.1,0.6l-0.6,0.6\n                		l-0.6,0.1H69l-0.7,0.1l-0.7,0.8l0.1,1.2l0.4,1.4v1.1l-0.1,0.3l-0.4,0.4l-0.1,0.3l-0.1,0.4l-0.1,1.9l-0.3,2.9l-0.3,3.3l-0.3,2.9\n                		l-1,2.8h0.7l0.4-0.1l0.3,0.1l0.4,0.1h1l0.3,0.1h0.3l0.1,0.1l0.1,0.1l0.3,0.1h0.3l0.4,0.3h0.1l0.1-0.1l0.3-0.3l0.1-0.1H71l0.1-0.1\n                		l0.1,0.1v0.4l-0.1,0.3l-0.4,0.6l-0.1,0.3v0.4v0.3l-0.3,0.4l-0.6,0.4l-0.1,0.3l0.3,0.4l-0.3,0.4l-0.1,0.8l0.3,0.6l0.7,0.3l1.1-0.1\n                		l0.8-0.3l0.6-0.4h0.4l0.4-1l0.3-0.3l0.1-0.3l0.4-0.6l1.4-0.3l1.8,0.1l1.5,0.1c-0.4,0,4.8-2.6,7.3-3.3c11.4-2.9,25.1-2.1,36.3,0.7\n                		c0.1-3.3,3.5-5.8,6.8-6.2c3.3-0.6,6.6,0.4,9.8,1.2c12.6,3,26,3.5,38.8,1.1c7.6-1.4,15.1-3.7,22.9-3.7c7.8,0,16.1,2.9,20.1,9.6\n                		c-0.7,5.4-2.8,10.9,4.3,10.3l0.6,0.4l0.6,0.6l0.6,0.4h0.7l-0.1-0.3v-0.3v-0.6h0.3l0.3,0.3l0.4,0.3l0.6,0.3l0.6,0.1l1.2,1l0.6,0.3\n                		l0-2.8l0.1-0.3l0.6,0.3h0.4l0.4-0.1l0.6-0.1h0.3l0.3,0.3l0.1,0.4l0.1,0.7h0.3l1.1-0.1l0.4-0.1h0.3l0.4,0.3l0.4,0.4v0.3l-0.8,0.6\n                		l-0.7,0.6l-0.8,0.7l-0.6,1l-0.3,0.8l0.1,0.6h0.3l0.4-0.1l0.6-0.1l0.6,0.1l0.4,0.3l1,0.6l-0.6,0.3l-0.6,0.1H236l-0.6-0.3v0.4\n                		l0.1,0.6l0.3,0.6l0.3,0.4h0.7l0.1,0.3l-0.6,0.6l0.7,0.7l0.6,0.7l0.3,0.8v0.8l0.4-0.3l0.1-0.1l0.1-0.1l-0.4,1.5l-0.1,1l0.4,0.4h1.2\n                		l0.6,0.1l0.6,0.4l-0.8-0.1l-1,0.1l-0.6,0.4l0.3,0.8l-0.1,0.1l-0.1,0.3l-0.1,0.1l0.3,0.4l0.1,0.3v1.7l0.1,0.6l0.1,0.4l0.8,1.4\n                		l0.4,0.8l0.1,1.1l0.3,0.6l1,0.1l1.8-0.1l0.8,0.1l0.7,0.3h0.7l0.7-0.7l-0.1,0.6l-0.3,0.3l-0.8,0.6l-0.4-0.1l-0.3,0.4l-0.6,1.1\n                		l0.4,0.3l1.2,0.3l-0.1,0.8l-0.1,0.6v0.4l0.3,0.1l0.3-0.1l0.3-0.3l0.3-0.1l-0.1,0.3l-0.4,0.7l-0.1,0.3l-0.3,0.1h-0.3h-0.3h-0.3\n                		l0.4,0.3l1.7,0.4l-0.3-0.3l-0.1-0.4v-0.3h0.4l0.4,0.3l0.3,0.4l0.3,0.1l0.4-0.4l0.1,0.6l0.4,0.4l0.4,0.1l0.4-0.3l0.3-0.7v-1.4\n                		l0.4-0.6v0.1v0.1h0.1v0.3l-0.3,0.4l-0.3,1.9l-0.1,0.3l-1.2,0l-0.1,0.3l-0.1,0.4v0.3h0.3h0.3l0.3,0.1l1.1,0.3h0.7l0.6-0.1l0.4-0.6\n                		l-0.1-0.6l-0.4-0.1l-0.4-0.3l1.7,0.8l0.8,0.3l1,0.1l0.3-0.4l0.3-2.1l0.1-0.8l0.3,0.3v1.1l0.1,0.6l0.4-0.4l0.3-0.1h0.3l0.1,0.3v0.4\n                		l0.1,0.4h0.3h0.3h0.3v0.3l0.1,0.4l0.3,0.1l0.3,0.1l0.3,0.1v-0.1l0.3-0.1h0.4l0.1,0.1v0.3l0.1,0.4l0.1,0.4l0.1,0.1l0.3-0.1l0.4-0.6\n                		l0.6-1.2l-0.4-0.8l-0.8-2.9l0.3,0.1l0.7,0.4l0.6-0.1l-0.1,0.4l-0.3,0.8l0.1,0.7l0.4,0.7l0.4,0.4l0.4,0.3v0.3h-0.4l-0.1,0.1\n                		l-0.3,0.6v0.1l0.1,0.6l-0.1,0.1l-0.4,0.4v0.3l0.3,0.7l0.6,0.6h0.4l0.1-0.8l0.8,0.8l0.6,0.6h0.3l-0.1-0.6l-0.3-1v-0.6l0.1-0.7\n                		l0.6-1.2l0.1-0.7l-0.1-0.1l-0.3-0.4v-0.3v-0.4v-1.1l0.7,2.1l0.7-1.1l0.3-0.1l0.6-0.3l0.3-0.1h0.1l0.3,0.1h0.1l0.1-0.1l-0.1-0.1\n                		l-0.1-0.1h-0.1v-0.3v-0.3l0.1-0.3l0.3-0.3h0.3l0.1,0.1v0.3l0.1,0.3l0.4,0.3l0.4-0.1l0.3-0.4l0.3-0.4v-0.3l-0.1-0.4v-0.3h0.4\n                		l0.1,0.1v0.3v0.4v0.3l1-0.7l1.4-0.3h3.5h3h2.4v-4.7v-3.5v-2.6l0.7-1.4h1.7l0.4,0.7l0.3,1.9l0.6,0.6l0.3-0.3l1-1.8v-0.3v-0.3\n                		l0.1-0.1h0.4l0.3,0.1l0.3,0.1l0.3,0.3l0.6,1.1l0.4,0.4h0.6l0.8-0.3l1.2-0.7l0.6-0.1l0.8,0.1l1.7,0.8l0.6,0.1l1.2-0.1l2.4-0.8\n                		l8.6,0.3l0.8,0.4l2.4,2.6l1.4,0.7l1.7,0.1h6.2l1.4-0.3l1.1-1l0.4-0.6l0.7-2.1l0.4-0.6l0.4-0.1l1.1-0.1l1.8-0.6l0.6-0.1l0.6-0.1\n                		l1.1-0.8l0.6-0.3h1.7l0.6-0.3l1.4-1l3.2-0.7l1.2,0.1l0.4,0.8l-0.1,0.3l-0.6,0.3l-0.1,0.1v0.4l0.3,1.1l0.1,1.2l0.3,0.6l0.4,0.4\n                		l1.1,0.6l4.2,0.3l0.7-0.1l1.2-0.6l0.7-0.1l0.6-0.1l0.1-0.1l-0.4-0.6l-0.1-0.6l0.6-0.6l1.8-1.2l0.6-0.3h0.6l0.7,0.3h0.6l0.3-0.3\n                		l0.3-0.4l0.3-0.4l1.4-0.6l0.3-0.3l-0.3-0.8l-1.1-0.4l-1.2-0.1l-0.7-0.4v-0.3v-0.3v-0.3v-0.3v-0.7v-0.3v-0.3v-0.3l-0.1-0.1l-0.6-0.6\n                		l-0.1-1l0.3-1l0.4-0.8l1.9-1l0.6-0.4l-0.3-0.3l-0.6-1l-1-2.9l-1.8-2.9l-0.8-1.7l-0.7-1.8l-1-4.6l-0.4-0.8l-0.6-0.7l-1.9-1.7l-1-1.2\n                		l-0.3-0.7l-0.1-0.7l-0.3-0.8l-1.1-1.4l-0.6-0.7l-0.1-1.2l0.3-3.7l0.1-3l-0.1-1.4l-0.7-0.8l-1.2-0.3l-1.1,0.3l-1.2,0.6l-1.2,0.3\n                		h-3.5l-1.7-0.4l-1.1-0.4l-0.6-0.4l-0.4-0.8l-0.6-1.9l-0.6-0.7l-1.2-1.1l-1.1-1.4l-1-1.7l-0.6-1.7v-0.4l0.3-1.8v-1.1l0.1-0.6\n                		l1.7-2.8l0.4-1.2l0.1-1.2l-0.3-1.4v-0.7l0.1-0.7l0.3-0.7l0.1-0.6l-0.1-1.2l0.3-2.8l-0.1-1.2l-0.8-1.1l-1.1-0.7l-1.1-0.3l-7.3,0.3\n                		l-1.2-0.6l-2.2-1.9l-1.1-0.8l-4.6-1.9l-1-1.1l-0.3-1.4l0.7-4l0.7-4.2l0.8-2.6l1.2-2.1l2.8-2.8l1.9-1.4l3.6-3.5l1.8-2.9l2.6-2.5\n                		l0.7-1l2.2-6.5l0.4-0.6l2.6-2.8l-1.1-0.6l1.2-0.8l1.7-1.8l0.6-0.3l0.6-0.1l1.2-0.1l1.1-0.4l0.7-0.1h0.7l0.8,0.3l0.8,0.4l0.8,0.7\n                		l1,1.2l0.8,0.7l0.4,0.4l0.3,0.7l-0.1,1.2v0.7l1,2.2l1.2,1.7l1.5,1.1l2.1,0.3l2.5-0.6l3.5-1.7l3.7-1.8l2.4-0.8l2.6-0.6l2.6-0.1\n                		l2.4,0.3l2.5-0.1l4.3-1.2l4.8-1.5l0.4-0.4l0.1-0.6l0.4-4.2l0.1-0.7l0.4-0.7l2.4-3l3.7-3l1.2-1.2l0.8-1.5l0.7-1.5l1.8-6.9l0.7-1.4\n                		l2.2-2.8l0.8-0.6l4.3-2.4l4-2.1l3.5-1.8l3.9-2.1l0.6-0.3l0.4-0.6l1-2.5l0.8-1.2l1.9-2.5l2.4-4.6l1.5-2.9l1.7-3.2l1.7-5.1l1.2-4.2\n                		l1.2-4.2l0.4-0.4l5.3-2.4l5.5-1.1l1.2-0.7l5-4.2v-0.6l0.1-0.4l-0.4-1.5l-0.7-1.4l-0.6-1l-1.5-0.8v-0.1l0.3-0.6l0.4-0.4l0.7-0.3h0.6\n                		v-0.3L437,247v-0.3l0.6,0.1h0.4l0.3-0.3l1.7-2.2l0.3-0.4l0.3-0.3l1.2-0.3l0.4-0.4l0.1-1l-0.1-0.6l-0.1-0.6l0.3-0.7l0.6-0.6l0.4-0.4\n                		l0.4-0.4l0.7-0.3l0.7-0.1l0.3-0.1l0.1-0.4l0.1-0.3l0.4-0.4l0.1-0.8l0.1-0.3l0.4-0.4l0.6-1l0.3-0.3l0.4-0.4l0.1-0.3v-0.3l-0.3-0.7\n                		l0.1-0.1l0.7-0.1l0.6-0.4l0.4-0.6l-0.1-0.7l0.3-0.4l0.3-0.3l0.3-0.3l0.4-0.1l0.3,0.1l0.8,0.1h0.7l0.1-0.3l0.1-0.6l0.4-0.6l0.4-0.4\n                		l0.6-0.3l0.6-0.1h0.7l0.7-0.1l0.4-0.4l0.4-0.6l0.4-0.4v-0.7l0.6-0.6l0.7-0.6l1.8-1l-0.3-0.3l-0.6-0.6l-0.4-0.3h-0.6l-1.4,0.3\n                		l-0.6-0.3l-0.4-0.4l-0.3-0.4l-0.1-0.6v-0.7v-0.7l0.4-1.4v-1.7l0.1-0.8l1.2-3l0.4-0.6l0.6-0.6l0.4-0.6l0.1-0.7v-0.7l-1-1.4l-0.8-3.3\n                		l-1.7-3l-0.4-0.4v-0.3l0.4-0.6h0.3h0.3l0.1-0.1v-0.1l0.1-0.4v-0.3l0.1-0.3l0.1-0.1v-0.3v-0.4l0.1-0.8l0.3-0.7l0.4-0.4l2.4-1.8\n                		l0.6-0.3l0.4-0.3l0.8-1.7l1.9,0.4l0.7-0.1l0.6-1l0.3-1.2l0.6-0.8l1.4,0.4l0.6-0.6l0.6-0.1h0.7h0.7l0.4-0.3l0.1-0.3l0.1-0.3l0.1-0.3\n                		l0.3-0.1l0.8,0.1h0.4l-0.3-1l0.6-0.1l1.8,0.7h0.3l0.3-0.1l0.3-0.4l0.3-0.1l0.7,0.1l0.3,0.1v-0.8l0.7-0.7l1-0.4l0.8-0.3h0.4l1,0.1\n                		l0.1-0.4l0.3-1.2l0.3-0.7l1-1.1l0.3-0.7l2.9-1.7h4.4l8.3-8.2l1.7-4.3l-0.6-2.8l-3.3-4.4l5.5-0.4l3.9-2.2l3.9-1.1l3.3-5l2.8-0.6h3.3\n                		l6.1,1.7l3.7,3.9l4.7,2.8l0.7,3.3l6.2,0.1l8.3-1.1l5-2.1h2.8l2.8,4.4l3.3,5.5l3.3,0.6l4.8-0.6l5.7-2.2l-2.2,5l-3.5,2.2l4.6,2.8\n                		l4.4-4.3l2.8-2.2l4.4-0.6l1.7,4.4l1,6.1h3.3l3.9-2.8h2.8v-3.3L603.1,175.6z"/><polygon fill=#274A75 points="244.1,462 243.9,462 243.3,461.6 241.9,462 241.2,462 240.8,461.6 240.9,462 241.1,462.3\n                		241.2,462.7 241.8,463.2 242.3,463.4 243.2,463.2 243.3,462.8 243.4,462.3 	"/></g><circle fill=#6498CB cx=419.1 cy=125.6 ng-attr-r="{{vm.citiesHash[\'Islamabad\'].size}}"/><circle fill=#6498CB cx=363.7 cy=114.1 ng-attr-r="{{vm.citiesHash[\'Peshawar\'].size}}"/><circle fill=#6498CB cx=449.2 cy=203.6 ng-attr-r="{{vm.citiesHash[\'Lahore\'].size}}"/><circle fill=#6498CB cx=412.2 cy=208.7 ng-attr-r="{{vm.citiesHash[\'Faisalabad\'].size}}"/><circle fill=#6498CB cx=377.5 cy=248.9 ng-attr-r="{{vm.citiesHash[\'Multan\'].size}}"/><circle fill=#6498CB cx=288.5 cy=345.9 ng-attr-r="{{vm.citiesHash[\'Sukhur\'].size}}"/><circle fill=#6498CB cx=221 cy=261.4 ng-attr-r="{{vm.citiesHash[\'Quetta\'].size}}"/><circle fill=#6498CB cx=229.3 cy=428 ng-attr-r="{{vm.citiesHash[\'Karachi\'].size}}"/><circle fill=#6498CB cx=388.6 cy=100.3 ng-attr-r="{{vm.citiesHash[\'Mardan\'].size}}"/><circle fill=#6498CB cx=208.8 cy=246 ng-attr-r="{{vm.citiesHash[\'Chaman\'].size}}"/><text id=Lahore style=display:none transform="matrix(1 0 0 1 463.8621 207.82)" fill=#6498CB font-family="\'Roboto\'" font-size=13.8538>Lahore</text><text id=Islamabad style=display:none transform="matrix(1 0 0 1 435.2312 129.7771)" fill=#6498CB font-family="\'Roboto\'" font-size=13.8538>Islamabad</text><text id=Mardan style=display:none transform="matrix(1 0 0 1 401.1374 105.7644)" fill=#6498CB font-family="\'Roboto\'" font-size=13.8538>Mardan</text><text id=Peshawar style=display:none transform="matrix(1 0 0 1 294.0017 116.8459)" fill=#6498CB font-family="\'Roboto\'" font-size=13.8538>Peshawar</text><text id=Quetta style=display:none transform="matrix(1 0 0 1 165.1618 265.5432)" fill=#6498CB font-family="\'Roboto\'" font-size=13.8538>Quetta</text><text id=Karachi style=display:none transform="matrix(1 0 0 1 240.7663 434.5608)" fill=#6498CB font-family="\'Roboto\'" font-size=13.8538>Karachi</text><text id=Sukhur style=display:none transform="matrix(1 0 0 1 299.5437 351.4377)" fill=#6498CB font-family="\'Roboto\'" font-size=13.8538>Sukhur</text><text id=Chaman style=display:none transform="matrix(1 0 0 1 150.2214 248.8049)" fill=#6498CB font-family="\'Roboto\'" font-size=13.8538>Chaman</text><text id=Faisalabad style=display:none transform="matrix(1 0 0 1 339.0271 211.9768)" fill=#6498CB font-family="\'Roboto\'" font-size=13.8538>Faisalabad</text><text id=Multan style=display:none transform="matrix(1 0 0 1 388.6696 253.0744)" fill=#6498CB font-family="\'Roboto\'" font-size=13.8538>Multan</text></svg><div class=top-cities><div ng-class="{\'first-city\': $first}" ng-repeat="city in vm.mentionByCities | limitTo:3">- {{city.name}} ({{city.mentions}})<br><br></div></div></pakistan-map></div></div></div><div class="col-xs-4 reduce-padding"><div class=live-card><div class="header text-center">Web and Print media</div><div class=graph-lg id=web-print-reach></div></div></div></div></div></section>'),e.put("app/main/dashboard/dashboard.html",'<section class=container-fluid><div class=row><acme-navbar></acme-navbar></div><div class="dashboard row"><nav class="nav-bg col-xs-12"><div class=container><div class=row><div class="dash-nav col-xs-12"><span ui-sref-active=active><a ui-sref=dashboard.listening-analysis>Listening Analysis</a> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span ui-sref-active=active><a ui-sref=dashboard.competitive-analysis>Competitive Analysis</a></span></div></div><!-- <ul class="nav navbar-nav">\n          <li ui-sref-active="active">\n            <a ui-sref="dashboard.competitive-analysis">Competitive Analysis</a>\n          </li>\n          <li ui-sref-active="active">\n            <a ui-sref="dashboard.listening-analysis">Listening Analysis</a>\n          </li>\n        </ul>\n      </div> --></div></nav><div class="col-xs-12 settings-view"><div class=row ui-view></div></div></div></section><nav-footer></nav-footer>'),
e.put("app/main/feed/feed.html",'<sticky-filter filter-data=vm.query apply-filter=vm.execQuery cities=vm.cities></sticky-filter><section class="container-fluid feed ng-cloak"><div class=row><acme-navbar></acme-navbar></div><div class=row><div class="header-gradient col-xs-12 reduce-padding"></div><div class=col-xs-12><div class="container ng-cloak"><div class=row><!--  Filter Directive  --><div style="visibility: hidden"><div class=md-dialog-container id=filter><md-dialog layout-padding><dashboard-filter filter-data=vm.query apply-filter=vm.execQuery cities=vm.cities></dashboard-filter></md-dialog></div></div><!--  Filter Directive End  --><!-- Header --><div class="col-xs-12 reduce-padding"><md-card><md-card-title class=col-xs-12><md-card-title-text><span class=md-headline>Alerts</span></md-card-title-text></md-card-title><md-card-content class=col-xs-12><div class="col-lg-9 col-md-8 col-sm-7 col-xs-6 reduce-padding"><md-select ng-model=vm.query.alertid ng-change=vm.execQuery() placeholder="Select Alerts" ng-disabled=vm.processing class="select-alert md-no-underline"><md-option ng-value=alert.alertid ng-repeat="alert in vm.alerts">{{alert.name}}</md-option></md-select></div><div class="col-lg-3 col-md-4 col-sm-5 col-xs-6 reduce-padding"><md-button ng-click=vm.showFilter($event) class=filter-btn ng-disabled=vm.processing aria-label=More><i class="fa fa-filter"></i><md-tooltip md-direction=bottom>Filter results on the basis of Date, Sentiments, Cities and Sources.</md-tooltip></md-button><md-button class=add-alert-btn ng-click=vm.openAlertPopup() aria-label=More ng-disabled=vm.processing>Add New Alert</md-button></div></md-card-content><div class=header-date><b>From</b> : {{vm.query.idate | date: \'dd MMM yyyy\'}} &nbsp;&nbsp;&nbsp; <b>To</b> : {{vm.query.edate | date: \'dd MMM yyyy\'}}</div></md-card><div class=spinner ng-show=vm.processing><div class=rect1></div><div class=rect2></div><div class=rect3></div><div class=rect4></div><div class=rect5></div></div></div><!-- Header End --><!-- Feed List --><div class="col-xs-12 reduce-padding" ng-class="{\'blur\': vm.processing}"><!-- Left Side Bar --><div class="side-bar col-xs-3 reduce-padding card-anim" ng-class="{\'card-anim-enter\': !vm.processing}"><md-card><div class=mention-container><div class="mentions text-center col-xs-12 reduce-padding">{{vm.mentionCount | number}}</div><div class="text-center col-xs-12 reduce-padding">Mention\'s</div></div><div class="category active col-xs-12" ng-class="{\'active\': vm.query.tag===\'\'}" ng-click="vm.tagClick(\'\')"><span><i class="fa fa-inbox"></i> Inbox ({{vm.inboxCount}})</span></div><div ng-class="{\'active\': vm.query.tag===\'favourite\'}" class="category col-xs-12" ng-click="vm.tagClick(\'favourite\')"><span><i class="fa fa-heart"></i> Favourite ({{vm.favCount}})</span></div><div ng-class="{\'active\': vm.query.tag===\'archive\'}" class="category col-xs-12" ng-click="vm.tagClick(\'archive\')"><span><i class="fa fa-archive"></i> Archive ({{vm.archiveCount}})</span></div><div ng-class="{\'active\': vm.query.tag===\'trash\'}" class="category col-xs-12" ng-click="vm.tagClick(\'trash\')"><span><i class="fa fa-trash"></i> Trash ({{vm.trashCount}})</span></div><div ng-class="{\'active\': vm.query.tag===\'spam\'}" class="category col-xs-12" ng-click="vm.tagClick(\'spam\')"><span><i class="fa fa-ban"></i> Spam ({{vm.spamCount}})</span></div><br></md-card></div><!-- Left Side Bar End --><!-- Feed --><div class="col-xs-9 reduce-padding card-anim" ng-class="{\'card-anim-enter-1\': !vm.processing}"><md-card><div class=feed-section scroll load-more=vm.loadMore()><!-- Search Area --><div class=search><input ng-enter=vm.execQuery() ng-model=vm.query.searchWord type=text placeholder="Search in Alert History"></div><!-- Search Area End --><div class="col-xs-12 feed-text"><div class="col-xs-6 reduce-padding">Feed</div><div class="col-xs-6 text-right reduce-padding"><span>Sort by </span><span><select ng-model=vm.sortByType ng-change=vm.getAlertData()><option ng-value="\'c_timestamp\'">Date<option ng-value="\'c_reach\'">Reach</option></option></select></span><div class="sort-icons-container float-right"><div class=sort-icon><img ng-show="vm.sortByDirection === \'ASC\'" ng-click="vm.getAlertData(\'DESC\')" src=./assets/images/feed-sort-up-gray.png> <img ng-show="vm.sortByDirection === \'DESC\'" src=./assets/images/feed-sort-up-blue.png></div><div class=sort-icon><img ng-show="vm.sortByDirection === \'DESC\'" ng-click="vm.getAlertData(\'ASC\')" src=./assets/images/feed-sort-down-gray.png> <img ng-show="vm.sortByDirection === \'ASC\'" src=./assets/images/feed-sort-down-blue.png></div></div><!-- <md-select ng-model="vm.sortBy" placeholder="Sort By" class="sort-by md-no-underline">\n                        <md-option ng-value="Date">Date</md-option>\n                        <md-option ng-value="Reach">Reach</md-option>\n                        <md-option ng-value="Infulencer">Infulencer</md-option>\n                      </md-select> --></div></div><div class="col-xs-12 text-center" ng-show="vm.feedData.length===0"><img src=./assets/images/no_feed_icon.png width=200px></div><!-- Feed Items --><div class="col-xs-12 reduce-padding" ng-repeat="feed in vm.feedData"><!-- Feed Container --><md-button ng-click="vm.feedClick(feed, $event)" class="mentions-list noright feed-bg"><div class="col-xs-12 reduce-padding"><!-- Feed Image --><div class=col-xs-1><!-- Image --> <img ng-if=!feed.image src=http://www.persefone.it/blog/wp-content/themes/photobook/images/blank.png class=md-avatar> <img ng-if=feed.image alt="{{ feed.name }}" ng-src="{{ feed.image }}" class=md-avatar onerror="this.src=\'http://www.persefone.it/blog/wp-content/themes/photobook/images/blank.png\'"><!-- Source Icons --> <i class="fa fa-facebook feed-source-fb-icon" ng-show="{{feed.source === \'Facebook\'}}"></i> <i class="fa fa-twitter feed-source-twitter-icon" ng-show="{{feed.source === \'Twitter\'}}"></i> <i class="fa fa-globe feed-source-web-icon" ng-show="{{feed.source === \'Web\'}}"></i> <img class=feed-source-print-icon src=./assets/images/print_media_icon.png ng-show="{{feed.source === \'Print Media\'}}"><!-- Sentiment Marker --> <span ng-show="{{feed.sentiment===0}}" class=neg-sentiment></span> <span ng-show="{{feed.sentiment===1}}" class=pos-sentiment></span></div><!-- Feed Image End --><!-- Feed Content --><div class="col-xs-6 text-left" style="text-transform: none"><!-- Source Feed --><div class=header-height><a ng-if="feed.source !== \'Twitter\'" class=list-header ng-href={{feed.open_url}} ng-click=vm.stopPropagation($event) target=_blank>{{feed.first_heading}} </a><a ng-if="feed.source === \'Twitter\'" class=list-header href={{feed.tweet_link}} target=_blank>{{feed.first_heading}}</a></div><div ng-if="feed.source !== \'Facebook\'" class=list-text>{{feed.text}}</div><div ng-if="feed.source !== \'Facebook\'" class=list-sub-header><b>Source:</b> {{feed.second_heading}}</div><div ng-if="feed.source !== \'Facebook\' && feed.source !== \'twitter\' " class=list-sub-header><b ng-if=feed.keywords>Keywords:</b> {{feed.keywords}}</div><!-- Source Feed End --><!-- Facebook Feed --><div ng-if="feed.source === \'Facebook\'" class=list-sub-header><b>POST : </b>{{feed.second_heading}}</div><div ng-if="feed.source === \'Facebook\'" class=list-text><b>COMMENT : </b>{{feed.text}}</div><!-- Facebook Feed End --></div><!-- Feed Content End --><!-- Feed action buttons --><div class=col-xs-5><div class="col-xs-8 reduce-padding-left text-right"><div class=feed-reach>{{feed.reach | number}}</div><div class=tags-container><md-button class=md-icon-button aria-label=More ng-click="vm.tagMention(feed,\'favourite\', $event)"><md-icon ng-class="{\'tag-active\': feed.tag===\'favourite\'}" md-font-icon="fa fa-heart"><md-tooltip md-direction=top>Favourite</md-tooltip></md-icon></md-button><md-button class=md-icon-button aria-label=More ng-click="vm.tagMention(feed, \'archive\', $event)"><md-icon ng-class="{\'tag-active\': feed.tag===\'archive\'}" md-font-icon="fa fa-archive"><md-tooltip md-direction=top>Archive</md-tooltip></md-icon></md-button><md-button class=md-icon-button aria-label=More ng-click="vm.tagMention(feed, \'trash\', $event)"><md-icon ng-class="{\'tag-active\': feed.tag===\'trash\'}" md-font-icon="fa fa-trash"><md-tooltip md-direction=top>Trash</md-tooltip></md-icon></md-button><md-button class=md-icon-button aria-label=More ng-click="vm.tagMention(feed, \'spam\', $event)"><md-icon ng-class="{\'tag-active\': feed.tag===\'spam\'}" md-font-icon="fa fa-ban"><md-tooltip md-direction=top>The Account will be blocked permanently.</md-tooltip></md-icon></md-button></div><div class=list-text>{{feed.timestamp}}</div></div><div class="col-xs-4 reduce-padding-right text-center social-sharing"><div class=heading>Share</div><div><button ng-if="feed.source !== \'Twitter\'" ng-click=vm.shareFacebook(feed.open_url)><i class="fa fa-facebook"></i></button> <a ng-if="feed.source !== \'Twitter\'" class=twitter-share-button ng-href="{{\'https://twitter.com/intent/tweet?text=\'+feed.open_url}}" data-size=large target=_blank><i class="fa fa-twitter"></i></a> <button ng-if="feed.source === \'Twitter\'" ng-click=vm.shareFacebook(feed.tweet_link)><i class="fa fa-facebook"></i></button> <a ng-if="feed.source === \'Twitter\'" class=twitter-share-button ng-href="{{\'https://twitter.com/intent/retweet?tweet_id=\'+feed.sourceId}}" data-size=large target=_blank><i class="fa fa-twitter"></i></a><!-- <button ng-click="vm.shareFacebook(feed.open_url, \'link\')"></button> --> <button ng-if="feed.source !== \'Twitter\'" ng-click-copy={{feed.open_url}}><i class="fa fa-link"></i><md-tooltip md-direction=bottom>Copy mention link</md-tooltip></button> <button ng-if="feed.source === \'Twitter\'" ng-click-copy={{feed.tweet_link}}><i class="fa fa-link"></i><md-tooltip md-direction=bottom>Copy mention link</md-tooltip></button></div></div></div><!-- Feed action buttons End --></div></md-button><!-- Feed Container End --><!-- Feed Divider --><div class="col-xs-12 gray-bg"><div class="col-xs-12 feed-divider"></div></div><!-- Feed Divider End --><!-- Feed Preview --><div class=hide-iframe id=url-frame class="col-xs-12 reduce-padding"><div id=webPreview class="web-preview text-center"><fb-post-preview ng-if=feed.openfb data-width=100% data-href=feed.open_url></fb-post-preview></div></div><!-- Feed Preview End --></div><!-- Feed Items End --></div></md-card></div><!-- Feed --></div><!-- Feed List End --></div></div></div></div><!-- Add New Alerts --><div ng-hide=vm.hideOnLoad ng-class="{\'new-alert-bg\': vm.showNewAlert}"><div class=new-alert ng-class="{\'show-alert\': vm.showNewAlert, \'hide-alert\': !vm.showNewAlert}"><!-- Back button --><div class=back-btn ng-click="vm.showNewAlert=!vm.showNewAlert"><img src=./assets/images/slide_back.png></div><!-- Back button End --><!-- Choose Alert type --><div class=section ng-class="{\'show-section\': vm.alertSection===\'main\', \'hide-section\': vm.alertSection!== \'main\'}"><div class=divider-margin></div><div class=text-center><div class=header>What do you want to monitor?</div><div class=sub-header>Pick the type that best fits your monitoring goal for this alert</div></div><div class=select-new-alert><div class=row><div class="col-xs-4 text-center remove-focus" ng-click="vm.alertSection=\'section1\'"><img src=./assets/images/company.png width=100%><br><div class=header>Track brand\'s/product\'s</div><div class=sub-header>Recommended to monitor a brand or product\'s online presence</div></div><div class="col-xs-4 text-center remove-focus" ng-click="vm.alertSection=\'section2\'"><img src=./assets/images/competitor.png width=100%><br><div class=header>A Competitor</div><div class=sub-header>View competitor\'s online presence</div></div><div class="col-xs-4 text-center remove-focus" ng-click="vm.alertSection=\'section22\'"><img src=./assets/images/anything-else.png width=100%><br><div class=header>Anything Else</div><div class=sub-header>Monitor anything using key words. Examples: topics, person, company.</div></div></div></div></div><!-- Choose Alert type End --><!-- Brand/Company Name --><div class=section ng-class="{\'show-section\': vm.alertSection===\'section1\' || vm.alertSection===\'section2\', \'hide-section\': vm.alertSection!== \'section1\' && vm.alertSection!== \'section2\'}"><div class=text-center><div class=header>Share the Name!</div><div class=sub-header>Whats the name of the company / product you wnat to monitor?</div></div><div><div class=row><div class="col-xs-12 text-center"><div class=divider-margin></div><img src=./assets/images/add-company.png><div class=divider-margin></div></div><div class=col-xs-12><form name=companyform class=input-section><br>Company Name <input name=companyname ng-model=vm.newAlert.compName type=text placeholder="Company Name" required><div class=text-center><br><br><br><br><br><button class=gray-btn ng-click="vm.alertSection=\'main\'">Back</button>&nbsp;&nbsp; <button type=submit class=primary-btn ng-click=vm.newAlertProceed()>Proceed<md-tooltip md-direction={{demo.tipDirection}}>Company Name is required</md-tooltip></button></div></form></div></div></div></div><!-- Brand/Company Name --><!-- Quota Exceeded --><div class=section ng-class="{\'show-section\': vm.alertSection===\'limit\', \'hide-section\': vm.alertSection!== \'limit\'}"><div class=text-center><div class=header><b>Quota Exceeded!</b></div><div class=sub-header>Your initial quota for alerts has beed reahed<br><br></div></div><div><div class=row><div class="col-xs-12 text-center"><div class=divider-margin></div><img src=./assets/images/quota-exceeded-icon.png><div class=divider-margin></div></div><div class=col-xs-12><div class="text-center quota-btm">To benefit from more mentions and additional features, Please Contact Our Representative.</div></div></div></div></div><!-- Quota Exceeded --><!-- Social Links For Brand/Company --><div class=section ng-class="{\'show-section\': vm.alertSection===\'section12\', \'hide-section\': vm.alertSection!== \'section12\'}"><div class=text-center><div class=header>Pages too be Monitored!</div><div class=sub-header>Whats the name of the company / product you wnat to monitor?</div></div><div><div class=row><div class="col-xs-12 text-center"><div class=divider-margin></div><img src=./assets/images/sm-pages.png><div class=divider-margin></div></div><div class=col-xs-12><div class=input-section>Website <input ng-model=vm.newAlert.compWeb type=text placeholder=Website><div class=divider-margin></div>Facebook Page <input ng-model=vm.newAlert.compFacebook type=text placeholder="Facebook Page"><div class=divider-margin></div>Twitter Page <input ng-model=vm.newAlert.compTwitter type=text placeholder="Twitter Page"><div class=text-center><br><span class=gray-btn ng-click="vm.alertSection=\'section1\'">Back</span>&nbsp;&nbsp;<button class=primary-btn ng-click=vm.addAlert()>Add Alert</button><br></div></div></div></div></div></div><!-- Social Links For Brand/Company End --><!-- Keywords Monitoring --><div class=section ng-class="{\'show-section\': vm.alertSection===\'section22\', \'hide-section\': vm.alertSection!== \'section22\'}"><div class=text-center><div class=header>Keywords Monitoring!</div><div class=sub-header>Please Select keywords that you want to monitor</div></div><div><div class=row><div class="col-xs-12 text-center"><div class=divider-margin></div><img src=./assets/images/add-keywords.png></div><div class=col-xs-12><form name=keywordsForm class=input-section>Optional Keyword(s)<md-chips ng-model=vm.newAlert.optionKeys name=optionKeys readonly md-removable=true placeholder="Press return..."><md-chip-template><strong>{{$chip}}</strong></md-chip-template></md-chips><div class=divider-margin></div>Required Keyword(s)<md-chips ng-model=vm.newAlert.reqKeys name=reqKeys readonly md-removable=true placeholder="Enter return..." required><md-chip-template><strong>{{$chip}}</strong></md-chip-template></md-chips><div class=divider-margin></div>Excluded Keyword(s)<md-chips ng-model=vm.newAlert.exluKeys name=exluKeys readonly md-removable=true placeholder="Enter return..."><md-chip-template><strong>{{$chip}}</strong></md-chip-template></md-chips><div class=text-center><br><span class=gray-btn ng-click="vm.alertSection = \'main\'">Back</span>&nbsp;&nbsp; <button type=submit class=primary-btn ng-click=vm.addKeyordsAlert()>Add Alert<md-tooltip md-direction={{demo.tipDirection}}>Add atleat one keyword</md-tooltip></button><br></div></form></div></div></div></div><!-- Keywords Monitoring End --><!-- Nav Dots --><div class="text-center dots"><span class=slider-dot ng-class="{\'slider-dot-active\':vm.alertSection===\'main\'}"></span> <span class=slider-dot ng-class="{\'slider-dot-active\':vm.alertSection===\'section1\' || vm.alertSection===\'section2\'}"></span> <span class=slider-dot ng-class="{\'slider-dot-active\':vm.alertSection===\'section12\' || vm.alertSection===\'section22\'}"></span></div><!-- Nav Dots End --></div></div><!-- Add New Alerts End --></section><nav-footer></nav-footer>'),e.put("app/main/home/home.html",'<div class=fluid-container><div><acme-navbar creation-date=vm.creationDate></acme-navbar></div><div class="jumbotron text-center"><h1>\'Allo, \'Allo!</h1><p class=lead><img src=assets/images/yeoman.png alt="I\'m Yeoman"><br>Always a pleasure scaffolding your apps.</p><p class="animated infinite" ng-class=vm.classAnimation><button type=button class="btn btn-lg btn-success" ng-click=vm.showToastr()>Splendid Toastr</button></p><p>With  thanks to the contributions of<acme-malarkey extra-values="[\'Yeoman\', \'Gulp\', \'Angular\']"></acme-malarkey></p></div><div class=row><div class="col-sm-6 col-md-4" ng-repeat="awesomeThing in vm.awesomeThings | orderBy:\'rank\'"><div class=thumbnail><img class=pull-right ng-src="assets/images/{{ awesomeThing.logo }}" alt="{{ awesomeThing.title }}"><div class=caption><h3>{{ awesomeThing.title }}</h3><p>{{ awesomeThing.description }}</p><p><a ng-href={{awesomeThing.url}}>{{ awesomeThing.url }}</a></p></div></div></div></div></div>'),e.put("app/main/influencer/influencer.html",'<section class="container-fluid ng-cloak"><div class=row><acme-navbar></acme-navbar></div><div class="row influencer"><div class="header-gradient col-xs-12 reduce-padding"></div><div class=col-xs-12><div class="container ng-cloak"><div class=row><!-- Header --><div class="col-xs-12 reduce-padding"><md-card><md-card-title class=col-xs-12><div class="col-lg-7 col-md-8 col-sm-7 col-xs-6 reduce-padding"><md-card-title-text><span class=md-headline>Alerts</span></md-card-title-text></div><div class="col-lg-2 col-md-8 col-sm-7 col-xs-6 reduce-padding"><md-card-title-text><!-- <span class="md-headline">By</span> --></md-card-title-text></div><div class="col-lg-2 col-md-8 col-sm-7 col-xs-6 reduce-padding"><md-card-title-text><!-- <span class="md-headline">By</span> --></md-card-title-text></div><div class="col-lg-1 col-md-8 col-sm-7 col-xs-6 reduce-padding"></div></md-card-title><md-card-content class=col-xs-12><div class="col-lg-9 col-md-8 col-sm-7 col-xs-6 reduce-padding"><md-select ng-model=vm.alertid ng-change=vm.getInfluencers() placeholder="Select Alerts" ng-disabled=vm.processing class="select-alert md-no-underline"><md-option ng-value=alert.alertid ng-repeat="alert in vm.alerts">{{alert.name}}</md-option></md-select></div><div class="col-lg-3 col-md-8 col-sm-7 col-xs-6 reduce-padding-right"><md-select ng-model=vm.timePeriod ng-change=vm.getInfluencers() placeholder="Chart Type" ng-disabled=vm.processing class="select-alert md-no-underline"><md-option ng-value="\'Last Day\'">Last Day</md-option><md-option ng-value="\'Last 7 Days\'">Last 7 Days</md-option><md-option ng-value="\'Last Month\'">Last Month</md-option></md-select></div></md-card-content></md-card><div class=spinner ng-show=vm.processing><div class=rect1></div><div class=rect2></div><div class=rect3></div><div class=rect4></div><div class=rect5></div></div></div><!-- Header End --><!-- Graph  --><div class="col-xs-12 reduce-padding" ng-class="{\'blur\': vm.processing}"><div class="col-xs-12 reduce-padding card-anim" ng-class="{\'card-anim-enter\': !vm.processing}"><md-card><table><tr><td><b>Name</b></td><td>Interest</td><td>Followers</td><td>Influence</td><td>Action</td></tr><tr ng-repeat="influencer in vm.influencers"><td><img height=30px ng-src={{influencer.image}}> <a ng-href={{influencer.url}} target=_blank>{{influencer.first_head}}</a></td><td><span class=interest-chip ng-repeat="topic in influencer.topics">{{topic}}</span> <span ng-if="influencer.topics.length === 0">No interest</span></td><td>{{influencer.followers | number}}</td><td><div class=influence-percentage><b>{{influencer.score}}</b></div><round-progress max=100 current=influencer.score color=#FDB83F bgcolor=#eaeaea radius=20 stroke=5 semi=false rounded=true clockwise=true responsive=false duration=800 animation=easeInOutQuart animation-delay=0></round-progress></td><td><a class=action-btn ng-href="{{\'https://twitter.com/intent/follow?user_id=\'+ influencer.twitter_id}}"><i class="fa fa-plus"></i></a><a class=action-btn ng-href="{{\'https://twitter.com/messages/compose?recipient_id=\'+ influencer.twitter_id}}" target=_blank data-screen-name=@techletspk><i class="fa fa-mail-forward"></i></a></td></tr></table></md-card></div></div><!-- Graph  --></div></div></div></div><div class=row><nav-footer></nav-footer></div></section>'),e.put("app/main/insight/insight.html",'<section class="container-fluid insight ng-cloak"><div class=row><acme-navbar></acme-navbar></div><div class=row><div class="header-gradient col-xs-12 reduce-padding"></div><div class=col-xs-12><div class="container ng-cloak"><div class=row><!--  Filter Directive  --><div style="visibility: hidden"><div class=md-dialog-container id=filter><md-dialog layout-padding><dashboard-filter filter-data=vm.query apply-filter=vm.execQuery cities=vm.cities></dashboard-filter></md-dialog></div></div><!--  Filter Directive End  --><!-- Header --><div class="col-xs-12 reduce-padding"><md-card><md-card-title class=col-xs-12><div class="col-lg-7 col-md-8 col-sm-7 col-xs-6 reduce-padding"><md-card-title-text><span class=md-headline>Alerts</span></md-card-title-text></div><div class="col-lg-2 col-md-8 col-sm-7 col-xs-6"><md-card-title-text><!-- <span class="md-headline">By</span> --></md-card-title-text></div><div class="col-lg-2 col-md-8 col-sm-7 col-xs-6 reduce-padding"><md-card-title-text><!-- <span class="md-headline">By</span> --></md-card-title-text></div><div class="col-lg-1 col-md-8 col-sm-7 col-xs-6 reduce-padding"></div></md-card-title><md-card-content class=col-xs-12><div class="col-lg-7 col-md-8 col-sm-7 col-xs-6 reduce-padding"><md-select ng-model=vm.query.alertid ng-change=vm.execQuery() placeholder="Select Alerts" ng-disabled=vm.processing class="select-alert md-no-underline"><md-option ng-value=alert.alertid ng-repeat="alert in vm.alerts">{{alert.name}}</md-option></md-select></div><div class="col-lg-2 col-md-8 col-sm-7 col-xs-6"><md-select ng-model=vm.category placeholder="Data Type" ng-disabled=false class="select-alert md-no-underline" ng-change=vm.changeCategory()><md-option ng-selected=Volume ng-value="\'Volume\'">Volume</md-option><md-option ng-value="\'Sources\'">Sources</md-option><md-option ng-value="\'Weekdays\'">Weekdays</md-option><md-option ng-value="\'Sentiments\'">Sentiments</md-option><md-option ng-value="\'Reach\'">Reach</md-option><md-option ng-value="\'Topics\'">Topics</md-option></md-select></div><div class="col-lg-2 col-md-8 col-sm-7 col-xs-6 reduce-padding"><md-select ng-model=vm.graphType ng-change=vm.loadGraph() placeholder="Chart Type" ng-disabled=false class="select-alert md-no-underline"><md-option ng-if="vm.category === \'Volume\'" ng-value="\'Line Chart\'">Line Chart</md-option><md-option ng-if="vm.category === \'Volume\'" ng-value="\'Bar Charts\'">Bar Charts</md-option><md-option ng-if="vm.category === \'Sources\'" ng-value="\'Line Chart\'">Line Chart</md-option><md-option ng-if="vm.category === \'Sources\'" ng-value="\'Bar Charts\'">Bar Charts</md-option><md-option ng-if="vm.category === \'Sources\'" ng-value="\'Stacked Chart\'">Stacked Chart</md-option><md-option ng-if="vm.category === \'Sources\'" ng-value="\'Normalized Stacked Area\'">Normalized Stacked Area</md-option><md-option ng-if="vm.category === \'Sources\'" ng-value="\'Pie Charts Donuts\'">Pie Charts Donuts</md-option><md-option ng-if="vm.category === \'Languages\'" ng-value="\'Bar Charts\'">Bar Charts</md-option><md-option ng-if="vm.category === \'Languages\'" ng-value="\'Stacked Chart\'">Stacked Chart</md-option><md-option ng-if="vm.category === \'Languages\'" ng-value="\'Normalized Stacked Area\'">Normalized Stacked Area</md-option><md-option ng-if="vm.category === \'Languages\'" ng-value="\'Pie Charts Donuts\'">Pie Charts Donuts</md-option><md-option ng-if="vm.category === \'Top Locations\'" ng-value="\'Bar Charts\'">Bar Charts</md-option><md-option ng-if="vm.category === \'Top Locations\'" ng-value="\'Stacked Area\'">Stacked Area</md-option><md-option ng-if="vm.category === \'Top Locations\'" ng-value="\'Normalized Stacked Area\'">Normalized Stacked Area</md-option><md-option ng-if="vm.category === \'Top Locations\'" ng-value="\'Pie Charts Donuts\'">Pie Charts Donuts</md-option><md-option ng-if="vm.category === \'Weekdays\'" ng-value="\'Bar Charts\'">Bar Charts</md-option><md-option ng-if="vm.category === \'Weekdays\'" ng-value="\'Pie Charts Donuts\'">Pie Charts Donuts</md-option><md-option ng-if="vm.category === \'Sentiments\'" ng-value="\'Line Chart\'">Line Chart</md-option><md-option ng-if="vm.category === \'Sentiments\'" ng-value="\'Bar Charts\'">Bar Charts</md-option><md-option ng-if="vm.category === \'Sentiments\'" ng-value="\'Stacked Chart\'">Stacked Chart</md-option><md-option ng-if="vm.category === \'Sentiments\'" ng-value="\'Normalized Stacked Area\'">Normalized Stacked Area</md-option><md-option ng-if="vm.category === \'Sentiments\'" ng-value="\'Pie Charts Donuts\'">Pie Charts Donuts</md-option><md-option ng-if="vm.category === \'Reach\'" ng-value="\'Line Chart\'">Line Chart</md-option><md-option ng-if="vm.category === \'Reach\'" ng-value="\'Bar Charts\'">Bar Charts</md-option><md-option ng-if="vm.category === \'Influence\'" ng-value="\'Line Chart\'">Line Chart</md-option><md-option ng-if="vm.category === \'Influence\'" ng-value="\'Bar Charts\'">Bar Charts</md-option><md-option ng-if="vm.category === \'Influence\'" ng-value="\'Pie Charts Donuts\'">Pie Charts Donuts</md-option><!-- <md-option ng-if="vm.category === \'Topics\'" ng-value="\'Word Cloud\'">Word Cloud</md-option> --><md-option ng-if="vm.category === \'Topics\'" ng-value="\'Tree Map\'">Tree Map</md-option></md-select></div><div class="col-lg-1 col-md-4 col-sm-5 col-xs-6 reduce-padding"><md-button ng-click=vm.showFilter($event) class=filter-btn ng-disabled=vm.processing aria-label=More><i class="fa fa-filter"></i></md-button></div></md-card-content></md-card><div class=spinner ng-show=vm.processing><div class=rect1></div><div class=rect2></div><div class=rect3></div><div class=rect4></div><div class=rect5></div></div></div><!-- Header End --><!-- Graph  --><div class="col-xs-12 reduce-padding" ng-class="{\'blur\': vm.processing}"><div class="col-xs-12 reduce-padding card-anim" ng-class="{\'card-anim-enter\': vm.playAnim}"><md-card><div class=graph-header ng-show=vm.graphType><div class=float-right><button class=primary-btn ng-click=vm.downloadPdf()><i class="fa fa-download"></i> Download</button></div><div class="float-left selected-date"><i class="fa fa-calendar-o"></i>&nbsp;<span>{{vm.query.idate | date: \'dd-MM-yyyy\' }}</span> to <span>{{vm.query.edate | date: \'dd-MM-yyyy\'}}</span></div></div><div><div class=graph-header ng-show="vm.graphType === \'Line Chart\'" id=lineChart></div><div class=graph-header ng-show="vm.graphType === \'Bar Charts\'" id=barChart></div><div class=graph-header ng-show="vm.graphType === \'Stacked Chart\'" id=stackedChart></div><div class=graph-header ng-show="vm.graphType === \'Normalized Stacked Area\'" id=stackedNormalizedChart></div><div class=graph-header ng-show="vm.graphType === \'Pie Charts Donuts\'" id=pieDonutChart></div><div class=graph-header ng-show="vm.graphType === \'Word Cloud\'" id=wordCloudChart></div><div class=graph-header ng-show="vm.graphType === \'Tree Map\'" id=treeMapChart></div><div class="no-graph text-center" ng-show=!vm.graphType><img src=./assets/images/insight-icon.png width=15%><br><br><div class=text-gray><b>Please Select <span class=text-blue>Alert</span>, <span class=text-blue>Data type</span> And <span class=text-blue>Chart Type</span></b></div></div></div></md-card></div></div><!-- Graph  --></div></div></div></div><div class=row><nav-footer></nav-footer></div></section>'),e.put("app/main/login/login.html",'<div class="container-fluid login"><div class="row white-bg"><div class="col-xs-5 slider-container"><h3>Without data you are just another person with an opinion</h3></div><div class="col-md-7 col-xs-12 login-container"><img class=logo src=assets/images/Techlets.png><div class=signin-text>Sign In</div><form name=login class=input-area autocomplete=off novalidate><md-content class="md-no-momentum text-left"><md-input-container class="md-icon-float md-block"><!-- Use floating label instead of placeholder --><label>Username</label><input name=username ng-model=vm.credentials.username type=text required autocomplete=off><md-icon md-svg-src=./assets/images/person_icon.svg></md-icon><div ng-messages=login.username.$error multiple md-auto-hide=false><div ng-message=required>Username is required.</div></div></md-input-container><md-input-container ng-hide=vm.forgotPassBool md-no-float="" class=md-block ng-class="{\'md-input-has-value\': vm.credentials.password!==undefined}"><label>Password</label><input name=pass ng-model=vm.credentials.password type=password required autocomplete=off><md-icon md-svg-src=./assets/images/pass-lock.svg></md-icon><div ng-messages=login.pass.$error multiple md-auto-hide=false><div ng-message=required>Password is required.</div></div></md-input-container></md-content><div class="col-xs-12 reduce-padding"><div class="col-xs-12 reduce-padding error incorrect-pass" ng-show=vm.incorrect>{{vm.errorMsg}}</div><div class="remember-container col-xs-12 reduce-padding"><span class=remember-me><!-- <md-checkbox class="md-primary" ng-model="data.cb1" aria-label="Checkbox 1">\n                    Remember me\n                  </md-checkbox> --> </span><span ng-hide=vm.forgotPassBool class=forgot-pass ng-click="vm.forgotPassBool = true;">Forgot Password?</span></div><button ng-hide=vm.forgotPassBool ng-disabled="login.username.$invalid || login.pass.$invalid" class="col-xs-12 signin-btn" ng-class="{\'signin-btn-processing\': vm.processing}" ng-click=vm.login()><span ng-show=!vm.processing>Sign In</span><md-progress-circular ng-hide=!vm.processing ng-disabled=!vm.processing class="md-hue-2 btn-spinner" md-diameter=20px></md-progress-circular></button> <button ng-show=vm.forgotPassBool ng-disabled=login.username.$invalid class="col-xs-12 primary-btn" ng-class="{\'signin-btn-processing\': vm.processing}" ng-click=vm.confirmReset()><span ng-show=!vm.processing>Confirm!</span><md-progress-circular ng-hide=!vm.processing ng-disabled=!vm.processing class="md-hue-2 btn-spinner" md-diameter=20px></md-progress-circular></button><div class="col-xs-12 btn-padding-btm"></div><button ng-show=vm.forgotPassBool class="col-xs-12 gray-btn" ng-click="vm.forgotPassBool = false;"><span>Back</span></button><!-- <div>\n                <a class="new-user" ng-click="vm.newUser()">I am new user</a>\n              </div> --></div></form></div></div></div>'),e.put("app/components/directives/dashboardFilter/dashboardFilter.html",'<!--  Filter PopUp  --><div class="row dashboard-filter"><!--  Popup header  --><div class="col-xs-12 reduce-padding"><div class=filter-header><i class="fa fa-filter fa-2x"></i><div class=filter-text>Filters</div></div><div class=about-filter><i class="fa fa-question"></i><md-tooltip md-direction=left>Filter Instructions</md-tooltip></div></div><!--  Popup Container  --><div class="col-xs-12 reduce-padding"><div class="col-sm-12 reduce-padding"><input class=search-input ng-model=vm.filterData.searchWord placeholder="Keyword Search" ng-enter=vm.apply()></div><!--  Time and Custome Date  --><div class="col-xs-12 reduce-padding"><!--  Time  --><div class="col-sm-6 reduce-padding"><md-card-title><md-card-title-text><span class=md-subhead>Time</span></md-card-title-text></md-card-title><br><md-checkbox md-no-ink aria-label="Checkbox No Ink" ng-model=vm.day ng-change=vm.selectedPeriod() ng-click="vm.dateSelected=\'day\'" class="md-primary margin-btm-top">Day</md-checkbox>&nbsp;<md-checkbox md-no-ink aria-label="Checkbox No Ink" ng-model=vm.week ng-change=vm.selectedPeriod() ng-click="vm.dateSelected=\'week\'" class="md-primary margin-btm-top">Week</md-checkbox>&nbsp;<md-checkbox md-no-ink aria-label="Checkbox No Ink" ng-model=vm.month ng-change=vm.selectedPeriod() ng-click="vm.dateSelected=\'month\'" class="md-primary margin-btm-top">Month</md-checkbox></div><!--  Custome Date  --><div class="col-sm-6 reduce-padding"><md-card-title><md-card-title-text><span class=md-subhead>Custom Date</span></md-card-title-text></md-card-title><br><div class="margin-btm-top gray-bg-input"><md-datepicker ng-model=vm.filterData.idate ng-change=vm.customDate() md-placeholder="From date" md-open-on-focus></md-datepicker>&nbsp;<md-datepicker ng-model=vm.filterData.edate ng-change=vm.customDate() md-placeholder="To date" md-open-on-focus></md-datepicker></div></div></div><!--  Sentiments and Infulencers  --><div class="col-xs-12 reduce-padding"><!--  Sentiments  --><div class="col-sm-6 reduce-padding"><md-card-title><md-card-title-text><span class=md-subhead>Sentiments</span></md-card-title-text></md-card-title><br><md-checkbox md-no-ink aria-label="Checkbox No Ink" ng-model=vm.filterData.pos class="md-primary margin-btm-top">Positive</md-checkbox>&nbsp;<md-checkbox md-no-ink aria-label="Checkbox No Ink" ng-model=vm.filterData.neg class="md-primary margin-btm-top">Negative</md-checkbox></div><!--  Cities  --><div class="col-sm-6 reduce-padding"><md-card-title><md-card-title-text><span class=md-subhead>Select Cities</span></md-card-title-text></md-card-title><br><md-select class="reduce-margin margin-btm-top gray-bg-input" ng-model=vm.filterData.cities data-md-container-class=selectdemoSelectHeader placeholder="All Cities" ng-change=vm.citySelect() multiple><md-optgroup label=Cities><md-option ng-value=city ng-repeat="city in vm.cities">{{city}}</md-option></md-optgroup></md-select></div><!--  Infulencers  --><!-- <div class="col-sm-6 reduce-padding">\n        <md-card-title>\n          <md-card-title-text>\n            <span class="md-subhead">Infulencers</span>\n          </md-card-title-text>\n        </md-card-title>\n        <div class="slider-margin" range-slider min="0" max="100" model-min="vm.filterData.infulencerMin" model-max="vm.filterData.infulencerMax" attach-handle-values="true" show-values="true"></div>\n      </div> --></div><!--  Lanaguages and Cities  --><div class="col-xs-12 reduce-padding"><!--  Lanaguages  --><div class="col-sm-6 reduce-padding"><md-card-title><md-card-title-text><span class=md-subhead>Languages</span></md-card-title-text></md-card-title><br><div><div class=toggle-btn ng-repeat="language in vm.filterData.languages" ng-class="{\'selected\':language.value}" ng-click="language.value=!language.value">{{language.name}}</div></div><!-- <table class="margin-btm-top">\n          <tr>\n            <td ng-repeat="language in vm.filterData.languages">\n              <div class="ln-toggle-btn" ng-class="{\'selected\':language.value}" ng-click="language.value=!language.value">\n                {{language.name}}\n              </div>\n            </td>\n          </tr>\n        </table> --></div><!--  Sources  --><div class="col-xs-6 reduce-padding"><md-card-title><md-card-title-text><span class=md-subhead>Sources</span></md-card-title-text></md-card-title><br><div><div class=toggle-btn ng-repeat="source in vm.filterData.sources" ng-class="{\'selected\':source.value}" ng-click="source.value=!source.value">{{source.name}}</div></div><!-- <table class="margin-btm-top">\n          <tr>\n\n\n          </tr>\n        </table> --></div></div></div><!--  Popup buttons  --><div class="col-xs-12 reduce-padding text-right btn-margin-top"><button type=button class="btn gray-btn" ng-click=vm.closeFilter()>Cancel</button> <button type=submit class="btn primary-btn" ng-click=vm.apply()>Apply</button><!-- <div class="btn sec-btn" ng-click="answer(\'not useful\')">Reset</div> --></div></div><!--  Filter PopUp End  -->'),
e.put("app/components/directives/stickyFilter/stickyFilter.html",'<div class=sticky-filter ng-show="showFilter && vm.showFilterClick" ng-class="{\'sticky-filter-anim\': (showFilter && vm.showFilterClick)}"><div class="header-alert-date float-left"><div class=alert-name>{{vm.alertName}}</div><b>From</b> : {{vm.filterData.idate | date: \'dd MMM yyyy\'}} &nbsp;&nbsp;&nbsp; <b>To</b> : {{vm.filterData.edate | date: \'dd MMM yyyy\'}}</div><div class="filter-col float-left"><div>Sources</div><div><div ng-class="{\'chip-color-blue\': source.value}" ng-click="vm.apply(\'sources\',source)" ng-repeat="source in vm.filterData.sources" class="filter-chip float-left">{{source.name}}</div></div></div><div class="filter-col float-left"><div>Sentiments</div><div><div ng-class="{\'chip-positive\': vm.filterData.pos}" class="filter-chip float-left" ng-click="vm.apply(\'sentiments\', vm.filterData.pos);vm.filterData.pos=!vm.filterData.pos;">Positive</div><div ng-class="{\'chip-negative\': vm.filterData.neg}" class="filter-chip float-left" ng-click="vm.apply(\'sentiments\', vm.filterData.neg);vm.filterData.neg=!vm.filterData.neg;">Negative</div></div></div><div class="filter-col float-left" ng-hide="vm.filterData.languages.length === 0"><div>Languages</div><div><div ng-class="{\'chip-color-orange\': language.value}" ng-click="vm.apply(\'languages\', language)" ng-repeat="language in vm.filterData.languages" class="filter-chip float-left"><md-tooltip md-direction=bottom>{{language.name}}</md-tooltip>{{language.name.substring(0,2)}}</div></div></div><div class="filter-col float-left"><div>Cities</div><div><md-select ng-model=vm.filterData.cities placeholder=All class="select-dropdown md-no-underline" ng-model-options="{ debounce: 1000 }" multiple><md-option ng-value=city ng-repeat="city in vm.cities">{{city}}</md-option></md-select></div></div></div>'),e.put("app/main/account/notifications/notifications.html",'<div class=container><div class=row><!-- Header --><div class="col-xs-12 reduce-padding"><md-card><div class="col-xs-12 notification"><div class=col-xs-12><div class="float-left bell-icon"><i class="fa fa-bell-o"></i></div><div class=float-left><div class=sub-page-title>Notifications</div><div class=sub-page-subtitle>Manage Your alert notifications</div></div></div><div class=col-xs-12><!-- <div class="col-xs-6 reduce-padding-left">\n              <div class="col-xs-12 reduce-padding-left dropdown-heading">Pulse Notifications</div>\n              <div class="col-xs-6 reduce-padding-left">\n                <div class="dropdown-title">Email Sensitivity</div>\n                <md-select ng-model="vm.query.alertid"\n                           ng-change="vm.selectAlerts()"\n                           placeholder="Select Alerts"\n                           ng-disabled="vm.processing < 4"\n                           class="select-alert md-no-underline" >\n                           <md-option ng-value="\'High\'">High</md-option>\n                           <md-option ng-value="\'Low\'">Low</md-option>\n                </md-select>\n              </div>\n              <div class="col-xs-6">\n                <div class="dropdown-title">SMS Sensitivity</div>\n                <md-select ng-model="vm.query.alertid"\n                           ng-change="vm.selectAlerts()"\n                           placeholder="Select Alerts"\n                           ng-disabled="vm.processing < 4"\n                           class="select-alert md-no-underline" >\n                           <md-option ng-value="\'High\'">High</md-option>\n                           <md-option ng-value="\'Low\'">Low</md-option>\n                </md-select>\n                <div class="text-center">\n                  Notifictaion will be sent to<br> (+92-323-5200545 Change)\n                </div>\n              </div>\n            </div> --><div class="col-xs-6 reduce-padding-left"><div class="col-xs-12 reduce-padding-left dropdown-heading">Default Notifications</div><div class="col-xs-6 reduce-padding-left"><div class=dropdown-title>Email Frequency</div><md-select ng-model=vm.defaultEmail ng-change="vm.applyDefault(\'email\')" placeholder="Select Duration" class="select-alert md-no-underline" aria-label=false><md-option ng-value=1>Daily</md-option><md-option ng-value=7>Weakly</md-option><md-option ng-value=0>Never</md-option></md-select></div><div class="col-xs-6 reduce-padding-right"><div class=dropdown-title>Desktop Frequency</div><md-select ng-model=vm.defaultDesktop ng-change="vm.applyDefault(\'desktop\')" placeholder="Select Duration" class="select-alert md-no-underline" aria-label=false><md-option ng-value=15>15 min</md-option><md-option ng-value=60>Hourly</md-option><md-option ng-value=0>Never</md-option></md-select></div></div></div><div class=col-xs-12><div class="col-xs-12 reduce-padding-left dropdown-heading">Alert Notifications</div><div class="custom-table col-xs-12 reduce-padding"><table><tbody><tr><th>Alert Name</th><th>Email Notification</th><th>Desktop Notification</th></tr><tr ng-repeat="alert in vm.notificationsList"><td>{{alert.alert_name}}</td><td><md-select ng-model=alert.mail_freq class="select-alert md-no-underline" placeholder="" aria-label=false ng-change=vm.updateNotification()><md-option ng-value=1>Daily</md-option><md-option ng-value=7>Weakly</md-option><md-option ng-value=0>Never</md-option></md-select></td><td><md-select ng-model=alert.desk_freq class="select-alert md-no-underline" placeholder="" aria-label=false ng-change=vm.updateNotification()><md-option ng-value=15>15 min</md-option><md-option ng-value=60>Hourly</md-option><md-option ng-value=0>Never</md-option></md-select></td></tr><!-- <tr>\n                    <td>Alert Name</td>\n                    <td>\n                      <md-select ng-model="vm.query.alertid"\n                               placeholder="Select Alerts"\n                               class="select-alert md-no-underline" >\n                               <md-option ng-value="\'High\'">High</md-option>\n                               <md-option ng-value="\'Low\'">Low</md-option>\n                      </md-select>\n                    </td>\n                    <td>\n                      <md-select ng-model="vm.query.alertid"\n                               placeholder="Select Alerts"\n                               class="select-alert md-no-underline" >\n                               <md-option ng-value="\'High\'">High</md-option>\n                               <md-option ng-value="\'Low\'">Low</md-option>\n                      </md-select>\n                    </td>\n                    <td>\n                      <md-select ng-model="vm.query.alertid"\n                               placeholder="Select Alerts"\n                               class="select-alert md-no-underline" >\n                               <md-option ng-value="\'High\'">High</md-option>\n                               <md-option ng-value="\'Low\'">Low</md-option>\n                      </md-select>\n                    </td>\n                  </tr> --></tbody></table></div></div></div></md-card><div class=spinner ng-show="vm.processing < 4"><div class=rect1></div><div class=rect2></div><div class=rect3></div><div class=rect4></div><div class=rect5></div></div></div><!-- Header End --></div></div>'),e.put("app/main/account/profile/profile.html",'<section class=container-fluid><div class=row><acme-navbar></acme-navbar></div><div class="account row"><nav class="nav-bg col-xs-12"></nav><div class="col-xs-12 settings-view"><div class=row><div class=container><div class=row><!-- Header --><div class="col-xs-12 reduce-padding"><md-card><div class="col-xs-12 profile"><div class="col-xs-12 profile-img-container"><div class=profile-img accept=image/* ng-model=vm.file type=file ngf-select=vm.upload($file) ngf-multiple=false><div class=user-img><img ng-src={{vm.profile.picture}} width=110px height=110px></div><div class=edit-image><img src=./assets/images/profile-settings-profile-picture-update.png width=110px height=110px></div></div></div><div class="col-xs-12 header-margin-btm"><span class=profile-title>My Profile</span><br>Upload an avatar, edit profile details and reset password.</div><!-- Personal Deatails --><form class="col-xs-12 reduce-padding" name=profileForm novalidate><div class="col-xs-12 reduce-padding"><div class=col-xs-8><md-input-container class=md-block><b>Full Name</b><span>*</span> <input class=md-no-underline type=text name=name ng-model=vm.profile.name aria-label=false autocomplete=off autofocus required><div ng-messages=profileForm.name.$error multiple><div ng-message=required>This field is required.</div></div></md-input-container></div><div class=col-xs-4><md-input-container class=md-block><b>Phone No</b> (Optional) <input class=md-no-underline type=text name=phone ng-model=vm.profile.phone aria-label=false autocomplete=off><div ng-messages=profileForm.phone.$error multiple><div ng-message=required>This field is required.</div></div></md-input-container></div></div><div class=col-xs-4><md-input-container class=md-block><b>Email</b><span>*</span> <input class=md-no-underline type=email name=email ng-model=vm.profile.email aria-label=false required><div ng-messages=profileForm.email.$error multiple><div ng-message=required>This field is required.</div><div ng-message=email>Invalid email address.</div></div></md-input-container></div><div class=col-xs-4><md-input-container class=md-block><b>Country</b> (Optional)<md-select ng-model=vm.profile.country name=country class="select-alert md-no-underline" aria-label=false><md-option ng-value="\'Pakistan\'">Pakistan</md-option></md-select><div ng-messages=profileForm.phone.$error multiple><div ng-message=required>This field is required.</div></div></md-input-container></div><div class=col-xs-4><md-input-container class=md-block><b>Language</b> (Optional)<md-select ng-model=vm.profile.language name=language class="select-alert md-no-underline" aria-label=false><md-option ng-value="\'English\'">English</md-option><md-option ng-value="\'Urdu\'">Urdu</md-option></md-select></md-input-container></div><div class="col-xs-12 text-right"><button class="btn primary-btn" ng-click=vm.savePersonalInfo() ng-disabled=profileForm.$invalid>Save</button></div></form><!-- Company Details --><form class="col-xs-12 reduce-padding" name=companyForm novalidate><div class="col-xs-12 margin-btm"><div class=sub-heading-line><span class=sub-heading-text>Company Profile</span></div></div><div class=col-xs-6><md-input-container class=md-block><b>Company Name</b><span>*</span> <input type=text name=companyName ng-model=vm.company.name aria-label=false autocomplete=off required><div ng-messages=companyForm.companyName.$error multiple><div ng-message=required>You must enable all special options before you can proceed.</div></div></md-input-container></div><div class=col-xs-6><md-input-container class=md-block><b>Company Size</b><span>*</span><md-select ng-model=vm.company.size name=companySize class="select-alert md-no-underline" aria-label=false required><md-option ng-value=1>1-5</md-option><md-option ng-value=10>5-10</md-option><md-option ng-value=100>10-100</md-option><md-option ng-value=1000>100-1000</md-option></md-select><div ng-messages=companyForm.companySize.$error multiple><div ng-message=required>You must enable all special options before you can proceed.</div></div></md-input-container></div><div class="col-xs-12 text-right"><button class="btn primary-btn" ng-click=vm.saveCompanyInfo() ng-disabled=companyForm.$invalid>Save</button></div></form><!-- Reset Password --><form class="col-xs-12 reduce-padding" name=passwordForm novalidate><div class="col-xs-12 margin-btm"><div class=sub-heading-line><span class=sub-heading-text>Reset Password</span></div></div><div class=col-xs-4><md-input-container class=md-block><b>Current Password</b><span>*</span> <input class=md-no-underline type=password name=currPassword ng-model=vm.password.currPassword aria-label=false autocomplete=off required><div ng-messages=passwordForm.currPassword.$error multiple><div ng-message=required>This field is required.</div></div></md-input-container></div><div class=col-xs-4><md-input-container class=md-block><b>New Password</b><span>*</span> <input class=md-no-underline type=password name=newPassword ng-model=vm.password.newPassword aria-label=false autocomplete=off required><div ng-messages=passwordForm.newPassword.$error multiple><div ng-message=required>This field is required.</div></div></md-input-container></div><div class=col-xs-4><md-input-container class=md-block><b>Re-type New Password</b><span>*</span> <input class=md-no-underline type=password name=newRePassword ng-model=vm.password.newRePassword aria-label=false autocomplete=off required><div ng-messages=passwordForm.newRePassword.$error multiple><div ng-message=required>This field is required.</div></div></md-input-container></div><div class="col-xs-12 text-right"><button class="btn primary-btn" ng-click=vm.savePasswordInfo() ng-disabled=passwordForm.$invalid>Save</button></div></form></div></md-card></div><!-- Header End --></div></div></div></div></div></section><nav-footer></nav-footer>'),e.put("app/main/account/social/social.html",'<div class=container><div class=row><!-- Header --><div class="col-xs-12 reduce-padding"><md-card><div class="col-xs-12 social"><div class=col-xs-12><div class="float-left bell-icon"><img src=./assets/images/social-account.png></div><div class=float-left><div class=sub-page-title>Social Accounts</div><div class=sub-page-subtitle>Manage your social media accounts</div></div></div><div class=col-xs-12><br><br><br><div ng-if=!vm.facebookConnected class="col-xs-6 reduce-padding-left"><img src=./assets/images/facebook.png> &nbsp;&nbsp;&nbsp;Add your <span class=facebook ng-click="vm.authenticate(\'facebook\')">Facebook</span> account</div><div ng-if=vm.facebookConnected class="col-xs-6 reduce-padding-left"><img src=./assets/images/facebook-connected.png> &nbsp;&nbsp;&nbsp;<b>Connected</b><br><br></div><div ng-if=!vm.twitterConnected class="col-xs-6 reduce-padding-left"><img src=./assets/images/twitter.png> &nbsp;&nbsp;&nbsp;Add your <span class=twitter ng-click="vm.authenticate(\'twitter\')">Twitter</span> account<br><br></div><div ng-if=vm.twitterConnected class="col-xs-6 reduce-padding-left"><img src=./assets/images/twitter-connected.png> &nbsp;&nbsp;&nbsp;<b>Connected</b><br><br></div><div ng-if=!vm.instagramConnected class="col-xs-6 reduce-padding-left"><img src=./assets/images/instagram.png> &nbsp;&nbsp;&nbsp;Add your <span class=instagram ng-click="vm.authenticate(\'instagram\')">Instagram</span> account</div><div ng-if=vm.instagramConnected class="col-xs-6 reduce-padding-left"><img src=./assets/images/instagram-connected.png> &nbsp;&nbsp;&nbsp;<b>Connected</b></div><div ng-if=!vm.googleConnected class="col-xs-6 reduce-padding-left"><img src=./assets/images/google.png> &nbsp;&nbsp;&nbsp;Add your <span class=google ng-click="vm.authenticate(\'google\')">Google</span> account</div><div ng-if=vm.googleConnected class="col-xs-6 reduce-padding-left"><img src=./assets/images/google-connected.png> &nbsp;&nbsp;&nbsp;<b>Connected</b></div></div><br><br><br></div></md-card></div><!-- Header End --></div></div>'),e.put("app/main/dashboard/competitiveAnalysis/competitiveAnalysis.html",'<div class="container ng-cloak"><div class=row><!--  Filter Directive  --><div style="visibility: hidden"><div class=md-dialog-container id=filter><md-dialog layout-padding><dashboard-filter filter-data=vm.query apply-filter=vm.execQuery cities=vm.cities></dashboard-filter></md-dialog></div></div><!--  Filter Directive End  --><!-- Header --><div class="col-xs-12 reduce-padding"><md-card><md-card-title class=col-xs-12><md-card-title-text><span class=md-headline>Alerts</span></md-card-title-text></md-card-title><md-card-content class=col-xs-12><div class="col-lg-10 col-md-8 col-sm-7 col-xs-6 reduce-padding"><md-select ng-model=vm.query.alertid ng-change=vm.selectAlerts() placeholder="Select Alerts" ng-disabled="vm.processing < 4" ng-model-options="{ debounce: 1000 }" class="select-alert md-no-underline" multiple><md-option ng-value=alert.alertid ng-repeat="alert in vm.alerts">{{alert.name}}</md-option></md-select></div><div class="col-lg-2 col-md-4 col-sm-5 col-xs-6 reduce-padding"><md-button ng-click=vm.showFilter($event) class="md-icon-button icon-btn col-xs-1" ng-disabled="vm.processing < 4" aria-label=More style=width:90%><i class="fa fa-filter"></i></md-button><!-- <md-button class="md-icon-button icon-btn col-xs-1" aria-label="More" ng-disabled="vm.processing < 4">\n                <i class="fa fa-magic"></i>\n              </md-button>\n              <md-button class="md-icon-button icon-btn col-xs-1" aria-label="More" ng-disabled="vm.processing < 4">\n                <i class="fa fa-download"></i>\n              </md-button> --></div></md-card-content><div class=header-date><b>From</b> : {{vm.query.idate | date: \'dd MMM yyyy\'}} &nbsp;&nbsp;&nbsp; <b>To</b> : {{vm.query.edate | date: \'dd MMM yyyy\'}}</div></md-card><div class=spinner ng-show=!vm.startAnimation><div class=rect1></div><div class=rect2></div><div class=rect3></div><div class=rect4></div><div class=rect5></div></div></div><!-- Header End --><!-- Graphs --><div class="col-xs-12 reduce-padding" ng-class="{\'blur\': !vm.startAnimation}"><!-- First Layer --><div class="col-xs-12 reduce-padding"><!-- Mentions --><!-- <div class="col-xs-6 reduce-padding card-anim"\n             ng-repeat="topStat in vm.topStats"\n             ng-class="{\'card-anim-enter-1\': vm.startAnimation}">\n          <md-card>\n            <md-card-content class="col-xs-12">\n\n              <div class="col-xs-8 top-stats-h1">{{topStat.total | number:0}}</div>\n              <div class="col-xs-4 text-right" ng-show="topStat.perc>0">\n                <img class="progress-arrow-img" src="./assets/images/upward-arrow.png"/>\n              </div>\n              <div class="col-xs-4 text-right" ng-show="topStat.perc<0">\n                <img class="progress-arrow-img" src="./assets/images/downward-arrow.png"/>\n              </div>\n              <div class="col-xs-12 reduce-padding">\n                <span class="col-xs-6 text-left">{{topStat.alertName}} Mentions</span>\n                <span class="col-xs-6 reduce-padding text-right">{{topStat.perc | number:1}}%</span>\n              </div>\n            </md-card-content>\n          </md-card>\n        </div> --><div class="col-xs-6 reduce-padding card-anim" ng-class="{\'card-anim-enter-1\': vm.startAnimation}"><md-card><md-card-content class=col-xs-12><div class="col-xs-8 top-stats-h1">{{vm.topStats[0].total | number:0}}</div><div class="col-xs-4 text-right" ng-show="vm.topStats[0].perc>0"><img class=progress-arrow-img src=./assets/images/upward-arrow.png></div><div class="col-xs-4 text-right" ng-show="vm.topStats[0].perc<0"><img class=progress-arrow-img src=./assets/images/downward-arrow.png></div><div class="col-xs-12 reduce-padding"><span class="col-xs-6 text-left">{{vm.topStats[0].alertName}} Mentions</span> <span class="col-xs-6 reduce-padding text-right">{{vm.topStats[0].perc | number:1}}%</span></div></md-card-content></md-card></div><div class="col-xs-6 reduce-padding card-anim" ng-class="{\'card-anim-enter-2\': vm.startAnimation}"><md-card><md-card-content class=col-xs-12><div class="col-xs-8 top-stats-h1">{{vm.topStats[1].total | number:0}}</div><div class="col-xs-4 text-right" ng-show="vm.topStats[0].perc>0"><img class=progress-arrow-img src=./assets/images/upward-arrow.png></div><div class="col-xs-4 text-right" ng-show="vm.topStats[0].perc<0"><img class=progress-arrow-img src=./assets/images/downward-arrow.png></div><div class="col-xs-12 reduce-padding"><span class="col-xs-6 text-left">{{vm.topStats[0].alertName}} Mentions</span> <span class="col-xs-6 reduce-padding text-right">{{vm.topStats[0].perc | number:1}}%</span></div></md-card-content></md-card></div></div><!-- First Layer End --><!-- Second Layer --><div class="col-xs-12 reduce-padding"><!-- Share of Voice Pie Chart --><div class="col-xs-4 reduce-padding card-anim" ng-class="{\'card-anim-enter-3\': vm.startAnimation}"><md-card><i class="fa fa-info info-icon"><md-tooltip md-direction=left>Insert Drive</md-tooltip></i><div id=share-voice-pie style="padding: 20px;height: 300px"><div class=text-center><div class=card-header>Share of Voice</div><img src=./assets/images/data-not-loaded-icon.png width=30%><div>Data is not Loaded</div></div></div></md-card></div><!-- GeoGraph --><div class="col-xs-8 reduce-padding card-anim" ng-class="{\'card-anim-enter-4\': vm.startAnimation}"><!-- Share of voice over time --><md-card><i class="fa fa-info info-icon"><md-tooltip md-direction=left>Insert Drive</md-tooltip></i><div id=share-voice-area style="padding: 20px;height: 300px"><div class=text-center><div class=card-header>Share of Voice Over Time</div><img src=./assets/images/data-not-loaded-icon.png width=30%><div>Data is not Loaded</div></div></div></md-card></div></div><!-- Second Layer End --><!-- Third Layer --><div class="col-xs-12 reduce-padding"><div class="col-xs-6 reduce-padding card-anim" ng-class="{\'card-anim-enter-5\': vm.startAnimation}"><md-card><i class="fa fa-info info-icon"><md-tooltip md-direction=left>Insert Drive</md-tooltip></i><div class=row><div class=col-xs-12><div class=legend-pos><div ng-repeat="legend in vm.mapGraphLegends"><div class=legend-map style="background-color: {{legend.color}}"></div>{{legend.name}}</div></div><div style="padding: 20px;height: 615px"><div class="card-header text-center">Mentions by Region</div><div id=mapChartdiv style="width:100%;height: 550px"><div class=text-center><div class=card-header>Share of Voice Over Time</div><img src=./assets/images/data-not-loaded-icon.png width=30%><div>Data is not Loaded</div></div></div></div></div><!-- <div class="col-xs-6">\n                  <div ng-repeat="location in vm.locationGridData">\n                    {{location.cityName}} :\n                    <span ng-repeat="mentions in location.compare">\n                      {{mentions.category}}&nbsp;\n                      {{mentions.value}}\n                    </span>\n\n                  </div>\n              </div> --></div></md-card></div><div class="col-xs-6 reduce-padding card-anim" ng-class="{\'card-anim-enter-6\': vm.startAnimation}"><div class="col-xs-12 reduce-padding"><md-card><i class="fa fa-info info-icon"><md-tooltip md-direction=left>Insert Drive</md-tooltip></i><div id=reach-evolution style="padding: 20px;height: 300px"><div class=text-center><div class=card-header>Reach Evolution</div><img src=./assets/images/data-not-loaded-icon.png width=30%><div>Data is not Loaded</div></div></div></md-card></div><!-- Daily Activity --><div class="col-xs-12 reduce-padding"><md-card><i class="fa fa-info info-icon"><md-tooltip md-direction=left>Insert Drive</md-tooltip></i><div id=daily-activity style="padding: 20px;height: 300px"><div class=text-center><div class=card-header>Daily Activity</div><img src=./assets/images/data-not-loaded-icon.png width=30%><div>Data is not Loaded</div></div></div></md-card></div></div></div><!-- Third Layer End --><!-- Fourth Layer --><div class="col-xs-12 reduce-padding"><!-- Mentions by Sources --><div class="col-xs-6 reduce-padding card-anim" ng-class="{\'card-anim-enter-7\': vm.startAnimation}"><md-card><div class=row><div class="col-xs-12 mention-by-sources"><div class="col-xs-12 card-header text-center">Mentions By Sources</div><div class="col-xs-6 reduce-padding" style="padding: 20px;height: 300px" ng-repeat="mentions in vm.topStats"><div class="col-xs-12 reduce-padding text-center">{{mentions.alertName}}</div><div class="col-xs-12 sources-container"><span class="col-xs-2 reduce-padding"><i class="text-center facebook-icon fa fa-facebook fa-2x"></i> </span><span class="col-xs-10 reduce-padding"><div class=fb-color>{{mentions.Facebook | number}} ({{mentions.facebookPercentage | number:1}}%)</div><md-progress-linear class=fb-progress-bar md-mode=determinate value={{mentions.facebookPercentage}}></md-progress-linear></span></div><div class="col-xs-12 sources-container"><span class="col-xs-2 reduce-padding"><i class="text-center twitter-icon fa fa-twitter fa-2x"></i> </span><span class="col-xs-10 reduce-padding"><div class=twitter-color>{{mentions.Twitter | number}} ({{mentions.twitterPercentage | number:1}}%)</div><md-progress-linear class=twitter-progress-bar md-mode=determinate value={{mentions.twitterPercentage}}></md-progress-linear></span></div><div class="col-xs-12 sources-container"><span class="col-xs-2 reduce-padding"><i class="text-center web-icon fa fa-globe fa-2x"></i> </span><span class="col-xs-10 reduce-padding"><div class=web-color>{{mentions.Web | number}} ({{mentions.webPercentage | number:1}}%)</div><md-progress-linear class=web-progress-bar md-mode=determinate value={{mentions.webPercentage}}></md-progress-linear></span></div></div></div></div></md-card></div><!-- Languages by Sources --><div class="col-xs-6 reduce-padding card-anim" ng-class="{\'card-anim-enter-8\': vm.startAnimation}"><md-card><i class="fa fa-info info-icon"><md-tooltip md-direction=left>Insert Drive</md-tooltip></i><div class="row mention-by-sources"><div class="col-xs-12 card-header text-center">Languages By Sources</div><div class="col-xs-6 reduce-padding"><div id=language-1 style="padding: 20px;height: 300px">Placeholder for chart</div></div><div class="col-xs-6 reduce-padding"><div id=language-2 style="padding: 20px;height: 300px">Placeholder for chart</div></div></div></md-card></div></div><!-- Fourth Layer End --></div><!-- Graphs --></div></div>'),e.put("app/main/dashboard/listeningAnalysis/listeningAnalysis.html",'<sticky-filter filter-data=vm.query apply-filter=vm.execQuery cities=vm.cities></sticky-filter><div class=container id=popupContainer><div class=row><!--  Filter Directive  --><div style="visibility: hidden"><div class=md-dialog-container id=filter><md-dialog layout-padding><dashboard-filter filter-data=vm.query apply-filter=vm.execQuery cities=vm.cities></dashboard-filter></md-dialog></div></div><!--  Filter Directive End --><!-- Download Popup --><div style="visibility: hidden"><div class=md-dialog-container id=download-popup><md-dialog layout-padding><md-dialog-content><div class=download-popup><h4>Want to export stats pdf?</h4><p>This report is based on the following selected filters</p><div class=filter-container><div class="filter-name float-left">Sentiments</div><div class="filter-values float-left"><span ng-show=vm.query.pos>Positive</span> <span ng-show=vm.query.neg>, Negative</span></div></div><div class=filter-container><div class="filter-name float-left">Languages</div><div class="filter-values float-left"><span ng-show=lang.value ng-repeat="lang in vm.query.languages">{{lang.name}}<span ng-hide=$last>,</span></span></div></div><div class=filter-container><div class="filter-name float-left">Cities</div><div class="filter-values float-left"><span ng-repeat="city in vm.query.cities | limitTo:5">{{city}}<span ng-hide=$last>, </span></span><span ng-show="vm.query.cities.length>4">. . .</span> <span ng-show="vm.query.cities.length === 0">All</span></div></div><div class=last-filter-container><div class="filter-name float-left">Sources</div><div class="filter-values float-left"><span ng-show=source.value ng-repeat="source in vm.query.sources">{{source.name}}<span ng-hide=$last>,</span></span></div></div><div class=text-right ng-if="vm.pdfReportType===\'pdf-stats\'"><button class=gray-btn ng-click=vm.closePopup()>Cancel</button>&nbsp; <button class=primary-btn ng-click=vm.mailReportPdfStats()>Confirm</button></div><div class=text-right ng-if="vm.pdfReportType===\'pdf-mentions\'"><button class=gray-btn ng-click=vm.closePopup()>Cancel</button>&nbsp; <button class=primary-btn ng-click=vm.mailReportPdf()>Confirm</button></div><div class=text-right ng-if="vm.pdfReportType===\'csv-report\'"><button class=gray-btn ng-click=vm.closePopup()>Cancel</button>&nbsp; <button class=primary-btn ng-click=vm.mailReportCsv()>Confirm</button></div><div class=text-right></div></div></md-dialog-content></md-dialog></div></div><!-- Download Popup End --><!--  Header  --><div class="col-xs-12 reduce-padding"><md-card><md-card-title class=col-xs-12><md-card-title-text><span class=md-headline>Alerts</span></md-card-title-text></md-card-title><md-card-content class=col-xs-12><div class="col-xs-12 reduce-padding"><div class="col-lg-10 col-md-8 col-sm-7 col-xs-6 reduce-padding"><md-select ng-model=vm.query.alertid ng-change=vm.generateGraphs() placeholder="Select Alerts" ng-disabled="vm.processing < 11" class="select-alert md-no-underline"><md-option ng-value=alert.alertid ng-repeat="alert in vm.alerts">{{alert.name}}</md-option></md-select></div><div class="col-lg-2 col-md-4 col-sm-5 col-xs-6 reduce-padding"><md-button ng-click=vm.showFilter($event) ng-disabled="vm.processing < 11" class="md-icon-button icon-btn col-xs-1" aria-label=More style=width:40%><i class="fa fa-filter"></i></md-button><!-- <md-button class="md-icon-button icon-btn col-xs-1" ng-disabled="vm.processing < 11" aria-label="More">\n                <i class="fa fa-magic"></i>\n              </md-button> --><md-menu><md-button class="md-icon-button icon-btn col-xs-1" aria-label="Open menu with custom trigger" class=md-icon-button ng-disabled=vm.downloadProcessing ng-mouseenter=$mdMenu.open() style=width:40%><i class="fa fa-download" ng-hide=vm.downloadProcessing></i><md-progress-circular ng-show=vm.downloadProcessing class="md-hue-2 btn-spinner" md-diameter=20px></md-progress-circular></md-button><md-menu-content width=2 ng-mouseleave=$mdMenu.close()><md-menu-item><md-button ng-click="vm.showDownloadFilters($event,\'pdf-stats\')"><img src=./assets/images/pdf_stats.png> Export Stats</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.showDownloadFilters($event,\'pdf-mentions\')"><img src=./assets/images/Pdf_mentions.png> Export Top Mentions</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.showDownloadFilters($event,\'csv-report\')"><img src=./assets/images/csv_report.png> Export Report</md-button></md-menu-item></md-menu-content></md-menu><!-- <md-button class="md-icon-button icon-btn col-xs-1"\n                         ng-disabled="vm.processing < 11"\n                         aria-label="More"\n                         ng-click="vm.mailReportPdfStats()"\n                         style="width:40%"\n                        ng-mouseenter="$mdMenu.open()">\n                <i class="fa fa-download"></i>\n              </md-button> --></div></div></md-card-content><div class=header-date><b>From</b> : {{vm.query.idate | date: \'dd MMM yyyy\'}} &nbsp;&nbsp;&nbsp; <b>To</b> : {{vm.query.edate | date: \'dd MMM yyyy\'}}</div></md-card><!-- Spinner --><div class=spinner ng-show=!vm.topStats><div class=rect1></div><div class=rect2></div><div class=rect3></div><div class=rect4></div><div class=rect5></div></div></div><!--  Header End --><!-- Graphs --><div class="col-xs-12 reduce-padding"><!--  First layer  --><div class="col-xs-12 reduce-padding"><!-- Mentions --><div class="col-xs-4 reduce-padding card-anim" ng-class="{\'card-anim-enter\': vm.topStats}"><md-card><md-card-content class=col-xs-12><div class="col-xs-12 reduce-padding"><div class="col-xs-8 top-stats-h1">{{vm.topStats.mentions | number:0}}</div><div class="col-xs-4 text-right" ng-show="vm.topStats.incInMentions>0"><img class=progress-arrow-img src=./assets/images/upward-arrow.png><md-tooltip md-direction=top>Relative change in mentions as per selected time period</md-tooltip></div><div class="col-xs-4 text-right" ng-show="vm.topStats.incInMentions<0"><img class=progress-arrow-img src=./assets/images/downward-arrow.png><md-tooltip md-direction=top>Relative change in mentions as per selected time period</md-tooltip></div><div class="col-xs-12 reduce-padding"><span class="col-xs-6 text-left">Mentions</span> <span class="col-xs-6 reduce-padding text-right">{{vm.topStats.incInMentions | number:1}}%</span></div></div></md-card-content></md-card></div><!-- Positive --><div class="col-xs-4 reduce-padding card-anim" ng-class="{\'card-anim-enter-1\': vm.topStats}"><md-card><md-card-content class=col-xs-12><div class="col-xs-12 reduce-padding"><div class="col-xs-8 top-stats-h1">{{vm.topStats.positive | number:0}}%</div><div class="col-xs-4 text-right" ng-show="vm.topStats.incInPositive>0"><img class=progress-arrow-img src=./assets/images/upward-arrow.png><md-tooltip md-direction=top>Relative change in mentions as per selected time period</md-tooltip></div><div class="col-xs-4 text-right" ng-show="vm.topStats.incInPositive<0"><img class=progress-arrow-img src=./assets/images/downward-arrow.png><md-tooltip md-direction=top>Relative change in mentions as per selected time period</md-tooltip></div><div class="col-xs-12 reduce-padding"><span class="col-xs-6 text-left">Positive</span> <span class="col-xs-6 reduce-padding text-right">{{vm.topStats.incInPositive | number:1}}%</span></div></div></md-card-content></md-card></div><!-- Avg/Day --><div class="col-xs-4 reduce-padding card-anim" ng-class="{\'card-anim-enter-2\': vm.topStats}"><md-card><md-card-content class=col-xs-12><div class="col-xs-12 reduce-padding"><div class="col-xs-8 top-stats-h1">{{vm.topStats.avg | number:0}}</div><div class="col-xs-4 text-right" ng-show="vm.topStats.incInAvg>0"><img class=progress-arrow-img src=./assets/images/upward-arrow.png><md-tooltip md-direction=top>Relative change in mentions as per selected time period</md-tooltip></div><div class="col-xs-4 text-right" ng-show="vm.topStats.incInAvg<0"><img class=progress-arrow-img src=./assets/images/downward-arrow.png><md-tooltip md-direction=top>Relative change in reach as per selected time period</md-tooltip></div><div class="col-xs-12 reduce-padding"><span class="col-xs-6 text-left">Reach</span> <span class="col-xs-6 reduce-padding text-right">{{vm.topStats.incInAvg | number:1}}%</span></div></div></md-card-content></md-card></div></div><!--  First layer End --><!--  Sixth layer --><div class="col-xs-12 reduce-padding"><!-- Sentiments --><div class="col-xs-6 reduce-padding card-anim" ng-class="{\'card-anim-enter-3\': vm.topStats}"><md-card><i class="fa fa-info info-icon"><md-tooltip md-direction=top>The attitude expressed in the mention as either positive, negative or neutral</md-tooltip></i><div id=sentiments style="padding: 20px;height: 300px"><div class=text-center><div class=card-header>Sentiments</div><img src=./assets/images/data-not-loaded-icon.png width=40%><div>Data is not Loaded</div></div></div></md-card></div><!-- Word Cloud --><div class="col-xs-6 reduce-padding card-anim" ng-class="{\'card-anim-enter-4\': vm.topStats}"><md-card><i class="fa fa-info info-icon"><md-tooltip md-direction=top>Frequency of word used in the mentions</md-tooltip></i><div class=graph-header id=treeMapChart style="padding: 20px;height: 300px"><div class=text-center><div class=card-header>Topics</div><img src=./assets/images/data-not-loaded-icon.png width=40%><div>Data is not Loaded</div></div></div></md-card></div></div><!--  Sixth layer End --><!--  Second layer --><div class="col-xs-12 reduce-padding"><!-- Volume over time --><div class="col-xs-8 reduce-padding card-anim" ng-class="{\'card-anim-enter-5\': vm.topStats}"><md-card><i class="fa fa-info info-icon"><md-tooltip md-direction=top>Number of times keyword mentioned.</md-tooltip></i><div id=volume-over-time style="padding: 20px;height: 300px"><div class=text-center><div class=card-header>Volume Over Time</div><img src=./assets/images/data-not-loaded-icon.png width=30%><div>Data is not Loaded</div></div></div></md-card></div><!-- Languages --><div class="col-xs-4 reduce-padding card-anim" ng-class="{\'card-anim-enter-6\': vm.topStats}"><md-card><i class="fa fa-info info-icon"><md-tooltip md-direction=top>The propotion of mentions in a language</md-tooltip></i><div id=languages-pie style="padding: 20px;height: 300px"><div class=text-center><div class=card-header>Languages</div><img src=./assets/images/data-not-loaded-icon.png width=70%><div>Data is not Loaded</div></div></div></md-card></div></div><!--  Second layer End --><!--  Third layer --><div class="col-xs-12 reduce-padding"><div class="col-xs-4 reduce-padding card-anim" ng-class="{\'card-anim-enter-7\': vm.topStats}"><md-card><i class="fa fa-info info-icon"><md-tooltip md-direction=top>Number of Mention\'s by location</md-tooltip></i><div style="padding: 20px;height: 300px"><div class="card-header text-center">Mentions by Region</div><div id=mapChartdiv style="width:100%;height: 230px"><div class=text-center><img src=./assets/images/data-not-loaded-icon.png width=70%><div>Data is not Loaded</div></div></div></div></md-card></div><div class="col-xs-8 reduce-padding card-anim" ng-class="{\'card-anim-enter-8\': vm.topStats}"><md-card><i class="fa fa-info info-icon"><md-tooltip md-direction=top>The number of people that were reached by all the mentions</md-tooltip></i><div id=reach-evolution style="padding: 20px;height: 300px"><div class=text-center><div class=card-header>Reach Evolution</div><img src=./assets/images/data-not-loaded-icon.png width=30%><div>Data is not Loaded</div></div></div></md-card></div></div><!--  Third layer End --><!--  Fourth layer --><div class="col-xs-12 reduce-padding"><!-- Top reach --><div class="col-xs-6 reduce-padding card-anim" ng-class="{\'card-anim-enter-9\': vm.topStats}"><md-card class=card-padding><i class="fa fa-info info-icon"><md-tooltip md-direction=top>The most reached mention by channel</md-tooltip></i><div class="card-header text-center">Top Reach</div><uib-tabset class=tabs active=topReach><uib-tab class=twitter-tab index=0 heading=Twitter><div ng-show="vm.topReachTwitter.length===0" class=text-center><img src=./assets/images/no_feed_icon.png></div><md-list-item class=md-3-line ng-repeat="tweet in vm.topReachTwitter"><img ng-if=!tweet.image class=md-avatar src=http://www.persefone.it/blog/wp-content/themes/photobook/images/blank.png> <img ng-if=tweet.image ng-src={{tweet.image}} class=md-avatar onerror="this.source=\'https://hdimagesnew.com/wp-content/uploads/2016/09/image-not-found.png\'"><div class=md-list-item-text layout=column style="max-width: 320px"><h3>{{tweet.first_head}}</h3><h4><a ng-href={{tweet.url}} target=_blank>{{tweet.second_head}}</a></h4></div><div class="md-list-item-text text-right" layout=column><h3 style="padding-left: 15px;padding-right: 15px">{{tweet.rank}}</h3></div><md-divider ng-hide=$last></md-divider></md-list-item></uib-tab><uib-tab class=web-tab index=1 heading=Web><div ng-show="vm.topReachWeb.length===0" class=text-center><img src=./assets/images/no_feed_icon.png></div><md-list-item class=md-3-line ng-repeat="website in vm.topReachWeb"><img ng-if=!website.image class=md-avatar src=http://www.persefone.it/blog/wp-content/themes/photobook/images/blank.png> <img ng-if=website.image ng-src={{website.image}} class=md-avatar onerror="this.source=\'http://www.persefone.it/blog/wp-content/themes/photobook/images/blank.png\'"><div class=md-list-item-text layout=column style="max-width: 320px"><h3><b>{{website.first_head}}</b></h3><h4><a ng-href={{website.url}} target=_blank>{{website.second_head}}</a></h4><!-- <p>{{website.url}}</p> --></div><div class="md-list-item-text text-right" layout=column><h3 style="padding-left: 15px;padding-right: 15px">{{website.rank}}</h3></div><md-divider ng-hide=$last></md-divider></md-list-item></uib-tab></uib-tabset></md-card></div><!-- Top Influencers --><div class="col-xs-6 reduce-padding card-anim" ng-class="{\'card-anim-enter-10\': vm.topStats}"><md-card class=card-padding><i class="fa fa-info info-icon"><md-tooltip md-direction=top>The influencer generating the most reach from all mentions</md-tooltip></i><div class="card-header text-center">Top Influencers</div><uib-tabset class=tabs active=topInfulencer><uib-tab class=twitter-tab index=0 heading=Twitter><div ng-show="vm.twitterInfluencers.length===0" class=text-center><img src=./assets/images/no_feed_icon.png></div><md-list-item class=md-3-line ng-repeat="tweeInflu in vm.twitterInfluencers"><img ng-if=!tweeInflu.image class=md-avatar src=http://www.persefone.it/blog/wp-content/themes/photobook/images/blank.png> <img ng-if=tweeInflu.image ng-src={{tweeInflu.image}} class=md-avatar onerror="this.src=\'https://hdimagesnew.com/wp-content/uploads/2016/09/image-not-found.png\'"><div class=md-list-item-text layout=column><h3><a ng-href={{tweeInflu.url}} target=_blank><b>{{tweeInflu.first_head}}</b></a></h3><h4><a ng-href={{tweeInflu.url}} target=_blank>{{tweeInflu.second_head}}</a></h4><!-- <p>I\'ll be in your neighborhood doing errands</p> --></div><div class="md-list-item-text text-right" layout=column><h3>{{tweeInflu.rank}} <i class="fa fa-star star"></i></h3></div><md-divider ng-hide=$last></md-divider></md-list-item></uib-tab><uib-tab class=web-tab index=1 heading=Web><div ng-show="vm.webInfluencers.length===0" class=text-center><img src=./assets/images/no_feed_icon.png></div><md-list-item class=md-3-line ng-repeat="webInflu in vm.webInfluencers"><img ng-if=!webInflu.image class=md-avatar src=http://www.persefone.it/blog/wp-content/themes/photobook/images/blank.png> <img ng-if=webInflu.image ng-src={{webInflu.image}} class=md-avatar onerror="this.src=\'https://hdimagesnew.com/wp-content/uploads/2016/09/image-not-found.png\'"><div class=md-list-item-text layout=column style="max-width: 320px"><h3><b>{{webInflu.first_head}}</b></h3><h4><a ng-href={{website.url}} target=_blank>{{webInflu.second_head}}</a></h4><!-- <p>I\'ll be in your neighborhood doing errands</p> --></div><div class="md-list-item-text text-right" layout=column><h3>{{webInflu.rank}} <i class="fa fa-star star"></i></h3></div><md-divider ng-hide=$last></md-divider></md-list-item></uib-tab></uib-tabset></md-card></div></div><!--  Fourth layer End --><!--  Fifth layer --><div class="col-xs-12 reduce-padding"><!-- Mention by Sources --><div class="col-xs-4 reduce-padding card-anim" ng-class="{\'card-anim-enter-11\': vm.topStats}"><md-card><div class=row><div class="col-xs-12 mention-by-sources"><div class="col-xs-12 card-header text-center">Mentions By Sources</div><div class="col-xs-12 sources-container"><span class="col-xs-2 reduce-padding"><i ng-click="vm.sourceClick(\'Facebook\')" class="text-center facebook-icon fa fa-facebook fa-2x"></i> </span><span class="col-xs-10 reduce-padding"><div class=fb-color>{{vm.mentionBySources.Facebook.value | number}} ({{vm.mentionBySources.Facebook.percentage | number:1}}%)</div><md-progress-linear class=fb-progress-bar md-mode=determinate value={{vm.mentionBySources.Facebook.percentage}}></md-progress-linear></span></div><div class="col-xs-12 sources-container"><span class="col-xs-2 reduce-padding"><i ng-click="vm.sourceClick(\'Twitter\')" class="text-center twitter-icon fa fa-twitter fa-2x"></i> </span><span class="col-xs-10 reduce-padding"><div class=twitter-color>{{vm.mentionBySources.Twitter.value | number}} ({{vm.mentionBySources.Twitter.percentage | number:1}}%)</div><md-progress-linear class=twitter-progress-bar md-mode=determinate value={{vm.mentionBySources.Twitter.percentage}}></md-progress-linear></span></div><div class="col-xs-12 sources-container"><span class="col-xs-2 reduce-padding"><i ng-click="vm.sourceClick(\'Web\')" class="text-center web-icon fa fa-globe fa-2x"></i> </span><span class="col-xs-10 reduce-padding"><div class=web-color>{{vm.mentionBySources.Web.value | number}} ({{vm.mentionBySources.Web.percentage | number:1}}%)</div><md-progress-linear class=web-progress-bar md-mode=determinate value={{vm.mentionBySources.Web.percentage}}></md-progress-linear></span></div></div></div></md-card></div><!-- Activity by Day --><div class="col-xs-8 reduce-padding card-anim" ng-class="{\'card-anim-enter-12\': vm.topStats}"><md-card><i class="fa fa-info info-icon"><md-tooltip md-direction=top>Total number of keyword mentions by day during selected period</md-tooltip></i><div id=activity-by-day style="padding: 20px;height: 300px"><div class=text-center><div class=card-header>Activity By Days</div><img src=./assets/images/data-not-loaded-icon.png width=30%><div>Data is not Loaded</div></div></div></md-card></div></div><!--  Fifth layer End --></div></div></div>'),
e.put("app/main/dashboard/listeningAnalysisPdf/listeningAnalysisPdf.html",'<div class=container id=popupContainer><div class="row dashboard"><!-- Graphs --><div id=graph-layer class="col-xs-12 reduce-padding" ng-class="{\'blur\': vm.processing < 11}"><!--  First layer  --><div class="col-xs-12 reduce-padding"><!-- Mentions --><div class="col-xs-4 reduce-padding"><md-card><md-card-content class=col-xs-12><div class="col-xs-8 top-stats-h1">{{vm.topStats.mentions | number:0}}</div><div class="col-xs-4 text-right" ng-show="vm.topStats.incInMentions>0"><img class=progress-arrow-img src=./assets/images/upward-arrow.png></div><div class="col-xs-4 text-right" ng-show="vm.topStats.incInMentions<0"><img class=progress-arrow-img src=./assets/images/downward-arrow.png></div><div class="col-xs-12 reduce-padding"><span class="col-xs-6 text-left">Mentions</span> <span class="col-xs-6 reduce-padding text-right">{{vm.topStats.incInMentions | number:2}}%</span></div></md-card-content></md-card></div><!-- Positive --><div class="col-xs-4 reduce-padding"><md-card><md-card-content class=col-xs-12><div class="col-xs-8 top-stats-h1">{{vm.topStats.positive | number:0}}%</div><div class="col-xs-4 text-right" ng-show="vm.topStats.incInPositive>0"><img class=progress-arrow-img src=./assets/images/upward-arrow.png></div><div class="col-xs-4 text-right" ng-show="vm.topStats.incInPositive<0"><img class=progress-arrow-img src=./assets/images/downward-arrow.png></div><div class="col-xs-12 reduce-padding"><span class="col-xs-6 text-left">Positive</span> <span class="col-xs-6 reduce-padding text-right">{{vm.topStats.incInPositive | number:2}}%</span></div></md-card-content></md-card></div><!-- Avg/Day --><div class="col-xs-4 reduce-padding"><md-card><md-card-content class=col-xs-12><div class="col-xs-8 top-stats-h1">{{vm.topStats.avg | number:0}}</div><div class="col-xs-4 text-right" ng-show="vm.topStats.incInAvg>0"><img class=progress-arrow-img src=./assets/images/upward-arrow.png></div><div class="col-xs-4 text-right" ng-show="vm.topStats.incInAvg<0"><img class=progress-arrow-img src=./assets/images/downward-arrow.png></div><div class="col-xs-12 reduce-padding"><span class="col-xs-6 text-left">Reach</span> <span class="col-xs-6 reduce-padding text-right">{{vm.topStats.incInAvg | number:2}}%</span></div></md-card-content></md-card></div></div><!--  First layer End --><!--  Second layer --><div class="col-xs-12 reduce-padding"><!-- Volume over time --><div class="col-xs-8 reduce-padding"><md-card><div id=volume-over-time style="padding: 20px;height: 300px">Placeholder for chart</div></md-card></div><!-- Languages --><div class="col-xs-4 reduce-padding"><md-card><div id=languages-pie style="padding: 20px;height: 300px">Placeholder for chart</div></md-card></div></div><!--  Second layer End --><!--  Third layer --><div class="col-xs-12 reduce-padding"><div class="col-xs-6 reduce-padding"><md-card><div></div><div style="padding: 20px;height: 300px"><div class="card-header text-center">Mentions by Region</div><div id=mapChartdiv style="width:350px;height: 250px;float:left">Placeholder for chart</div><div style="margin-top: 24px;float:left"><table><tr ng-repeat="city in vm.mapData  | limitTo: 10 | orderBy:\'-mentions\'"><td>- {{city.name}} &nbsp;</td><td>({{city.mentions}})</td></tr></table></div></div></md-card></div><div class="col-xs-6 reduce-padding"><md-card><div id=reach-evolution style="padding: 20px;height: 300px">Placeholder for chart</div></md-card></div></div><!--  Third layer End --><!--  Fourth layer --><div class="col-xs-12 reduce-padding"><!-- Top reach --><div class="col-xs-6 reduce-padding"><md-card class=card-padding><div class="card-header text-center">Top Twitter Reach</div><uib-tabset class=tabs active=topReach><uib-tab class=twitter-tab index=0 heading=""><h3 ng-show="vm.topReachTwitter.length===0">No Reach Found</h3><div class=md-3-line ng-repeat="tweet in vm.topReachTwitter"><img ng-src={{tweet.image}} height=48px width=48px style="float: left;margin: 15px"><div style="width: 320px;float: left;margin: 10px;height:60px;overflow: hidden">{{tweet.first_head}}<br><div style="font-weight: 400">{{tweet.second_head}}</div></div><div style="margin: 30px 0 30px 30px;float:left">{{tweet.rank}}</div></div></uib-tab></uib-tabset></md-card></div><!-- Top Infulencers --><div class="col-xs-6 reduce-padding"><md-card class=card-padding><div class="card-header text-center">Top Twitter Influencers</div><uib-tabset class=tabs active=topInfulencer><uib-tab class=twitter-tab index=0 heading=""><h3 ng-show="vm.twitterInfluencers.length===0">No Influencers Found</h3><div ng-repeat="tweeInflu in vm.twitterInfluencers"><img ng-src={{tweeInflu.image}} height=48px width=48px style="float: left;margin: 15px"><div style="width: 320px;float: left;margin: 10px;height:60px;overflow: hidden">{{tweeInflu.first_head}}<br><div style="font-weight: 400">{{tweeInflu.second_head}}</div></div><div style="margin: 30px 20px;float:left;width: 40px">{{tweeInflu.rank}} <i class="fa fa-star star"></i></div></div></uib-tab></uib-tabset></md-card></div></div><div class="col-xs-12 reduce-padding"><!-- Top reach --><div class="col-xs-6 reduce-padding"><md-card class=card-padding><div class="card-header text-center">Top Web Reach</div><uib-tabset class=tabs active=topReach><uib-tab class=web-tab index=0 heading=""><h3 ng-show="vm.topReachWeb.length===0">No Reach Found</h3><div ng-repeat="website in vm.topReachWeb"><img ng-src={{website.image}} height=48px width=48px style="float: left;margin: 15px"><div style="width: 320px;float: left;margin: 10px;height:60px;overflow: hidden">{{website.first_head}}<br><div style="font-weight: 400">{{website.second_head}}</div></div><div style="margin: 30px 0 30px 30px;float:left">{{website.rank}}</div></div></uib-tab></uib-tabset></md-card></div><!-- Top Influencers --><div class="col-xs-6 reduce-padding"><md-card class=card-padding><div class="card-header text-center">Top Web Influencers</div><uib-tabset class=tabs active=topInfulencer><uib-tab class=web-tab index=0 heading=""><h3 ng-show="vm.webInfluencers.length === 0">No Influencers Found</h3><div ng-repeat="webInflu in vm.webInfluencers"><img ng-src={{webInflu.image}} height=48px width=48px style="float: left;margin: 15px"><div style="width: 320px;float: left;margin: 10px;height:60px;overflow: hidden">{{webInflu.first_head}}<br><div style="font-weight: 400">{{webInflu.second_head}}</div></div><div style="margin: 30px 20px;float:left;width: 40px">{{webInflu.rank}} <i class="fa fa-star star"></i></div></div></uib-tab></uib-tabset></md-card></div></div><!--  Fourth layer End --><!--  Fifth layer --><div class="col-xs-12 reduce-padding"><!-- Mention by Sources --><div class="col-xs-4 reduce-padding"><md-card><div class=row><div class="col-xs-12 mention-by-sources"><div class="col-xs-12 card-header text-center">Mentions By Sources</div><div class="col-xs-12 sources-container"><span class="col-xs-2 reduce-padding"><i class="text-center facebook-icon fa fa-facebook fa-2x"></i> </span><span class="col-xs-10 reduce-padding"><div class=fb-color>{{vm.mentionBySources.Facebook.value}} ({{vm.mentionBySources.Facebook.percentage | number:2}}%)</div><md-progress-linear class=fb-progress-bar md-mode=determinate value={{vm.mentionBySources.Facebook.percentage}}></md-progress-linear></span></div><div class="col-xs-12 sources-container"><span class="col-xs-2 reduce-padding"><i class="text-center twitter-icon fa fa-twitter fa-2x"></i> </span><span class="col-xs-10 reduce-padding"><div class=twitter-color>{{vm.mentionBySources.Twitter.value}} ({{vm.mentionBySources.Twitter.percentage | number:2}}%)</div><md-progress-linear class=twitter-progress-bar md-mode=determinate value={{vm.mentionBySources.Twitter.percentage}}></md-progress-linear></span></div><div class="col-xs-12 sources-container"><span class="col-xs-2 reduce-padding"><i class="text-center web-icon fa fa-globe fa-2x"></i> </span><span class="col-xs-10 reduce-padding"><div class=web-color>{{vm.mentionBySources.Web.value}} ({{vm.mentionBySources.Web.percentage | number:2}}%)</div><md-progress-linear class=web-progress-bar md-mode=determinate value={{vm.mentionBySources.Web.percentage}}></md-progress-linear></span></div></div></div></md-card></div><!-- Activity by Day --><div class="col-xs-8 reduce-padding"><md-card><div id=activity-by-day style="padding: 20px;height: 300px">Placeholder for chart</div></md-card></div></div><!--  Fifth layer End --><!--  Sixth layer --><div class="col-xs-12 reduce-padding"><!-- Sentiments --><div class="col-xs-6 reduce-padding"><md-card><div id=sentiments style="padding: 20px;height: 300px">Placeholder for chart</div></md-card></div><!-- Word Cloud --><div class="col-xs-6 reduce-padding"><md-card><div class=graph-header id=treeMapChart style="padding: 20px;height: 300px"></div></md-card></div></div><!--  Sixth layer End --></div></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-388167cdac.js.map
